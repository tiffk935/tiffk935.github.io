(self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[]).push([[49],{771:function(t,e,r){"use strict";r.d(e,{s_:function(){return u},JO:function(){return st}});let i=0;function m(){100<i||(100===i||Array.prototype.slice.call(arguments),i++)}function f(){Array.prototype.slice.call(arguments)}function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=16*Math.random()|0,r="x"===t?e:3&e|8;return r.toString(16).toUpperCase()})}function s(t){return 0==(t&t-1)}class n{constructor(t){if(this.type="Scene",t&&"Renderer"===t.type){if(!t.gl)return void f(this.type+": Renderer WebGL context is undefined",t)}else f(this.type+": Renderer not passed as first argument",t);this.renderer=t,this.gl=t.gl,this.initStacks()}initStacks(){this.stacks={pingPong:[],renderTargets:[],opaque:[],transparent:[],renderPasses:[],scenePasses:[]}}resetPlaneStacks(){this.stacks.pingPong=[],this.stacks.renderTargets=[],this.stacks.opaque=[],this.stacks.transparent=[];for(let t=0;t<this.renderer.planes.length;t++)this.addPlane(this.renderer.planes[t])}resetShaderPassStacks(){this.stacks.scenePasses=[],this.stacks.renderPasses=[];for(let t=0;t<this.renderer.shaderPasses.length;t++)this.renderer.shaderPasses[t].index=t,(this.renderer.shaderPasses[t]._isScenePass?this.stacks.scenePasses:this.stacks.renderPasses).push(this.renderer.shaderPasses[t]);0===this.stacks.scenePasses.length&&(this.renderer.state.scenePassIndex=null)}addToRenderTargetsStack(e){const r=this.renderer.planes.filter(t=>"PingPongPlane"!==t.type&&t.target&&t.uuid!==e.uuid);let i=-1;if(e.target._depth){for(let t=r.length-1;0<=t;t--)if(r[t].target.uuid===e.target.uuid){i=t+1;break}}else i=r.findIndex(t=>t.target.uuid===e.target.uuid);i=Math.max(0,i),r.splice(i,0,e),e.target._depth?(r.sort((t,e)=>t.index-e.index),r.sort((t,e)=>e.renderOrder-t.renderOrder)):(r.sort((t,e)=>e.index-t.index),r.sort((t,e)=>t.renderOrder-e.renderOrder)),r.sort((t,e)=>t.target.index-e.target.index),this.stacks.renderTargets=r}addToRegularPlaneStack(e){const r=this.renderer.planes.filter(t=>"PingPongPlane"!==t.type&&!t.target&&t._transparent===e._transparent&&t.uuid!==e.uuid);let i=-1;for(let t=r.length-1;0<=t;t--)if(r[t]._geometry.definition.id===e._geometry.definition.id){i=t+1;break}return i=Math.max(0,i),r.splice(i,0,e),r.sort((t,e)=>t.index-e.index),r}addPlane(t){if("PingPongPlane"===t.type)this.stacks.pingPong.push(t);else if(t.target)this.addToRenderTargetsStack(t);else if(t._transparent){const e=this.addToRegularPlaneStack(t);e.sort((t,e)=>e.relativeTranslation.z-t.relativeTranslation.z),e.sort((t,e)=>e.renderOrder-t.renderOrder),this.stacks.transparent=e}else{const r=this.addToRegularPlaneStack(t);r.sort((t,e)=>e.renderOrder-t.renderOrder),this.stacks.opaque=r}}removePlane(e){"PingPongPlane"===e.type?this.stacks.pingPong=this.stacks.pingPong.filter(t=>t.uuid!==e.uuid):e.target?this.stacks.renderTargets=this.stacks.renderTargets.filter(t=>t.uuid!==e.uuid):e._transparent?this.stacks.transparent=this.stacks.transparent.filter(t=>t.uuid!==e.uuid):this.stacks.opaque=this.stacks.opaque.filter(t=>t.uuid!==e.uuid)}setPlaneRenderOrder(t){if("ShaderPass"===t.type)this.sortShaderPassStack(t._isScenePass?this.stacks.scenePasses:this.stacks.renderPasses);else if("PingPongPlane"===t.type)return;if(t.target)t.target._depth?(this.stacks.renderTargets.sort((t,e)=>t.index-e.index),this.stacks.renderTargets.sort((t,e)=>e.renderOrder-t.renderOrder)):(this.stacks.renderTargets.sort((t,e)=>e.index-t.index),this.stacks.renderTargets.sort((t,e)=>t.renderOrder-e.renderOrder)),this.stacks.renderTargets.sort((t,e)=>t.target.index-e.target.index);else{const r=t._transparent?this.stacks.transparent:this.stacks.opaque;var e=this.stacks.scenePasses.find((t,e)=>t._isScenePass&&!t._depth&&0===e);!this.renderer.depth||e?(r.sort((t,e)=>e.index-t.index),t._transparent&&r.sort((t,e)=>t.relativeTranslation.z-e.relativeTranslation.z),r.sort((t,e)=>t.renderOrder-e.renderOrder)):(r.sort((t,e)=>t.index-e.index),t._transparent&&r.sort((t,e)=>e.relativeTranslation.z-t.relativeTranslation.z),r.sort((t,e)=>e.renderOrder-t.renderOrder))}}addShaderPass(t){t._isScenePass?(this.stacks.scenePasses.push(t),this.sortShaderPassStack(this.stacks.scenePasses)):(this.stacks.renderPasses.push(t),this.sortShaderPassStack(this.stacks.renderPasses))}removeShaderPass(t){this.resetShaderPassStacks()}sortShaderPassStack(t){t.sort((t,e)=>t.index-e.index),t.sort((t,e)=>t.renderOrder-e.renderOrder)}enableShaderPass(){this.stacks.scenePasses.length&&0===this.stacks.renderPasses.length&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target))}drawRenderPasses(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target));for(let t=0;t<this.stacks.renderPasses.length;t++)this.stacks.renderPasses[t]._startDrawing(),this.renderer.clearDepth()}drawScenePasses(){for(let t=0;t<this.stacks.scenePasses.length;t++)this.stacks.scenePasses[t]._startDrawing()}drawPingPongStack(){for(let t=0;t<this.stacks.pingPong.length;t++){const e=this.stacks.pingPong[t];e&&e._startDrawing()}}drawStack(e){for(let t=0;t<this.stacks[e].length;t++){const r=this.stacks[e][t];r&&r._startDrawing()}}draw(){this.drawPingPongStack(),this.enableShaderPass(),this.drawStack("renderTargets"),this.drawRenderPasses(),this.renderer.setBlending(!1),this.drawStack("opaque"),this.stacks.transparent.length&&(this.renderer.setBlending(!0),this.drawStack("transparent")),this.drawScenePasses()}}class a{constructor(){this.geometries=[],this.clear()}clear(){this.textures=[],this.programs=[]}getGeometryFromID(e){return this.geometries.find(t=>t.id===e)}addGeometry(t,e,r){this.geometries.push({id:t,vertices:e,uvs:r})}isSameShader(t,e){return 0===t.localeCompare(e)}getProgramFromShaders(e,r){return this.programs.find(t=>this.isSameShader(t.vsCode,e)&&this.isSameShader(t.fsCode,r))}addProgram(t){this.programs.push(t)}getTextureFromSource(t){const e="string"==typeof t?t:t.src;return this.textures.find(t=>t.source&&t.source.src===e)}addTexture(t){this.getTextureFromSource(t.source)||this.textures.push(t)}removeTexture(e){this.textures=this.textures.filter(t=>t.uuid!==e.uuid)}}class o{constructor(){this.clear()}clear(){this.queue=[]}add(t,e=!1){const r={callback:t,keep:e,timeout:null};return r.timeout=setTimeout(()=>{this.queue.push(r)},0),r}execute(){this.queue.map(t=>{t.callback&&t.callback(),clearTimeout(this.queue.timeout)}),this.queue=this.queue.filter(t=>t.keep)}}class h{constructor({alpha:t,antialias:e,premultipliedAlpha:r,depth:i,failIfMajorPerformanceCaveat:s,preserveDrawingBuffer:n,stencil:a,container:o,pixelRatio:h,renderingScale:l,production:u,onError:d,onSuccess:c,onContextLost:p,onContextRestored:f,onDisposed:g,onSceneChange:_}){this.type="Renderer",this.alpha=t,this.antialias=e,this.premultipliedAlpha=r,this.depth=i,this.failIfMajorPerformanceCaveat=s,this.preserveDrawingBuffer=n,this.stencil=a,this.container=o,this.pixelRatio=h,this._renderingScale=l,this.production=u,this.onError=d,this.onSuccess=c,this.onContextLost=p,this.onContextRestored=f,this.onDisposed=g,this.onSceneChange=_,this.initState(),this.canvas=document.createElement("canvas");_={alpha:this.alpha,premultipliedAlpha:this.premultipliedAlpha,antialias:this.antialias,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil};if(this.gl=this.canvas.getContext("webgl2",_),this._isWebGL2=!!this.gl,this.gl||(this.gl=this.canvas.getContext("webgl",_)||this.canvas.getContext("experimental-webgl",_)),!this.gl)return this.production||m(this.type+": WebGL context could not be created"),this.state.isActive=!1,void(this.onError&&this.onError());this.onSuccess&&this.onSuccess(),this.initRenderer()}initState(){this.state={isActive:!0,isContextLost:!0,drawingEnabled:!0,forceRender:!1,currentProgramID:null,currentGeometryID:null,forceBufferUpdate:!1,depthTest:null,blending:null,cullFace:null,frameBufferID:null,scenePassIndex:null,activeTexture:null,unpackAlignment:null,flipY:null,premultiplyAlpha:null}}initCallbackQueueManager(){this.nextRender=new o}initRenderer(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this.state.isContextLost=!1,this.initCallbackQueueManager(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache=new a,this.scene=new n(this),this.getExtensions(),this._contextLostHandler=this.contextLost.bind(this),this.canvas.addEventListener("webglcontextlost",this._contextLostHandler,!1),this._contextRestoredHandler=this.contextRestored.bind(this),this.canvas.addEventListener("webglcontextrestored",this._contextRestoredHandler,!1)}getExtensions(){this.extensions=[],this._isWebGL2?(this.extensions.EXT_color_buffer_float=this.gl.getExtension("EXT_color_buffer_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic")):(this.extensions.OES_vertex_array_object=this.gl.getExtension("OES_vertex_array_object"),this.extensions.OES_texture_float=this.gl.getExtension("OES_texture_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.OES_texture_half_float=this.gl.getExtension("OES_texture_half_float"),this.extensions.OES_texture_half_float_linear=this.gl.getExtension("OES_texture_half_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic"),this.extensions.OES_element_index_uint=this.gl.getExtension("OES_element_index_uint"),this.extensions.OES_standard_derivatives=this.gl.getExtension("OES_standard_derivatives"),this.extensions.EXT_sRGB=this.gl.getExtension("EXT_sRGB"),this.extensions.WEBGL_depth_texture=this.gl.getExtension("WEBGL_depth_texture"),this.extensions.WEBGL_draw_buffers=this.gl.getExtension("WEBGL_draw_buffers")),this.extensions.WEBGL_lose_context=this.gl.getExtension("WEBGL_lose_context")}contextLost(t){this.state.isContextLost=!0,this.state.isActive&&(t.preventDefault(),this.nextRender.add(()=>this.onContextLost&&this.onContextLost()))}restoreContext(){this.state.isActive&&(this.initState(),this.gl&&this.extensions.WEBGL_lose_context?this.extensions.WEBGL_lose_context.restoreContext():(this.gl||this.production?this.extensions.WEBGL_lose_context||this.production||m(this.type+": Could not restore the context because the restore context extension is not defined"):m(this.type+": Could not restore the context because the context is not defined"),this.onError&&this.onError()))}isContextexFullyRestored(){let r=!0;for(let t=0;t<this.renderTargets.length;t++){this.renderTargets[t].textures[0]._canDraw||(r=!1);break}if(r)for(let e=0;e<this.planes.length;e++){if(!this.planes[e]._canDraw){r=!1;break}for(let t=0;t<this.planes[e].textures.length;t++)if(!this.planes[e].textures[t]._canDraw){r=!1;break}}if(r)for(let e=0;e<this.shaderPasses.length;e++){if(!this.shaderPasses[e]._canDraw){r=!1;break}for(let t=0;t<this.shaderPasses[e].textures.length;t++)if(!this.shaderPasses[e].textures[t]._canDraw){r=!1;break}}return r}contextRestored(){this.getExtensions(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache.clear(),this.scene.initStacks();for(let t=0;t<this.renderTargets.length;t++)this.renderTargets[t]._restoreContext();for(let t=0;t<this.planes.length;t++)this.planes[t]._restoreContext();for(let t=0;t<this.shaderPasses.length;t++)this.shaderPasses[t]._restoreContext();const t=this.nextRender.add(()=>{this.isContextexFullyRestored()&&(t.keep=!1,this.state.isContextLost=!1,this.onContextRestored&&this.onContextRestored(),this.onSceneChange(),this.needRender())},!0)}setPixelRatio(t){this.pixelRatio=t}setSize(){var t,e;this.gl&&(e=this.container.getBoundingClientRect(),this._boundingRect={width:e.width*this.pixelRatio,height:e.height*this.pixelRatio,top:e.top*this.pixelRatio,left:e.left*this.pixelRatio},t=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t&&e&&(this._boundingRect.top=function(t){let e=0;for(;t&&!isNaN(t.offsetTop);)e+=t.offsetTop-t.scrollTop,t=t.offsetParent;return e}(this.container)*this.pixelRatio),this.canvas.style.width=Math.floor(this._boundingRect.width/this.pixelRatio)+"px",this.canvas.style.height=Math.floor(this._boundingRect.height/this.pixelRatio)+"px",this.canvas.width=Math.floor(this._boundingRect.width*this._renderingScale),this.canvas.height=Math.floor(this._boundingRect.height*this._renderingScale),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight))}resize(){for(let t=0;t<this.planes.length;t++)this.planes[t]._canDraw&&this.planes[t].resize();for(let t=0;t<this.shaderPasses.length;t++)this.shaderPasses[t]._canDraw&&this.shaderPasses[t].resize();for(let t=0;t<this.renderTargets.length;t++)this.renderTargets[t].resize();this.needRender()}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}clearDepth(){this.gl.clear(this.gl.DEPTH_BUFFER_BIT)}clearColor(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}bindFrameBuffer(t,e){let r=null;t?(r=t.index,r!==this.state.frameBufferID&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t._frameBuffer),this.gl.viewport(0,0,t._size.width,t._size.height),t._shouldClear&&!e&&this.clear())):null!==this.state.frameBufferID&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)),this.state.frameBufferID=r}setDepthTest(t){t&&!this.state.depthTest?(this.state.depthTest=t,this.gl.enable(this.gl.DEPTH_TEST)):!t&&this.state.depthTest&&(this.state.depthTest=t,this.gl.disable(this.gl.DEPTH_TEST))}setDepthFunc(){this.gl.depthFunc(this.gl.LEQUAL)}setBlending(t=!1){t&&!this.state.blending?(this.state.blending=t,this.gl.enable(this.gl.BLEND)):!t&&this.state.blending&&(this.state.blending=t,this.gl.disable(this.gl.BLEND))}setBlendFunc(){this.gl.enable(this.gl.BLEND),this.premultipliedAlpha?this.gl.blendFuncSeparate(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}setFaceCulling(t){this.state.cullFace!==t&&("none"===(this.state.cullFace=t)?this.gl.disable(this.gl.CULL_FACE):(t="front"===t?this.gl.FRONT:this.gl.BACK,this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(t)))}useProgram(t){null!==this.state.currentProgramID&&this.state.currentProgramID===t.id||(this.gl.useProgram(t.program),this.state.currentProgramID=t.id)}removePlane(e){this.gl&&(this.planes=this.planes.filter(t=>t.uuid!==e.uuid),this.scene.removePlane(e),e=null,this.gl&&this.clear(),this.onSceneChange())}removeRenderTarget(e){if(this.gl){var t=this.planes.find(t=>"PingPongPlane"!==t.type&&t.target&&t.target.uuid===e.uuid);for(let t=0;t<this.planes.length;t++)this.planes[t].target&&this.planes[t].target.uuid===e.uuid&&(this.planes[t].target=null);this.renderTargets=this.renderTargets.filter(t=>t.uuid!==e.uuid);for(let t=0;t<this.renderTargets.length;t++)this.renderTargets[t].index=t;e=null,this.gl&&this.clear(),t&&this.scene.resetPlaneStacks(),this.onSceneChange()}}removeShaderPass(e){this.gl&&(this.shaderPasses=this.shaderPasses.filter(t=>t.uuid!==e.uuid),this.scene.removeShaderPass(e),e=null,this.gl&&this.clear(),this.onSceneChange())}enableDrawing(){this.state.drawingEnabled=!0}disableDrawing(){this.state.drawingEnabled=!1}needRender(){this.state.forceRender=!0}render(){this.gl&&(this.clear(),this.state.currentGeometryID=null,this.scene.draw())}deletePrograms(){for(let t=0;t<this.cache.programs.length;t++){var e=this.cache.programs[t];this.gl.deleteProgram(e.program)}}dispose(){if(this.gl){for(this.state.isActive=!1;0<this.planes.length;)this.removePlane(this.planes[0]);for(;0<this.shaderPasses.length;)this.removeShaderPass(this.shaderPasses[0]);for(;0<this.renderTargets.length;)this.removeRenderTarget(this.renderTargets[0]);let t=this.nextRender.add(()=>{0===this.planes.length&&0===this.shaderPasses.length&&0===this.renderTargets.length&&(t.keep=!1,this.deletePrograms(),this.clear(),this.canvas.removeEventListener("webgllost",this._contextLostHandler,!1),this.canvas.removeEventListener("webglrestored",this._contextRestoredHandler,!1),this.gl&&this.extensions.WEBGL_lose_context&&this.extensions.WEBGL_lose_context.loseContext(),this.canvas.width=this.canvas.width,this.gl=null,this.container.removeChild(this.canvas),this.container=null,this.canvas=null,this.onDisposed&&this.onDisposed())},!0)}}}class l{constructor({xOffset:t=0,yOffset:e=0,lastXDelta:r=0,lastYDelta:i=0,shouldWatch:s=!0,onScroll:n=()=>{}}={}){this.xOffset=t,this.yOffset=e,this.lastXDelta=r,this.lastYDelta=i,this.shouldWatch=s,this.onScroll=n,this.handler=this.scroll.bind(this,!0),this.shouldWatch&&window.addEventListener("scroll",this.handler,{passive:!0})}scroll(){this.updateScrollValues(window.pageXOffset,window.pageYOffset)}updateScrollValues(t,e){var r=this.xOffset;this.xOffset=t,this.lastXDelta=r-this.xOffset;r=this.yOffset;this.yOffset=e,this.lastYDelta=r-this.yOffset,this.onScroll&&this.onScroll(this.lastXDelta,this.lastYDelta)}dispose(){this.shouldWatch&&window.removeEventListener("scroll",this.handler,{passive:!0})}}
/***
 Here we create our Curtains object


 params:
 @container (HTML element or string, optional): the container HTML element or ID that will hold our canvas. Could be set later if not passed as parameter here

 (WebGL context parameters)
 @alpha (bool, optional): whether the WebGL context should handle transparency. Default to true.
 @premultipliedAlpha (bool, optional): whether the WebGL context should handle premultiplied alpha. Default to false.
 @antialias (bool, optional): whether the WebGL context should use the default antialiasing. When using render targets, WebGL disables antialiasing, so you can safely set this to false to improve the performance. Default to true.
 @depth (bool, optional): whether the WebGL context should handle depth. Default to true.
 @failIfMajorPerformanceCaveat (bool, optional): whether the WebGL context creation should fail in case of major performance caveat. Default to true.
 @preserveDrawingBuffer (bool, optional): whether the WebGL context should preserve the drawing buffer. Default to false.
 @stencil (bool, optional): whether the WebGL context should handle stencil. Default to false.

 @autoResize (bool, optional): Whether the library should listen to the window resize event and actually resize the scene. Set it to false if you want to handle this by yourself using the resize() method. Default to true.
 @autoRender (bool, optional): Whether the library should create a request animation frame loop to render the scene. Set it to false if you want to handle this by yourself using the render() method. Default to true.
 @watchScroll (bool, optional): Whether the library should listen to the window scroll event. Set it to false if you want to handle this by yourself. Default to true.

 @pixelRatio (float, optional): Defines the pixel ratio value. Use it to limit it on init to increase performance. Default to window.devicePixelRatio.
 @renderingScale (float, optional): Use it to downscale your rendering canvas. May improve performance but will decrease quality. Default to 1 (minimum: 0.25, maximum: 1).

 @production (bool, optional): Whether the library should throw useful console warnings and errors and check shaders and programs compilation status. Default to false.

 returns :
 @this: our Renderer
 ***/
class u{constructor({container:t,alpha:e=!0,premultipliedAlpha:r=!1,antialias:i=!0,depth:s=!0,failIfMajorPerformanceCaveat:n=!0,preserveDrawingBuffer:a=!1,stencil:o=!1,autoResize:h=!0,autoRender:l=!0,watchScroll:u=!0,pixelRatio:d=window.devicePixelRatio||1,renderingScale:c=1,production:p=!1}={}){this.type="Curtains",this._autoResize=h,this._autoRender=l,this._watchScroll=u,this.pixelRatio=d,c=isNaN(c)?1:parseFloat(c),this._renderingScale=Math.max(.25,Math.min(1,c)),this.premultipliedAlpha=r,this.alpha=e,this.antialias=i,this.depth=s,this.failIfMajorPerformanceCaveat=n,this.preserveDrawingBuffer=a,this.stencil=o,this.production=p,this.errors=!1,t?this.setContainer(t):this.production||m(this.type+": no container provided in the initial parameters. Use setContainer() method to set one later and initialize the WebGL context")}setContainer(t){if(t)if("string"==typeof t)if(t=document.getElementById(t))this.container=t;else{let t=document.createElement("div");t.setAttribute("id","curtains-canvas"),document.body.appendChild(t),this.container=t,this.production||m('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}else t instanceof Element&&(this.container=t);else{let t=document.createElement("div");t.setAttribute("id","curtains-canvas"),document.body.appendChild(t),this.container=t,this.production||m('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}this._initCurtains()}_initCurtains(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this._initRenderer(),this.gl&&(this._initScroll(),this._setSize(),this._addListeners(),this.container.appendChild(this.canvas),this._animationFrameID=null,this._autoRender&&this._animate())}_initRenderer(){this.renderer=new h({alpha:this.alpha,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil,container:this.container,pixelRatio:this.pixelRatio,renderingScale:this._renderingScale,production:this.production,onError:()=>this._onRendererError(),onSuccess:()=>this._onRendererSuccess(),onContextLost:()=>this._onRendererContextLost(),onContextRestored:()=>this._onRendererContextRestored(),onDisposed:()=>this._onRendererDisposed(),onSceneChange:()=>this._keepSync()}),this.gl=this.renderer.gl,this.canvas=this.renderer.canvas}restoreContext(){this.renderer.restoreContext()}_animate(){this.render(),this._animationFrameID=window.requestAnimationFrame(this._animate.bind(this))}enableDrawing(){this.renderer.enableDrawing()}disableDrawing(){this.renderer.disableDrawing()}needRender(){this.renderer.needRender()}nextRender(t,e=!1){return this.renderer.nextRender.add(t,e)}clear(){this.renderer&&this.renderer.clear()}clearDepth(){this.renderer&&this.renderer.clearDepth()}clearColor(){this.renderer&&this.renderer.clearColor()}isWebGL2(){return!!this.gl&&this.renderer._isWebGL2}render(){this.renderer.nextRender.execute(),(this.renderer.state.drawingEnabled||this.renderer.state.forceRender)&&(this.renderer.state.forceRender&&(this.renderer.state.forceRender=!1),this._onRenderCallback&&this._onRenderCallback(),this.renderer.render())}_addListeners(){this._resizeHandler=null,this._autoResize&&(this._resizeHandler=this.resize.bind(this,!0),window.addEventListener("resize",this._resizeHandler,!1))}setPixelRatio(t,e){this.pixelRatio=parseFloat(Math.max(t,1))||1,this.renderer.setPixelRatio(t),this.resize(e)}_setSize(){this.renderer.setSize(),this._scrollManager.shouldWatch&&(this._scrollManager.xOffset=window.pageXOffset,this._scrollManager.yOffset=window.pageYOffset)}getBoundingRect(){return this.renderer._boundingRect}resize(t){this.gl&&(this._setSize(),this.renderer.resize(),this.nextRender(()=>{this._onAfterResizeCallback&&t&&this._onAfterResizeCallback()}))}_initScroll(){this._scrollManager=new l({xOffset:window.pageXOffset,yOffset:window.pageYOffset,lastXDelta:0,lastYDelta:0,shouldWatch:this._watchScroll,onScroll:(t,e)=>this._updateScroll(t,e)})}_updateScroll(e,r){for(let t=0;t<this.planes.length;t++)this.planes[t].watchScroll&&this.planes[t].updateScrollPosition(e,r);this.renderer.needRender(),this._onScrollCallback&&this._onScrollCallback()}updateScrollValues(t,e){this._scrollManager.updateScrollValues(t,e)}getScrollDeltas(){return{x:this._scrollManager.lastXDelta,y:this._scrollManager.lastYDelta}}getScrollValues(){return{x:this._scrollManager.xOffset,y:this._scrollManager.yOffset}}_keepSync(){this.planes=this.renderer.planes,this.shaderPasses=this.renderer.shaderPasses,this.renderTargets=this.renderer.renderTargets}lerp(t,e,r){return(1-(r=r))*t+r*e}onAfterResize(t){return t&&(this._onAfterResizeCallback=t),this}onError(t){return t&&(this._onErrorCallback=t),this}_onRendererError(){setTimeout(()=>{this._onErrorCallback&&!this.errors&&this._onErrorCallback(),this.errors=!0},0)}onSuccess(t){return t&&(this._onSuccessCallback=t),this}_onRendererSuccess(){setTimeout(()=>{this._onSuccessCallback&&this._onSuccessCallback()},0)}onContextLost(t){return t&&(this._onContextLostCallback=t),this}_onRendererContextLost(){this._onContextLostCallback&&this._onContextLostCallback()}onContextRestored(t){return t&&(this._onContextRestoredCallback=t),this}_onRendererContextRestored(){this._onContextRestoredCallback&&this._onContextRestoredCallback()}onRender(t){return t&&(this._onRenderCallback=t),this}onScroll(t){return t&&(this._onScrollCallback=t),this}dispose(){this.renderer.dispose()}_onRendererDisposed(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler,!1),this._scrollManager&&this._scrollManager.dispose()}}class d{constructor(t,e,r){if(this.type="Uniforms",t&&"Renderer"===t.type){if(!t.gl)return void f(this.type+": Renderer WebGL context is undefined",t)}else f(this.type+": Renderer not passed as first argument",t);if(this.renderer=t,this.gl=t.gl,this.program=e,this.uniforms={},r)for(const i in r){const s=r[i];this.uniforms[i]={name:s.name,type:s.type,value:s.value.clone&&"function"==typeof s.value.clone?s.value.clone():s.value,update:null}}}handleUniformSetting(t){switch(t.type){case"1i":t.update=this.setUniform1i.bind(this);break;case"1iv":t.update=this.setUniform1iv.bind(this);break;case"1f":t.update=this.setUniform1f.bind(this);break;case"1fv":t.update=this.setUniform1fv.bind(this);break;case"2i":t.update=this.setUniform2i.bind(this);break;case"2iv":t.update=this.setUniform2iv.bind(this);break;case"2f":t.update=this.setUniform2f.bind(this);break;case"2fv":t.update=this.setUniform2fv.bind(this);break;case"3i":t.update=this.setUniform3i.bind(this);break;case"3iv":t.update=this.setUniform3iv.bind(this);break;case"3f":t.update=this.setUniform3f.bind(this);break;case"3fv":t.update=this.setUniform3fv.bind(this);break;case"4i":t.update=this.setUniform4i.bind(this);break;case"4iv":t.update=this.setUniform4iv.bind(this);break;case"4f":t.update=this.setUniform4f.bind(this);break;case"4fv":t.update=this.setUniform4fv.bind(this);break;case"mat2":t.update=this.setUniformMatrix2fv.bind(this);break;case"mat3":t.update=this.setUniformMatrix3fv.bind(this);break;case"mat4":t.update=this.setUniformMatrix4fv.bind(this);break;default:this.renderer.production||m(this.type+": This uniform type is not handled : ",t.type)}}setInternalFormat(t){"Vec2"===t.value.type?(t._internalFormat="Vec2",t.lastValue=t.value.clone()):"Vec3"===t.value.type?(t._internalFormat="Vec3",t.lastValue=t.value.clone()):"Mat4"===t.value.type?(t._internalFormat="Mat4",t.lastValue=t.value.clone()):"Quat"===t.value.type?(t._internalFormat="Quat",t.lastValue=t.value.clone()):Array.isArray(t.value)?(t._internalFormat="array",t.lastValue=Array.from(t.value)):(t.value.constructor===Float32Array?t._internalFormat="mat":t._internalFormat="float",t.lastValue=t.value)}setUniforms(){if(this.uniforms)for(const e in this.uniforms){let t=this.uniforms[e];t.location=this.gl.getUniformLocation(this.program,t.name),t._internalFormat||this.setInternalFormat(t),t.type||("Vec2"===t._internalFormat?t.type="2f":"Vec3"===t._internalFormat?t.type="3f":"Mat4"===t._internalFormat?t.type="mat4":"array"===t._internalFormat?4===t.value.length?(t.type="4f",this.renderer.production||m(this.type+": No uniform type declared for "+t.name+", applied a 4f (array of 4 floats) uniform type")):3===t.value.length?(t.type="3f",this.renderer.production||m(this.type+": No uniform type declared for "+t.name+", applied a 3f (array of 3 floats) uniform type")):2===t.value.length&&(t.type="2f",this.renderer.production||m(this.type+": No uniform type declared for "+t.name+", applied a 2f (array of 2 floats) uniform type")):"mat"===t._internalFormat?16===t.value.length?(t.type="mat4",this.renderer.production||m(this.type+": No uniform type declared for "+t.name+", applied a mat4 (4x4 matrix array) uniform type")):9===t.value.length?(t.type="mat3",this.renderer.production||m(this.type+": No uniform type declared for "+t.name+", applied a mat3 (3x3 matrix array) uniform type")):4===t.value.length&&(t.type="mat2",this.renderer.production||m(this.type+": No uniform type declared for "+t.name+", applied a mat2 (2x2 matrix array) uniform type")):(t.type="1f",this.renderer.production||m(this.type+": No uniform type declared for "+t.name+", applied a 1f (float) uniform type"))),this.handleUniformSetting(t),t.update&&t.update(t)}}updateUniforms(){if(this.uniforms)for(const e in this.uniforms){const r=this.uniforms[e];let t=!1;"Vec2"===r._internalFormat||"Vec3"===r._internalFormat||"Quat"===r._internalFormat?r.value.equals(r.lastValue)||(t=!0,r.lastValue.copy(r.value)):r.value.length?JSON.stringify(r.value)!==JSON.stringify(r.lastValue)&&(t=!0,r.lastValue=Array.from(r.value)):r.value!==r.lastValue&&(t=!0,r.lastValue=r.value),t&&r.update&&r.update(r)}}setUniform1i(t){this.gl.uniform1i(t.location,t.value)}setUniform1iv(t){this.gl.uniform1iv(t.location,t.value)}setUniform1f(t){this.gl.uniform1f(t.location,t.value)}setUniform1fv(t){this.gl.uniform1fv(t.location,t.value)}setUniform2i(t){"Vec2"===t._internalFormat?this.gl.uniform2i(t.location,t.value.x,t.value.y):this.gl.uniform2i(t.location,t.value[0],t.value[1])}setUniform2iv(t){"Vec2"===t._internalFormat?this.gl.uniform2iv(t.location,[t.value.x,t.value.y]):this.gl.uniform2iv(t.location,t.value)}setUniform2f(t){"Vec2"===t._internalFormat?this.gl.uniform2f(t.location,t.value.x,t.value.y):this.gl.uniform2f(t.location,t.value[0],t.value[1])}setUniform2fv(t){"Vec2"===t._internalFormat?this.gl.uniform2fv(t.location,[t.value.x,t.value.y]):this.gl.uniform2fv(t.location,t.value)}setUniform3i(t){"Vec3"===t._internalFormat?this.gl.uniform3i(t.location,t.value.x,t.value.y,t.value.z):this.gl.uniform3i(t.location,t.value[0],t.value[1],t.value[2])}setUniform3iv(t){"Vec3"===t._internalFormat?this.gl.uniform3iv(t.location,[t.value.x,t.value.y,t.value.z]):this.gl.uniform3iv(t.location,t.value)}setUniform3f(t){"Vec3"===t._internalFormat?this.gl.uniform3f(t.location,t.value.x,t.value.y,t.value.z):this.gl.uniform3f(t.location,t.value[0],t.value[1],t.value[2])}setUniform3fv(t){"Vec3"===t._internalFormat?this.gl.uniform3fv(t.location,[t.value.x,t.value.y,t.value.z]):this.gl.uniform3fv(t.location,t.value)}setUniform4i(t){"Quat"===t._internalFormat?this.gl.uniform4i(t.location,t.value.elements[0],t.value.elements[1],t.value.elements[2],t.value[3]):this.gl.uniform4i(t.location,t.value[0],t.value[1],t.value[2],t.value[3])}setUniform4iv(t){"Quat"===t._internalFormat?this.gl.uniform4iv(t.location,[t.value.elements[0],t.value.elements[1],t.value.elements[2],t.value[3]]):this.gl.uniform4iv(t.location,t.value)}setUniform4f(t){"Quat"===t._internalFormat?this.gl.uniform4f(t.location,t.value.elements[0],t.value.elements[1],t.value.elements[2],t.value[3]):this.gl.uniform4f(t.location,t.value[0],t.value[1],t.value[2],t.value[3])}setUniform4fv(t){"Quat"===t._internalFormat?this.gl.uniform4fv(t.location,[t.value.elements[0],t.value.elements[1],t.value.elements[2],t.value[3]]):this.gl.uniform4fv(t.location,t.value)}setUniformMatrix2fv(t){this.gl.uniformMatrix2fv(t.location,!1,t.value)}setUniformMatrix3fv(t){this.gl.uniformMatrix3fv(t.location,!1,t.value)}setUniformMatrix4fv(t){"Mat4"===t._internalFormat?this.gl.uniformMatrix4fv(t.location,!1,t.value.elements):this.gl.uniformMatrix4fv(t.location,!1,t.value)}}const c=`
precision mediump float;
`;var g=c.replace(/\n/g,"");const _=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`;r=_.replace(/\n/g,"");const x=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`;e=x.replace(/\n/g,"");const v=g+r+e+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;var y=v.replace(/\n/g,"");const b=g+e+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;var w=b.replace(/\n/g,"");const T=g+r+e+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;var P=T.replace(/\n/g,"");const R=g+e+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;var S=R.replace(/\n/g,"");let C=0;class M{constructor(t,{parent:e,vertexShader:r,fragmentShader:i}={}){if(this.type="Program",t&&"Renderer"===t.type){if(!t.gl)return void f(this.type+": Renderer WebGL context is undefined",t)}else f(this.type+": Renderer not passed as first argument",t);this.renderer=t,this.gl=this.renderer.gl,this.parent=e,this.defaultVsCode="Plane"===this.parent.type?y:P,this.defaultFsCode="Plane"===this.parent.type?w:S,r?this.vsCode=r:(this.renderer.production||"Plane"!==this.parent.type||m(this.parent.type+": No vertex shader provided, will use a default one"),this.vsCode=this.defaultVsCode),i?this.fsCode=i:(this.renderer.production||m(this.parent.type+": No fragment shader provided, will use a default one"),this.fsCode=this.defaultFsCode),this.compiled=!0,this.setupProgram()}createShader(t,r){var i=this.gl.createShader(r);if(this.gl.shaderSource(i,t),this.gl.compileShader(i),this.renderer.production||this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS))return i;{t=r===this.gl.VERTEX_SHADER?"vertex shader":"fragment shader";const s=this.gl.getShaderSource(i);let e=s.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e=e.join("\n"),m(this.type+": Errors occurred while compiling the",t,":\n",this.gl.getShaderInfoLog(i)),f(e),m(this.type+": Will use a default",t),this.createShader(r===this.gl.VERTEX_SHADER?this.defaultVsCode:this.defaultFsCode,r)}}useNewShaders(){this.vertexShader=this.createShader(this.vsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.fsCode,this.gl.FRAGMENT_SHADER),this.vertexShader&&this.fragmentShader||this.renderer.production||m(this.type+": Unable to find or compile the vertex or fragment shader")}setupProgram(){var t=this.renderer.cache.getProgramFromShaders(this.vsCode,this.fsCode);t?(this.vertexShader=t.vertexShader,this.fragmentShader=t.fragmentShader,this.activeUniforms=t.activeUniforms,this.activeAttributes=t.activeAttributes,this.createProgram()):(this.useNewShaders(),this.compiled&&(this.createProgram(),this.renderer.cache.addProgram(this)))}createProgram(){if(C++,this.id=C,this.program=this.gl.createProgram(),this.gl.attachShader(this.program,this.vertexShader),this.gl.attachShader(this.program,this.fragmentShader),this.gl.linkProgram(this.program),!this.renderer.production&&!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return m(this.type+": Unable to initialize the shader program: "+this.gl.getProgramInfoLog(this.program)),m(this.type+": Will use default vertex and fragment shaders"),this.vertexShader=this.createShader(this.defaultVsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.defaultFsCode,this.gl.FRAGMENT_SHADER),void this.createProgram();if(this.gl.deleteShader(this.vertexShader),this.gl.deleteShader(this.fragmentShader),!this.activeUniforms||!this.activeAttributes){this.activeUniforms={textures:[],textureMatrices:[]};var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let t=0;t<e;t++){var r=this.gl.getActiveUniform(this.program,t);r.type===this.gl.SAMPLER_2D&&this.activeUniforms.textures.push(r.name),r.type===this.gl.FLOAT_MAT4&&"uMVMatrix"!==r.name&&"uPMatrix"!==r.name&&this.activeUniforms.textureMatrices.push(r.name)}this.activeAttributes=[];var i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let t=0;t<i;t++){var s=this.gl.getActiveAttrib(this.program,t);this.activeAttributes.push(s.name)}}}createUniforms(t){this.uniformsManager=new d(this.renderer,this.program,t),this.setUniforms()}setUniforms(){this.renderer.useProgram(this),this.uniformsManager.setUniforms()}updateUniforms(){this.renderer.useProgram(this),this.uniformsManager.updateUniforms()}}class E{constructor(t,{width:e=1,height:r=1}={}){if(this.type="Geometry",t&&"Renderer"===t.type){if(!t.gl)return void f(this.type+": Renderer WebGL context is undefined",t)}else f(this.type+": Renderer not passed as first argument",t);this.renderer=t,this.gl=this.renderer.gl,this.definition={id:e*r+e,width:e,height:r},this.setDefaultAttributes(),this.setVerticesUVs()}restoreContext(t){this.program=null,this.setDefaultAttributes(),this.setVerticesUVs(),this.setProgram(t)}setDefaultAttributes(){this.attributes={vertexPosition:{name:"aVertexPosition",size:3,isActive:!1},textureCoord:{name:"aTextureCoord",size:3,isActive:!1}}}setVerticesUVs(){var t=this.renderer.cache.getGeometryFromID(this.definition.id);t?(this.attributes.vertexPosition.array=t.vertices,this.attributes.textureCoord.array=t.uvs):(this.computeVerticesUVs(),this.renderer.cache.addGeometry(this.definition.id,this.attributes.vertexPosition.array,this.attributes.textureCoord.array))}setProgram(t){this.program=t,this.initAttributes(),this.renderer._isWebGL2?(this._vao=this.gl.createVertexArray(),this.gl.bindVertexArray(this._vao)):this.renderer.extensions.OES_vertex_array_object&&(this._vao=this.renderer.extensions.OES_vertex_array_object.createVertexArrayOES(),this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao)),this.initializeBuffers()}initAttributes(){for(const t in this.attributes){if(this.attributes[t].isActive=this.program.activeAttributes.includes(this.attributes[t].name),!this.attributes[t].isActive)return;this.attributes[t].location=this.gl.getAttribLocation(this.program.program,this.attributes[t].name),this.attributes[t].buffer=this.gl.createBuffer(),this.attributes[t].numberOfItems=this.definition.width*this.definition.height*this.attributes[t].size*2}}computeVerticesUVs(){this.attributes.vertexPosition.array=[],this.attributes.textureCoord.array=[];const e=this.attributes.vertexPosition.array,r=this.attributes.textureCoord.array;for(let t=0;t<this.definition.height;t++){var i=t/this.definition.height;for(let t=0;t<this.definition.width;t++){var s=t/this.definition.width;r.push(s),r.push(i),r.push(0),e.push(2*(s-.5)),e.push(2*(i-.5)),e.push(0),r.push(s+1/this.definition.width),r.push(i),r.push(0),e.push(2*(s+1/this.definition.width-.5)),e.push(2*(i-.5)),e.push(0),r.push(s),r.push(i+1/this.definition.height),r.push(0),e.push(2*(s-.5)),e.push(2*(i+1/this.definition.height-.5)),e.push(0),r.push(s),r.push(i+1/this.definition.height),r.push(0),e.push(2*(s-.5)),e.push(2*(i+1/this.definition.height-.5)),e.push(0),r.push(s+1/this.definition.width),r.push(i),r.push(0),e.push(2*(s+1/this.definition.width-.5)),e.push(2*(i-.5)),e.push(0),r.push(s+1/this.definition.width),r.push(i+1/this.definition.height),r.push(0),e.push(2*(s+1/this.definition.width-.5)),e.push(2*(i+1/this.definition.height-.5)),e.push(0)}}}initializeBuffers(){if(this.attributes){for(const t in this.attributes){if(!this.attributes[t].isActive)return;this.gl.enableVertexAttribArray(this.attributes[t].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[t].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(this.attributes[t].array),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.attributes[t].location,this.attributes[t].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}}bindBuffers(){if(this._vao)this.renderer._isWebGL2?this.gl.bindVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao);else for(const t in this.attributes){if(!this.attributes[t].isActive)return;this.gl.enableVertexAttribArray(this.attributes[t].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[t].buffer),this.gl.vertexAttribPointer(this.attributes[t].location,this.attributes[t].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}draw(){this.gl.drawArrays(this.gl.TRIANGLES,0,this.attributes.vertexPosition.numberOfItems)}dispose(){this._vao&&(this.renderer._isWebGL2?this.gl.deleteVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.deleteVertexArrayOES(this._vao));for(const t in this.attributes){if(!this.attributes[t].isActive)return;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[t].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,1,this.gl.STATIC_DRAW),this.gl.deleteBuffer(this.attributes[t].buffer)}this.attributes=null,this.renderer.state.currentGeometryID=null}}class O{constructor(t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])){this.type="Mat4",this.elements=t}setFromArray(e){for(let t=0;t<this.elements.length;t++)this.elements[t]=e[t];return this}copy(t){t=t.elements;return this.elements[0]=t[0],this.elements[1]=t[1],this.elements[2]=t[2],this.elements[3]=t[3],this.elements[4]=t[4],this.elements[5]=t[5],this.elements[6]=t[6],this.elements[7]=t[7],this.elements[8]=t[8],this.elements[9]=t[9],this.elements[10]=t[10],this.elements[11]=t[11],this.elements[12]=t[12],this.elements[13]=t[13],this.elements[14]=t[14],this.elements[15]=t[15],this}clone(){return(new O).copy(this)}multiply(t){var e=this.elements,t=t.elements;let r=new O;return r.elements[0]=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],r.elements[1]=t[0]*e[1]+t[1]*e[5]+t[2]*e[9]+t[3]*e[13],r.elements[2]=t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+t[3]*e[14],r.elements[3]=t[0]*e[3]+t[1]*e[7]+t[2]*e[11]+t[3]*e[15],r.elements[4]=t[4]*e[0]+t[5]*e[4]+t[6]*e[8]+t[7]*e[12],r.elements[5]=t[4]*e[1]+t[5]*e[5]+t[6]*e[9]+t[7]*e[13],r.elements[6]=t[4]*e[2]+t[5]*e[6]+t[6]*e[10]+t[7]*e[14],r.elements[7]=t[4]*e[3]+t[5]*e[7]+t[6]*e[11]+t[7]*e[15],r.elements[8]=t[8]*e[0]+t[9]*e[4]+t[10]*e[8]+t[11]*e[12],r.elements[9]=t[8]*e[1]+t[9]*e[5]+t[10]*e[9]+t[11]*e[13],r.elements[10]=t[8]*e[2]+t[9]*e[6]+t[10]*e[10]+t[11]*e[14],r.elements[11]=t[8]*e[3]+t[9]*e[7]+t[10]*e[11]+t[11]*e[15],r.elements[12]=t[12]*e[0]+t[13]*e[4]+t[14]*e[8]+t[15]*e[12],r.elements[13]=t[12]*e[1]+t[13]*e[5]+t[14]*e[9]+t[15]*e[13],r.elements[14]=t[12]*e[2]+t[13]*e[6]+t[14]*e[10]+t[15]*e[14],r.elements[15]=t[12]*e[3]+t[13]*e[7]+t[14]*e[11]+t[15]*e[15],r}getInverse(){var t=this.elements,e=new O;const r=e.elements;var i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],h=t[5],l=t[6],u=t[7],d=t[8],c=t[9],p=t[10],f=t[11],g=t[12],_=t[13],m=t[14],x=t[15],v=i*h-s*o,y=i*l-n*o,b=i*u-a*o,w=s*l-n*h,T=s*u-a*h,P=n*u-a*l,R=d*_-c*g,S=d*m-p*g,C=d*x-f*g,M=c*m-p*_,E=c*x-f*_,A=p*x-f*m,t=v*A-y*E+b*M+w*C-T*S+P*R;return t?(t=1/t,r[0]=(h*A-l*E+u*M)*t,r[1]=(n*E-s*A-a*M)*t,r[2]=(_*P-m*T+x*w)*t,r[3]=(p*T-c*P-f*w)*t,r[4]=(l*C-o*A-u*S)*t,r[5]=(i*A-n*C+a*S)*t,r[6]=(m*b-g*P-x*y)*t,r[7]=(d*P-p*b+f*y)*t,r[8]=(o*E-h*C+u*R)*t,r[9]=(s*C-i*E-a*R)*t,r[10]=(g*T-_*b+x*v)*t,r[11]=(c*b-d*T-f*v)*t,r[12]=(h*S-o*M-l*R)*t,r[13]=(i*M-s*S+n*R)*t,r[14]=(_*y-g*w-m*v)*t,r[15]=(d*w-c*y+p*v)*t,e):null}scale(t){let e=this.elements;return e[0]*=t.x,e[1]*=t.x,e[2]*=t.x,e[3]*=t.x,e[4]*=t.y,e[5]*=t.y,e[6]*=t.y,e[7]*=t.y,e[8]*=t.z,e[9]*=t.z,e[10]*=t.z,e[11]*=t.z,this}compose(t,e,r){let i=this.elements;var s=e.elements[0],n=e.elements[1],a=e.elements[2],o=e.elements[3],h=s+s,l=n+n,u=a+a,d=s*h,c=s*l,p=s*u,e=n*l,s=n*u,n=a*u,a=o*h,h=o*l,l=o*u,o=r.x,u=r.y,r=r.z;return i[0]=(1-(e+n))*o,i[1]=(c+l)*o,i[2]=(p-h)*o,i[3]=0,i[4]=(c-l)*u,i[5]=(1-(d+n))*u,i[6]=(s+a)*u,i[7]=0,i[8]=(p+h)*r,i[9]=(s-a)*r,i[10]=(1-(d+e))*r,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}composeFromOrigin(t,e,r,i){let s=this.elements;var n=e.elements[0],a=e.elements[1],o=e.elements[2],h=e.elements[3],l=n+n,u=a+a,d=o+o,c=n*l,p=n*u,f=n*d,g=a*u,_=a*d,m=o*d,x=h*l,e=h*u,n=h*d,a=r.x,o=r.y,l=r.z,u=i.x,h=i.y,d=i.z,r=(1-(g+m))*a,i=(p+n)*a,a=(f-e)*a,n=(p-n)*o,m=(1-(c+m))*o,o=(_+x)*o,e=(f+e)*l,x=(_-x)*l,l=(1-(c+g))*l;return s[0]=r,s[1]=i,s[2]=a,s[3]=0,s[4]=n,s[5]=m,s[6]=o,s[7]=0,s[8]=e,s[9]=x,s[10]=l,s[11]=0,s[12]=t.x+u-(r*u+n*h+e*d),s[13]=t.y+h-(i*u+m*h+x*d),s[14]=t.z+d-(a*u+o*h+l*d),s[15]=1,this}}class A{constructor(t=0,e=t){this.type="Vec2",this._x=t,this._y=e}get x(){return this._x}get y(){return this._y}set x(t){var e=t!==this._x;this._x=t,e&&this._onChangeCallback&&this._onChangeCallback()}set y(t){var e=t!==this._y;this._y=t,e&&this._onChangeCallback&&this._onChangeCallback()}onChange(t){return t&&(this._onChangeCallback=t),this}set(t,e){return this._x=t,this._y=e,this}add(t){return this._x+=t.x,this._y+=t.y,this}addScalar(t){return this._x+=t,this._y+=t,this}sub(t){return this._x-=t.x,this._y-=t.y,this}subScalar(t){return this._x-=t,this._y-=t,this}multiply(t){return this._x*=t.x,this._y*=t.y,this}multiplyScalar(t){return this._x*=t,this._y*=t,this}copy(t){return this._x=t.x,this._y=t.y,this}clone(){return new A(this._x,this._y)}sanitizeNaNValuesWith(t){return this._x=isNaN(this._x)?t.x:parseFloat(this._x),this._y=isNaN(this._y)?t.y:parseFloat(this._y),this}max(t){return this._x=Math.max(this._x,t.x),this._y=Math.max(this._y,t.y),this}min(t){return this._x=Math.min(this._x,t.x),this._y=Math.min(this._y,t.y),this}equals(t){return this._x===t.x&&this._y===t.y}normalize(){let t=this._x*this._x+this._y*this._y;return 0<t&&(t=1/Math.sqrt(t)),this._x*=t,this._y*=t,this}dot(t){return this._x*t.x+this._y*t.y}}class k{constructor(t=0,e=t,r=t){this.type="Vec3",this._x=t,this._y=e,this._z=r}get x(){return this._x}get y(){return this._y}get z(){return this._z}set x(t){var e=t!==this._x;this._x=t,e&&this._onChangeCallback&&this._onChangeCallback()}set y(t){var e=t!==this._y;this._y=t,e&&this._onChangeCallback&&this._onChangeCallback()}set z(t){var e=t!==this._z;this._z=t,e&&this._onChangeCallback&&this._onChangeCallback()}onChange(t){return t&&(this._onChangeCallback=t),this}set(t,e,r){return this._x=t,this._y=e,this._z=r,this}add(t){return this._x+=t.x,this._y+=t.y,this._z+=t.z,this}addScalar(t){return this._x+=t,this._y+=t,this._z+=t,this}sub(t){return this._x-=t.x,this._y-=t.y,this._z-=t.z,this}subScalar(t){return this._x-=t,this._y-=t,this._z-=t,this}multiply(t){return this._x*=t.x,this._y*=t.y,this._z*=t.z,this}multiplyScalar(t){return this._x*=t,this._y*=t,this._z*=t,this}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this}clone(){return new k(this._x,this._y,this._z)}sanitizeNaNValuesWith(t){return this._x=isNaN(this._x)?t.x:parseFloat(this._x),this._y=isNaN(this._y)?t.y:parseFloat(this._y),this._z=isNaN(this._z)?t.z:parseFloat(this._z),this}max(t){return this._x=Math.max(this._x,t.x),this._y=Math.max(this._y,t.y),this._z=Math.max(this._z,t.z),this}min(t){return this._x=Math.min(this._x,t.x),this._y=Math.min(this._y,t.y),this._z=Math.min(this._z,t.z),this}equals(t){return this._x===t.x&&this._y===t.y&&this._z===t.z}normalize(){let t=this._x*this._x+this._y*this._y+this._z*this._z;return 0<t&&(t=1/Math.sqrt(t)),this._x*=t,this._y*=t,this._z*=t,this}dot(t){return this._x*t.x+this._y*t.y+this._z*t.z}applyMat4(t){var e=this._x,r=this._y,i=this._z,s=t.elements,t=s[3]*e+s[7]*r+s[11]*i+s[15];return this._x=(s[0]*e+s[4]*r+s[8]*i+s[12])/(t=t||1),this._y=(s[1]*e+s[5]*r+s[9]*i+s[13])/t,this._z=(s[2]*e+s[6]*r+s[10]*i+s[14])/t,this}applyQuat(t){var e=this._x,r=this._y,i=this._z,s=t.elements[0],n=t.elements[1],a=t.elements[2],o=t.elements[3],h=o*e+n*i-a*r,l=o*r+a*e-s*i,t=o*i+s*r-n*e,i=-s*e-n*r-a*i;return this._x=h*o+i*-s+l*-a-t*-n,this._y=l*o+i*-n+t*-s-h*-a,this._z=t*o+i*-a+h*-n-l*-s,this}project(t){return this.applyMat4(t.viewMatrix).applyMat4(t.projectionMatrix),this}unproject(t){return this.applyMat4(t.projectionMatrix.getInverse()).applyMat4(t.worldMatrix),this}}const F=new A,L=new k,D=new O;class z{constructor(t,{isFBOTexture:e=!1,fromTexture:r=!1,loader:i,sampler:s,floatingPoint:n="none",premultiplyAlpha:a=!1,anisotropy:o=1,generateMipmap:h=null,wrapS:l,wrapT:u,minFilter:d,magFilter:c}={}){if(this.type="Texture",(t=t&&t.renderer||t)&&"Renderer"===t.type){if(!t.gl)return void(t.production||f(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined"))}else f(this.type+": Renderer not passed as first argument",t);if(this.renderer=t,this.gl=this.renderer.gl,this.uuid=p(),this._globalParameters={unpackAlignment:4,flipY:!e,premultiplyAlpha:!1,shouldPremultiplyAlpha:a,floatingPoint:n,type:this.gl.UNSIGNED_BYTE,internalFormat:this.gl.RGBA,format:this.gl.RGBA},this.parameters={anisotropy:o,generateMipmap:h,wrapS:l||this.gl.CLAMP_TO_EDGE,wrapT:u||this.gl.CLAMP_TO_EDGE,minFilter:d||this.gl.LINEAR,magFilter:c||this.gl.LINEAR,_shouldUpdate:!0},this._initState(),this.sourceType=e?"fbo":"empty",this._useCache=!0,this._samplerName=s,this._sampler={isActive:!1,isTextureBound:!1,texture:this.gl.createTexture()},this._textureMatrix={matrix:new O,isActive:!1},this._size={width:1,height:1},this.scale=new A(1),this.scale.onChange(()=>this.resize()),this.offset=new A,this.offset.onChange(()=>this.resize()),this._loader=i,this._sourceLoaded=!1,this._uploaded=!1,this._willUpdate=!1,this.shouldUpdate=!1,this._forceUpdate=!1,this.userData={},this._canDraw=!1,r)return this._copyOnInit=!0,void(this._copiedFrom=r);this._copyOnInit=!1,this._initTexture()}_initState(){this._state={anisotropy:1,generateMipmap:!1,wrapS:null,wrapT:null,minFilter:null,magFilter:this.gl.LINEAR}}_initTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),"empty"===this.sourceType&&(this._globalParameters.flipY=!1,this._updateGlobalTexParameters(),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),this._canDraw=!0)}_restoreFromTexture(){this._copyOnInit||this._initTexture(),this._parent&&(this._setTextureUniforms(),this._setSize()),this.copy(this._copiedFrom),this._canDraw=!0}_restoreContext(){if(this._canDraw=!1,this._sampler.texture=this.gl.createTexture(),this._sampler.isActive=!1,this._sampler.isTextureBound=!1,this._textureMatrix.isActive=!1,this._initState(),this._state.generateMipmap=!1,this.parameters._shouldUpdate=!0,this._copiedFrom){const t=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&(this._restoreFromTexture(),t.keep=!1)},!0)}else this._initTexture(),this._parent&&this._setParent(),this.source&&(this.setSource(this.source),"image"===this.sourceType?this.renderer.cache.addTexture(this):this.needUpdate()),this._canDraw=!0}addParent(t){!t||"Plane"!==t.type&&"PingPongPlane"!==t.type&&"ShaderPass"!==t.type&&"RenderTarget"!==t.type?this.renderer.production||m(this.type+": cannot add texture as a child of ",t," because it is not a valid parent"):(this._parent=t,this.index=this._parent.textures.length,this._parent.textures.push(this),this._setParent())}_setParent(){if(this._sampler.name=this._samplerName||"uSampler"+this.index,this._textureMatrix.name=this._samplerName?this._samplerName+"Matrix":"uTextureMatrix"+this.index,this._parent._program)if(this._parent._program.compiled)if(this._setTextureUniforms(),this._copyOnInit){const t=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&this._copiedFrom._uploaded&&(this.copy(this._copiedFrom),t.keep=!1)},!0)}else this.source?this._parent.loader&&this._parent.loader._addSourceToParent(this.source,this.sourceType):this._size={width:this._parent._boundingRect.document.width,height:this._parent._boundingRect.document.height},this._setSize();else this.renderer.production||m(this.type+": Unable to create the texture because the program is not valid");else"RenderTarget"===this._parent.type&&(this._size={width:this._parent._size&&this._parent._size.width||this.renderer._boundingRect.width,height:this._parent._size&&this._parent._size.height||this.renderer._boundingRect.height},this._upload(),this._updateTexParameters(),this._canDraw=!0)}hasParent(){return!!this._parent}_setTextureUniforms(){const e=this._parent._program.activeUniforms;for(let t=0;t<e.textures.length;t++)e.textures[t]===this._sampler.name&&(this._sampler.isActive=!0,this.renderer.useProgram(this._parent._program),this._sampler.location=this.gl.getUniformLocation(this._parent._program.program,this._sampler.name),e.textureMatrices.find(t=>t===this._textureMatrix.name)&&(this._textureMatrix.isActive=!0,this._textureMatrix.location=this.gl.getUniformLocation(this._parent._program.program,this._textureMatrix.name)),this.gl.uniform1i(this._sampler.location,this.index))}copy(t){t&&"Texture"===t.type?(this._globalParameters=t._globalParameters,this._state=t._state,this._size=t._size,!this._sourceLoaded&&t._sourceLoaded&&this._onSourceLoadedCallback&&this._onSourceLoadedCallback(),this._sourceLoaded=t._sourceLoaded,!this._uploaded&&t._uploaded&&this._onSourceUploadedCallback&&this._onSourceUploadedCallback(),this._uploaded=t._uploaded,this.sourceType=t.sourceType,this.source=t.source,this._videoFrameCallbackID=t._videoFrameCallbackID,this._sampler.texture=t._sampler.texture,this._copiedFrom=t,!this._parent||!this._parent._program||this._canDraw&&this._textureMatrix.matrix||(this._setSize(),this._canDraw=!0),this.renderer.needRender()):this.renderer.production||m(this.type+": Unable to set the texture from texture:",t)}setSource(t){this._sourceLoaded||this.renderer.nextRender.add(()=>this._onSourceLoadedCallback&&this._onSourceLoadedCallback());var e="IMG"===t.tagName.toUpperCase()?"image":t.tagName.toLowerCase();if("video"!==e&&"canvas"!==e||(this._useCache=!1),this._useCache){var r=this.renderer.cache.getTextureFromSource(t);if(r&&r.uuid!==this.uuid)return this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0),this.copy(r),void this.resize()}if("empty"===this.sourceType||this.sourceType!==e)if("video"===e)this._willUpdate=!1,this.shouldUpdate=!0;else if("canvas"===e)this._willUpdate=!0,this.shouldUpdate=!0;else{if("image"!==e)return void(this.renderer.production||m(this.type+": this HTML tag could not be converted into a texture:",t.tagName));this._willUpdate=!1,this.shouldUpdate=!1}this.source=t,this.sourceType=e,this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight},this._sourceLoaded=!0,this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.resize(),this._globalParameters.flipY=!0,this._globalParameters.premultiplyAlpha=this._globalParameters.shouldPremultiplyAlpha,"image"===this.sourceType&&(this.parameters.generateMipmap=this.parameters.generateMipmap||null===this.parameters.generateMipmap,this.parameters._shouldUpdate=this.parameters.generateMipmap,this._state.generateMipmap=!1,this._upload()),this.renderer.needRender()}_updateGlobalTexParameters(){this.renderer.state.unpackAlignment!==this._globalParameters.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this._globalParameters.unpackAlignment),this.renderer.state.unpackAlignment=this._globalParameters.unpackAlignment),this.renderer.state.flipY!==this._globalParameters.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this._globalParameters.flipY),this.renderer.state.flipY=this._globalParameters.flipY),this.renderer.state.premultiplyAlpha!==this._globalParameters.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._globalParameters.premultiplyAlpha),this.renderer.state.premultiplyAlpha=this._globalParameters.premultiplyAlpha),"half-float"===this._globalParameters.floatingPoint?this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.HALF_FLOAT):this.renderer.extensions.OES_texture_half_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES:this.renderer.production||m(this.type+": could not use half-float textures because the extension is not available"):"float"===this._globalParameters.floatingPoint&&(this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.FLOAT):this.renderer.extensions.OES_texture_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.FLOAT:this.renderer.production||m(this.type+": could not use float textures because the extension is not available"))}_updateTexParameters(){this.index&&this.renderer.state.activeTexture!==this.index&&this._bindTexture(),this.parameters.wrapS!==this._state.wrapS&&(this.renderer._isWebGL2||s(this._size.width)&&s(this._size.height)||(this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.parameters.wrapS!==this.gl.REPEAT&&this.parameters.wrapS!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapS!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||m(this.type+": Wrong wrapS value",this.parameters.wrapS,"for this texture:",this,"\ngl.CLAMP_TO_EDGE wrapping will be used instead"),this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.parameters.wrapS),this._state.wrapS=this.parameters.wrapS),this.parameters.wrapT!==this._state.wrapT&&(this.renderer._isWebGL2||s(this._size.width)&&s(this._size.height)||(this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.parameters.wrapT!==this.gl.REPEAT&&this.parameters.wrapT!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapT!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||m(this.type+": Wrong wrapT value",this.parameters.wrapT,"for this texture:",this,"\ngl.CLAMP_TO_EDGE wrapping will be used instead"),this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.parameters.wrapT),this._state.wrapT=this.parameters.wrapT),this.parameters.generateMipmap&&!this._state.generateMipmap&&this.source&&(this.renderer._isWebGL2||s(this._size.width)&&s(this._size.height)?this.gl.generateMipmap(this.gl.TEXTURE_2D):this.parameters.generateMipmap=!1,this._state.generateMipmap=this.parameters.generateMipmap),this.parameters.minFilter!==this._state.minFilter&&(this.renderer._isWebGL2||s(this._size.width)&&s(this._size.height)||(this.parameters.minFilter=this.gl.LINEAR),this.parameters.generateMipmap||null===this.parameters.generateMipmap||(this.parameters.minFilter=this.gl.LINEAR),this.parameters.minFilter!==this.gl.LINEAR&&this.parameters.minFilter!==this.gl.NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_LINEAR&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_LINEAR&&(this.renderer.production||m(this.type+": Wrong minFilter value",this.parameters.minFilter,"for this texture:",this,"\ngl.LINEAR filtering will be used instead"),this.parameters.minFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.parameters.minFilter),this._state.minFilter=this.parameters.minFilter),this.parameters.magFilter!==this._state.magFilter&&(this.renderer._isWebGL2||s(this._size.width)&&s(this._size.height)||(this.parameters.magFilter=this.gl.LINEAR),this.parameters.magFilter!==this.gl.LINEAR&&this.parameters.magFilter!==this.gl.NEAREST&&(this.renderer.production||m(this.type+": Wrong magFilter value",this.parameters.magFilter,"for this texture:",this,"\ngl.LINEAR filtering will be used instead"),this.parameters.magFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.parameters.magFilter),this._state.magFilter=this.parameters.magFilter);var t,e=this.renderer.extensions.EXT_texture_filter_anisotropic;e&&this.parameters.anisotropy!==this._state.anisotropy&&(t=this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT),this.parameters.anisotropy=Math.max(1,Math.min(this.parameters.anisotropy,t)),this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this.parameters.anisotropy),this._state.anisotropy=this.parameters.anisotropy)}setWrapS(t){this.parameters.wrapS!==t&&(this.parameters.wrapS=t,this.parameters._shouldUpdate=!0)}setWrapT(t){this.parameters.wrapT!==t&&(this.parameters.wrapT=t,this.parameters._shouldUpdate=!0)}setMinFilter(t){this.parameters.minFilter!==t&&(this.parameters.minFilter=t,this.parameters._shouldUpdate=!0)}setMagFilter(t){this.parameters.magFilter!==t&&(this.parameters.magFilter=t,this.parameters._shouldUpdate=!0)}setAnisotropy(t){t=isNaN(t)?this.parameters.anisotropy:t,this.parameters.anisotropy!==t&&(this.parameters.anisotropy=t,this.parameters._shouldUpdate=!0)}needUpdate(){this._forceUpdate=!0}_videoFrameCallback(){this._willUpdate=!0,this.source.requestVideoFrameCallback(()=>this._videoFrameCallback())}_upload(){this._updateGlobalTexParameters(),this.source?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._globalParameters.format,this._globalParameters.type,this.source):"fbo"===this.sourceType&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,this.source||null),this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0)}_getSizes(){if("fbo"===this.sourceType)return{parentWidth:this._parent._boundingRect.document.width,parentHeight:this._parent._boundingRect.document.height,sourceWidth:this._parent._boundingRect.document.width,sourceHeight:this._parent._boundingRect.document.height,xOffset:0,yOffset:0};var t=this._parent.scale?F.set(this._parent.scale.x,this._parent.scale.y):F.set(1,1),e=this._parent._boundingRect.document.width*t.x,r=this._parent._boundingRect.document.height*t.y,i=this._size.width,s=this._size.height,n=i/s,t=e/r;let a=0,o=0;return n<t?o=Math.min(0,r-1/n*e):t<n&&(a=Math.min(0,e-r*n)),{parentWidth:e,parentHeight:r,sourceWidth:i,sourceHeight:s,xOffset:a,yOffset:o}}setScale(t){t.type&&"Vec2"===t.type?(t.sanitizeNaNValuesWith(this.scale).max(F.set(.001,.001)),t.equals(this.scale)||(this.scale.copy(t),this.resize())):this.renderer.production||m(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",t)}setOffset(t){t.type&&"Vec2"===t.type?(t.sanitizeNaNValuesWith(this.offset),t.equals(this.offset)||(this.offset.copy(t),this.resize())):this.renderer.production||m(this.type+": Cannot set offset because the parameter passed is not of Vec2 type:",scale)}_setSize(){var t;this._parent&&this._parent._program&&(t=this._getSizes(),this._updateTextureMatrix(t))}resize(){"fbo"===this.sourceType?(this._size={width:this._parent._size&&this._parent._size.width||this._parent._boundingRect.document.width,height:this._parent._size&&this._parent._size.height||this._parent._boundingRect.document.height},this._copiedFrom||(this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,null))):this.source&&(this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight}),this._setSize()}_updateTextureMatrix(t){const e=L.set(t.parentWidth/(t.parentWidth-t.xOffset),t.parentHeight/(t.parentHeight-t.yOffset),1);e.x/=this.scale.x,e.y/=this.scale.y,this._textureMatrix.matrix=D.setFromArray([e.x,0,0,0,0,e.y,0,0,0,0,1,0,(1-e.x)/2+this.offset.x,(1-e.y)/2+this.offset.y,0,1]),this._updateMatrixUniform()}_updateMatrixUniform(){this._textureMatrix.isActive&&(this.renderer.useProgram(this._parent._program),this.gl.uniformMatrix4fv(this._textureMatrix.location,!1,this._textureMatrix.matrix.elements))}_onSourceLoaded(t){this.setSource(t),"image"===this.sourceType&&this.renderer.cache.addTexture(this)}_bindTexture(){this._canDraw&&(this.renderer.state.activeTexture!==this.index&&(this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.renderer.state.activeTexture=this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this._sampler.isTextureBound||(this._sampler.isTextureBound=!!this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._sampler.isTextureBound&&this.renderer.needRender()))}_draw(){this._sampler.isActive&&(this._bindTexture(),"video"===this.sourceType&&this.source&&!this._videoFrameCallbackID&&this.source.readyState>=this.source.HAVE_CURRENT_DATA&&!this.source.paused&&(this._willUpdate=!0),(this._forceUpdate||this._willUpdate&&this.shouldUpdate)&&(this._state.generateMipmap=!1,this._upload()),"video"===this.sourceType&&(this._willUpdate=!1),this._forceUpdate=!1),this.parameters._shouldUpdate&&(this._updateTexParameters(),this.parameters._shouldUpdate=!1)}onSourceLoaded(t){return t&&(this._onSourceLoadedCallback=t),this}onSourceUploaded(t){return t&&(this._onSourceUploadedCallback=t),this}_dispose(t=!1){"video"===this.sourceType||"image"===this.sourceType&&!this.renderer.state.isActive?(this._loader&&this._loader._removeSource(this),this.source=null):"canvas"===this.sourceType&&(this.source.width=this.source.width,this.source=null),this._parent=null,!this.gl||this._copiedFrom||!t&&"image"===this.sourceType&&this.renderer.state.isActive||(this._canDraw=!1,this.renderer.cache.removeTexture(this),this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.gl.deleteTexture(this._sampler.texture))}}class I extends class{constructor(t,e="anonymous"){if(this.type="TextureLoader",(t=t&&t.renderer||t)&&"Renderer"===t.type){if(!t.gl)return void f(this.type+": Renderer WebGL context is undefined",t)}else f(this.type+": Renderer not passed as first argument",t);this.renderer=t,this.gl=this.renderer.gl,this.crossOrigin=e,this.elements=[]}_addElement(t,e,r,i){i={source:t,texture:e,load:this._sourceLoaded.bind(this,t,e,r),error:this._sourceLoadError.bind(this,t,i)};return this.elements.push(i),i}_sourceLoadError(t,e,r){e&&e(t,r)}_sourceLoaded(t,e,r){e._sourceLoaded||(e._onSourceLoaded(t),this._parent&&(this._increment&&this._increment(),this.renderer.nextRender.add(()=>this._parent._onLoadingCallback&&this._parent._onLoadingCallback(e))),r&&r(e))}_getSourceType(t){let e;return"string"==typeof t?null!==t.match(/\.(jpeg|jpg|jfif|pjpeg|pjp|gif|bmp|png|webp|svg|avif|apng)$/)?e="image":null!==t.match(/\.(webm|mp4|mpg|mpeg|avi|ogg|ogm|ogv|mov|av1)$/)&&(e="video"):"IMG"===t.tagName.toUpperCase()?e="image":"VIDEO"===t.tagName.toUpperCase()?e="video":"CANVAS"===t.tagName.toUpperCase()&&(e="canvas"),e}_createImage(t){if("string"!=typeof t&&t.hasAttribute("crossOrigin"))return t;{const e=new Image;return e.crossOrigin=this.crossOrigin,"string"==typeof t?e.src=t:(e.src=t.src,t.hasAttribute("data-sampler")&&e.setAttribute("data-sampler",t.getAttribute("data-sampler"))),e}}_createVideo(t){if("string"!=typeof t&&null!==t.getAttribute("crossOrigin"))return t;{const e=document.createElement("video");return e.crossOrigin=this.crossOrigin,"string"==typeof t?e.src=t:(e.src=t.src,t.hasAttribute("data-sampler")&&e.setAttribute("data-sampler",t.getAttribute("data-sampler"))),e}}loadSource(t,e,r,i){switch(this._getSourceType(t)){case"image":this.loadImage(t,e,r,i);break;case"video":this.loadVideo(t,e,r,i);break;case"canvas":this.loadCanvas(t,e,r);break;default:this._sourceLoadError(t,i,"this source could not be converted into a texture: "+t)}}loadSources(e,r,i,s){for(let t=0;t<e.length;t++)this.loadSource(e[t],r,i,s)}loadImage(t,e={},r,i){var s=this.renderer.cache.getTextureFromSource(t);let n=Object.assign({},e);if(this._parent&&(n=Object.assign(n,this._parent._texturesOptions)),n.loader=this,s){n.sampler="string"!=typeof t&&t.hasAttribute("data-sampler")?t.getAttribute("data-sampler"):n.sampler,n.fromTexture=s;const o=new z(this.renderer,n);return this._sourceLoaded(s.source,o,r),void(this._parent&&this._addToParent(o,s.source,"image"))}const a=this._createImage(t);n.sampler=a.hasAttribute("data-sampler")?a.getAttribute("data-sampler"):n.sampler;const o=new z(this.renderer,n),h=this._addElement(a,o,r,i);a.complete?this._sourceLoaded(a,o,r):a.decode?a.decode().then(this._sourceLoaded.bind(this,a,o,r)).catch(()=>{a.addEventListener("load",h.load,!1),a.addEventListener("error",h.error,!1)}):(a.addEventListener("load",h.load,!1),a.addEventListener("error",h.error,!1)),this._parent&&this._addToParent(o,a,"image")}loadImages(e,r,i,s){for(let t=0;t<e.length;t++)this.loadImage(e[t],r,i,s)}loadVideo(t,e={},r,i){const s=this._createVideo(t);s.preload=!0,s.muted=!0,s.loop=!0,s.setAttribute("playsinline",""),s.crossOrigin=this.crossOrigin;let n=Object.assign({},e);this._parent&&(n=Object.assign(e,this._parent._texturesOptions)),n.loader=this,n.sampler=s.hasAttribute("data-sampler")?s.getAttribute("data-sampler"):n.sampler;const a=new z(this.renderer,n),o=this._addElement(s,a,r,i);s.addEventListener("canplaythrough",o.load,!1),s.addEventListener("error",o.error,!1),s.readyState>=s.HAVE_FUTURE_DATA&&r&&this._sourceLoaded(s,a,r),s.load(),this._addToParent&&this._addToParent(a,s,"video"),"requestVideoFrameCallback"in HTMLVideoElement.prototype&&(o.videoFrameCallback=a._videoFrameCallback.bind(a),a._videoFrameCallbackID=s.requestVideoFrameCallback(o.videoFrameCallback))}loadVideos(e,r,i,s){for(let t=0;t<e.length;t++)this.loadVideo(e[t],r,i,s)}loadCanvas(t,e={},r){let i=Object.assign({},e);this._parent&&(i=Object.assign(e,this._parent._texturesOptions)),i.loader=this,i.sampler=t.hasAttribute("data-sampler")?t.getAttribute("data-sampler"):i.sampler;e=new z(this.renderer,i);this._addElement(t,e,r,null),this._sourceLoaded(t,e,r),this._parent&&this._addToParent(e,t,"canvas")}loadCanvases(e,r,i){for(let t=0;t<e.length;t++)this.loadCanvas(e[t],r,i)}_removeSource(e){const t=this.elements.find(t=>t.texture.uuid===e.uuid);t&&("image"===e.sourceType?t.source.removeEventListener("load",t.load,!1):"video"===e.sourceType&&(t.videoFrameCallback&&e._videoFrameCallbackID&&t.source.cancelVideoFrameCallback(e._videoFrameCallbackID),t.source.removeEventListener("canplaythrough",t.load,!1),t.source.pause(),t.source.removeAttribute("src"),t.source.load()),t.source.removeEventListener("error",t.error,!1))}}{constructor(t,e,{sourcesLoaded:r=0,sourcesToLoad:i=0,complete:s=!1,onComplete:n=()=>{}}={}){super(t,e.crossOrigin),this.type="PlaneTextureLoader",this._parent=e,"Plane"!==this._parent.type&&"PingPongPlane"!==this._parent.type&&"ShaderPass"!==this._parent.type&&(m(this.type+": Wrong parent type assigned to this loader"),this._parent=null),this.sourcesLoaded=r,this.sourcesToLoad=i,this.complete=s,this.onComplete=n}_setLoaderSize(t){this.sourcesToLoad=t,0===this.sourcesToLoad&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_increment(){this.sourcesLoaded++,this.sourcesLoaded>=this.sourcesToLoad&&!this.complete&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_addSourceToParent(e,t){if("image"===t){const r=this._parent.images;r.find(t=>t.src===e.src)||r.push(e)}else if("video"===t){const i=this._parent.videos;i.find(t=>t.src===e.src)||i.push(e)}else if("canvas"===t){const s=this._parent.canvases;s.find(t=>t.isSameNode(e))||s.push(e)}}_addToParent(t,e,r){this._addSourceToParent(e,r),this._parent&&t.addParent(this._parent)}}const U=new A,N=new A;class V{constructor({fov:t=50,near:e=.1,far:r=150,width:i,height:s,pixelRatio:n=1}={}){this.position=new k,this.projectionMatrix=new O,this.worldMatrix=new O,this.viewMatrix=new O,this._shouldUpdate=!1,this.setSize(),this.setPerspective(t,e,r,i,s,n)}setFov(t){t=isNaN(t)?this.fov:parseFloat(t),(t=Math.max(1,Math.min(t,179)))!==this.fov&&(this.fov=t,this.setPosition(),this._shouldUpdate=!0),this.setCSSPerspective()}setNear(t){t=isNaN(t)?this.near:parseFloat(t),(t=Math.max(t,.01))!==this.near&&(this.near=t,this._shouldUpdate=!0)}setFar(t){t=isNaN(t)?this.far:parseFloat(t),(t=Math.max(t,50))!==this.far&&(this.far=t,this._shouldUpdate=!0)}setPixelRatio(t){t!==this.pixelRatio&&(this._shouldUpdate=!0),this.pixelRatio=t}setSize(t,e){t===this.width&&e===this.height||(this._shouldUpdate=!0),this.width=t,this.height=e}setPerspective(t,e,r,i,s,n){this.setPixelRatio(n),this.setSize(i,s),this.setFov(t),this.setNear(e),this.setFar(r),this._shouldUpdate&&this.updateProjectionMatrix()}setPosition(){this.position.set(0,0,1),this.worldMatrix.setFromArray([1,0,0,0,0,1,0,0,0,0,1,0,this.position.x,this.position.y,this.position.z,1]),this.viewMatrix=this.viewMatrix.copy(this.worldMatrix).getInverse()}setCSSPerspective(){this.CSSPerspective=Math.pow(Math.pow(this.width/(2*this.pixelRatio),2)+Math.pow(this.height/(2*this.pixelRatio),2),.5)/Math.tan(.5*this.fov*Math.PI/180)}getScreenRatiosFromFov(t=0){var e=this.position.z;t<e?t-=e:t+=e;e=this.fov*Math.PI/180,t=2*Math.tan(e/2)*Math.abs(t);return{width:t*this.width/this.height,height:t}}updateProjectionMatrix(){var t=this.width/this.height,e=this.near*Math.tan(Math.PI/180*.5*this.fov),r=2*e,i=t*r,s=-.5*i,n=s+i,a=e-r,o=2*this.near/(n-s),t=2*this.near/(e-a),i=-(this.far+this.near)/(this.far-this.near),r=-2*this.far*this.near/(this.far-this.near);this.projectionMatrix.setFromArray([o,0,0,0,0,t,0,0,(n+s)/(n-s),(e+a)/(e-a),i,-1,0,0,r,0])}forceUpdate(){this._shouldUpdate=!0}cancelUpdate(){this._shouldUpdate=!1}}class B{constructor(t=new Float32Array([0,0,0,1]),e="XYZ"){this.type="Quat",this.elements=t,this.axisOrder=e}setFromArray(t){return this.elements[0]=t[0],this.elements[1]=t[1],this.elements[2]=t[2],this.elements[3]=t[3],this}setAxisOrder(t){switch(t=t.toUpperCase()){case"XYZ":case"YXZ":case"ZXY":case"ZYX":case"YZX":case"XZY":this.axisOrder=t;break;default:this.axisOrder="XYZ"}return this}copy(t){return this.elements=t.elements,this.axisOrder=t.axisOrder,this}clone(){return(new B).copy(this)}equals(t){return this.elements[0]===t.elements[0]&&this.elements[1]===t.elements[1]&&this.elements[2]===t.elements[2]&&this.elements[3]===t.elements[3]&&this.axisOrder===t.axisOrder}setFromVec3(t){var e=.5*t.x,r=.5*t.y,i=.5*t.z,s=Math.cos(e),n=Math.cos(r),t=Math.cos(i),e=Math.sin(e),r=Math.sin(r),i=Math.sin(i);return"XYZ"===this.axisOrder?(this.elements[0]=e*n*t+s*r*i,this.elements[1]=s*r*t-e*n*i,this.elements[2]=s*n*i+e*r*t,this.elements[3]=s*n*t-e*r*i):"YXZ"===this.axisOrder?(this.elements[0]=e*n*t+s*r*i,this.elements[1]=s*r*t-e*n*i,this.elements[2]=s*n*i-e*r*t,this.elements[3]=s*n*t+e*r*i):"ZXY"===this.axisOrder?(this.elements[0]=e*n*t-s*r*i,this.elements[1]=s*r*t+e*n*i,this.elements[2]=s*n*i+e*r*t,this.elements[3]=s*n*t-e*r*i):"ZYX"===this.axisOrder?(this.elements[0]=e*n*t-s*r*i,this.elements[1]=s*r*t+e*n*i,this.elements[2]=s*n*i-e*r*t,this.elements[3]=s*n*t+e*r*i):"YZX"===this.axisOrder?(this.elements[0]=e*n*t+s*r*i,this.elements[1]=s*r*t+e*n*i,this.elements[2]=s*n*i-e*r*t,this.elements[3]=s*n*t-e*r*i):"XZY"===this.axisOrder&&(this.elements[0]=e*n*t-s*r*i,this.elements[1]=s*r*t-e*n*i,this.elements[2]=s*n*i+e*r*t,this.elements[3]=s*n*t+e*r*i),this}}const W=new A,X=new k,G=new k,Y=new k,j=new k,H=new k,q=new k,Q=new k,Z=new k,$=new B,K=new k(.5,.5,0),J=new k,tt=new k,et=new k,rt=new k,it=new A;class st extends class extends class{constructor(t,e="Mesh",{vertexShaderID:r,fragmentShaderID:i,vertexShader:s,fragmentShader:n,uniforms:a={},widthSegments:o=1,heightSegments:h=1,renderOrder:l=0,depthTest:u=!0,cullFace:d="back",texturesOptions:c={},crossOrigin:p="anonymous"}={}){if(this.type=e,(t=t&&t.renderer||t)&&"Renderer"===t.type||(f(this.type+": Curtains not passed as first argument or Curtains Renderer is missing",t),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0)),this.renderer=t,this.gl=this.renderer.gl,!this.gl)return this.renderer.production||f(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined"),void setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0);this._canDraw=!1,this.renderOrder=l,this._depthTest=u,this.cullFace=d,"back"!==this.cullFace&&"front"!==this.cullFace&&"none"!==this.cullFace&&(this.cullFace="back"),this.textures=[],this._texturesOptions=Object.assign({premultiplyAlpha:!1,anisotropy:1,floatingPoint:"none",wrapS:this.gl.CLAMP_TO_EDGE,wrapT:this.gl.CLAMP_TO_EDGE,minFilter:this.gl.LINEAR,magFilter:this.gl.LINEAR},c),this.crossOrigin=p,!s&&r&&document.getElementById(r)&&(s=document.getElementById(r).innerHTML),!n&&i&&document.getElementById(i)&&(n=document.getElementById(i).innerHTML),this._initMesh(),o=parseInt(o),h=parseInt(h),this._geometry=new E(this.renderer,{width:o,height:h}),this._program=new M(this.renderer,{parent:this,vertexShader:s,fragmentShader:n}),this._program.compiled?(this._program.createUniforms(a),this.uniforms=this._program.uniformsManager.uniforms,this._geometry.setProgram(this._program),this.renderer.onSceneChange()):this.renderer.nextRender.add(()=>this._onErrorCallback&&this._onErrorCallback())}_initMesh(){this.uuid=p(),this.loader=new I(this.renderer,this,{sourcesLoaded:0,initSourcesToLoad:0,complete:!1,onComplete:()=>{this._onReadyCallback&&this._onReadyCallback(),this.renderer.needRender()}}),this.images=[],this.videos=[],this.canvases=[],this.userData={},this._canDraw=!0}_restoreContext(){this._canDraw=!1,this._matrices&&(this._matrices=null),this._program=new M(this.renderer,{parent:this,vertexShader:this._program.vsCode,fragmentShader:this._program.fsCode}),this._program.compiled&&(this._geometry.restoreContext(this._program),this._program.createUniforms(this.uniforms),this.uniforms=this._program.uniformsManager.uniforms,this._programRestored())}setRenderTarget(t){t&&"RenderTarget"===t.type?("Plane"===this.type&&this.renderer.scene.removePlane(this),this.target=t,"Plane"===this.type&&this.renderer.scene.addPlane(this)):this.renderer.production||m(this.type+": Could not set the render target because the argument passed is not a RenderTarget class object",t)}setRenderOrder(t=0){(t=isNaN(t)?this.renderOrder:parseInt(t))!==this.renderOrder&&(this.renderOrder=t,this.renderer.scene.setPlaneRenderOrder(this))}createTexture(t={}){const e=new z(this.renderer,Object.assign(this._texturesOptions,t));return e.addParent(this),e}addTexture(t){t&&"Texture"===t.type?t.addParent(this):this.renderer.production||m(this.type+": cannot add ",t," to this "+this.type+" because it is not a valid texture")}loadSources(e,r={},i,s){for(let t=0;t<e.length;t++)this.loadSource(e[t],r,i,s)}loadSource(t,e={},r,i){this.loader.loadSource(t,Object.assign(e,this._texturesOptions),t=>{r&&r(t)},(t,e)=>{this.renderer.production||m(this.type+": this HTML tag could not be converted into a texture:",t.tagName),i&&i(t,e)})}loadImage(t,e={},r,i){this.loader.loadImage(t,Object.assign(e,this._texturesOptions),t=>{r&&r(t)},(t,e)=>{this.renderer.production||m(this.type+": There has been an error:\n",e,"\nwhile loading this image:\n",t),i&&i(t,e)})}loadVideo(t,e={},r,i){this.loader.loadVideo(t,Object.assign(e,this._texturesOptions),t=>{r&&r(t)},(t,e)=>{this.renderer.production||m(this.type+": There has been an error:\n",e,"\nwhile loading this video:\n",t),i&&i(t,e)})}loadCanvas(t,e={},r){this.loader.loadCanvas(t,Object.assign(e,this._texturesOptions),t=>{r&&r(t)})}loadImages(e,r={},i,s){for(let t=0;t<e.length;t++)this.loadImage(e[t],r,i,s)}loadVideos(e,r={},i,s){for(let t=0;t<e.length;t++)this.loadVideo(e[t],r,i,s)}loadCanvases(e,r={},i){for(let t=0;t<e.length;t++)this.loadCanvas(e[t],r,i)}playVideos(){for(let t=0;t<this.textures.length;t++){const e=this.textures[t];if("video"===e.sourceType){const r=e.source.play();void 0!==r&&r.catch(t=>{this.renderer.production||m(this.type+": Could not play the video : ",t)})}}}_draw(){this.renderer.setDepthTest(this._depthTest),this.renderer.setFaceCulling(this.cullFace),this._program.updateUniforms(),this._geometry.bindBuffers(),this.renderer.state.forceBufferUpdate=!1;for(let t=0;t<this.textures.length;t++)if(this.textures[t]._draw(),this.textures[t]._sampler.isActive&&!this.textures[t]._sampler.isTextureBound)return;this._geometry.draw(),this.renderer.state.activeTexture=null,this._onAfterRenderCallback&&this._onAfterRenderCallback()}onError(t){return t&&(this._onErrorCallback=t),this}onLoading(t){return t&&(this._onLoadingCallback=t),this}onReady(t){return t&&(this._onReadyCallback=t),this}onRender(t){return t&&(this._onRenderCallback=t),this}onAfterRender(t){return t&&(this._onAfterRenderCallback=t),this}remove(){this._canDraw=!1,this.target&&this.renderer.bindFrameBuffer(null),this._dispose(),"Plane"===this.type?this.renderer.removePlane(this):"ShaderPass"===this.type&&(this.target&&(this.target._shaderPass=null,this.target.remove(),this.target=null),this.renderer.removeShaderPass(this))}_dispose(){if(this.gl){this._geometry&&this._geometry.dispose(),this.target&&"ShaderPass"===this.type&&(this.renderer.removeRenderTarget(this.target),this.textures.shift());for(let t=0;t<this.textures.length;t++)this.textures[t]._dispose();this.textures=[]}}}{constructor(t,e,r="DOMMesh",{widthSegments:i,heightSegments:s,renderOrder:n,depthTest:a,cullFace:o,uniforms:h,vertexShaderID:l,fragmentShaderID:u,vertexShader:d,fragmentShader:c,texturesOptions:p,crossOrigin:f}={}){super(t,r,{widthSegments:i,heightSegments:s,renderOrder:n,depthTest:a,cullFace:o,uniforms:h,vertexShaderID:l=l||e&&e.getAttribute("data-vs-id"),fragmentShaderID:u=u||e&&e.getAttribute("data-fs-id"),vertexShader:d,fragmentShader:c,texturesOptions:p,crossOrigin:f}),this.gl&&(this.htmlElement=e,this.htmlElement&&0!==this.htmlElement.length||this.renderer.production||m(this.type+": The HTML element you specified does not currently exists in the DOM"),this._setDocumentSizes())}_setDocumentSizes(){var t=this.htmlElement.getBoundingClientRect();this._boundingRect||(this._boundingRect={}),this._boundingRect.document={width:t.width*this.renderer.pixelRatio,height:t.height*this.renderer.pixelRatio,top:t.top*this.renderer.pixelRatio,left:t.left*this.renderer.pixelRatio}}getBoundingRect(){return{width:this._boundingRect.document.width,height:this._boundingRect.document.height,top:this._boundingRect.document.top,left:this._boundingRect.document.left,right:this._boundingRect.document.left+this._boundingRect.document.width,bottom:this._boundingRect.document.top+this._boundingRect.document.height}}resize(){this._setDocumentSizes(),"Plane"===this.type&&(this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions());for(let t=0;t<this.textures.length;t++)this.textures[t].resize();this.renderer.nextRender.add(()=>this._onAfterResizeCallback&&this._onAfterResizeCallback())}mouseToPlaneCoords(t){var e=this.scale||N.set(1,1),r=U.set((this._boundingRect.document.width-this._boundingRect.document.width*e.x)/2,(this._boundingRect.document.height-this._boundingRect.document.height*e.y)/2),r={width:this._boundingRect.document.width*e.x/this.renderer.pixelRatio,height:this._boundingRect.document.height*e.y/this.renderer.pixelRatio,top:(this._boundingRect.document.top+r.y)/this.renderer.pixelRatio,left:(this._boundingRect.document.left+r.x)/this.renderer.pixelRatio};return U.set((t.x-r.left)/r.width*2-1,1-(t.y-r.top)/r.height*2)}onAfterResize(t){return t&&(this._onAfterResizeCallback=t),this}}{constructor(t,e,{widthSegments:r,heightSegments:i,renderOrder:s,depthTest:n,cullFace:a,uniforms:o,vertexShaderID:h,fragmentShaderID:l,vertexShader:u,fragmentShader:d,texturesOptions:c,crossOrigin:p,alwaysDraw:f=!1,visible:g=!0,transparent:_=!1,drawCheckMargins:m={top:0,right:0,bottom:0,left:0},autoloadSources:x=!0,watchScroll:v=!0,fov:y=50}={}){super(t,e,"Plane",{widthSegments:r,heightSegments:i,renderOrder:s,depthTest:n,cullFace:a,uniforms:o,vertexShaderID:h,fragmentShaderID:l,vertexShader:u,fragmentShader:d,texturesOptions:c,crossOrigin:p}),this.gl&&(this.index=this.renderer.planes.length,this.target=null,this.alwaysDraw=f,this._shouldDraw=!0,this.visible=g,this._transparent=_,this.drawCheckMargins=m,this.autoloadSources=x,this.watchScroll=v,this._updateMVMatrix=!1,this.camera=new V({fov:y,width:this.renderer._boundingRect.width,height:this.renderer._boundingRect.height,pixelRatio:this.renderer.pixelRatio}),this._program.compiled&&(this._initPlane(),this.renderer.scene.addPlane(this),this.renderer.planes.push(this)))}_programRestored(){this.target&&this.setRenderTarget(this.renderer.renderTargets[this.target.index]),this._initMatrices(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions(),this.renderer.scene.addPlane(this);for(let t=0;t<this.textures.length;t++)(this.textures[t]._parent=this).textures[t]._restoreContext();this._canDraw=!0}_initPlane(){this._initTransformValues(),this._initPositions(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._initSources()}_initTransformValues(){this.rotation=new k,this.rotation.onChange(()=>this._applyRotation()),this.quaternion=new B,this.relativeTranslation=new k,this.relativeTranslation.onChange(()=>this._setTranslation()),this._translation=new k,this.scale=new k(1),this.scale.onChange(()=>{this.scale.z=1,this._applyScale()}),this.transformOrigin=new k(.5,.5,0),this.transformOrigin.onChange(()=>{this._setWorldTransformOrigin(),this._updateMVMatrix=!0})}resetPlane(t){this._initTransformValues(),this._setWorldTransformOrigin(),null!==t&&t?(this.htmlElement=t,this.resize()):t||this.renderer.production||m(this.type+": You are trying to reset a plane with a HTML element that does not exist. The old HTML element will be kept instead.")}removeRenderTarget(){this.target&&(this.renderer.scene.removePlane(this),this.target=null,this.renderer.scene.addPlane(this))}_initPositions(){this._initMatrices(),this._setWorldSizes(),this._applyWorldPositions()}_initMatrices(){var t=new O;this._matrices={world:{matrix:t},modelView:{name:"uMVMatrix",matrix:t,location:this.gl.getUniformLocation(this._program.program,"uMVMatrix")},projection:{name:"uPMatrix",matrix:t,location:this.gl.getUniformLocation(this._program.program,"uPMatrix")},modelViewProjection:{matrix:t}}}_setPerspectiveMatrix(){this.camera._shouldUpdate&&(this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.projection.location,!1,this._matrices.projection.matrix.elements)),this.camera.cancelUpdate()}setPerspective(t,e,r){this.camera.setPerspective(t,e,r,this.renderer._boundingRect.width,this.renderer._boundingRect.height,this.renderer.pixelRatio),this.renderer.state.isContextLost&&this.camera.forceUpdate(),this._matrices.projection.matrix=this.camera.projectionMatrix,this.camera._shouldUpdate&&(this._setWorldSizes(),this._applyWorldPositions(),this._translation.z=this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=this.camera._shouldUpdate}_setMVMatrix(){this._updateMVMatrix&&(this._matrices.world.matrix=this._matrices.world.matrix.composeFromOrigin(this._translation,this.quaternion,this.scale,this._boundingRect.world.transformOrigin),this._matrices.world.matrix.scale({x:this._boundingRect.world.width,y:this._boundingRect.world.height,z:1}),this._matrices.modelView.matrix.copy(this._matrices.world.matrix),this._matrices.modelView.matrix.elements[14]-=this.camera.position.z,this._matrices.modelViewProjection.matrix=this._matrices.projection.matrix.multiply(this._matrices.modelView.matrix),this.alwaysDraw||this._shouldDrawCheck(),this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.modelView.location,!1,this._matrices.modelView.matrix.elements)),this._updateMVMatrix=!1}_setWorldTransformOrigin(){this._boundingRect.world.transformOrigin=new k((2*this.transformOrigin.x-1)*this._boundingRect.world.width,-(2*this.transformOrigin.y-1)*this._boundingRect.world.height,this.transformOrigin.z)}_documentToWorldSpace(t){return G.set(t.x*this.renderer.pixelRatio/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width,-(t.y*this.renderer.pixelRatio/this.renderer._boundingRect.height)*this._boundingRect.world.ratios.height,t.z)}_setWorldSizes(){var t=this.camera.getScreenRatiosFromFov();this._boundingRect.world={width:this._boundingRect.document.width/this.renderer._boundingRect.width*t.width/2,height:this._boundingRect.document.height/this.renderer._boundingRect.height*t.height/2,ratios:t},this._setWorldTransformOrigin()}_setWorldPosition(){var t={x:this._boundingRect.document.width/2+this._boundingRect.document.left,y:this._boundingRect.document.height/2+this._boundingRect.document.top},e={x:this.renderer._boundingRect.width/2+this.renderer._boundingRect.left,y:this.renderer._boundingRect.height/2+this.renderer._boundingRect.top};this._boundingRect.world.top=(e.y-t.y)/this.renderer._boundingRect.height*this._boundingRect.world.ratios.height,this._boundingRect.world.left=(t.x-e.x)/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width}setScale(t){t.type&&"Vec2"===t.type?(t.sanitizeNaNValuesWith(this.scale).max(W.set(.001,.001)),t.x===this.scale.x&&t.y===this.scale.y||(this.scale.set(t.x,t.y,1),this._applyScale())):this.renderer.production||m(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",t)}_applyScale(){for(let t=0;t<this.textures.length;t++)this.textures[t].resize();this._updateMVMatrix=!0}setRotation(t){t.type&&"Vec3"===t.type?(t.sanitizeNaNValuesWith(this.rotation),t.equals(this.rotation)||(this.rotation.copy(t),this._applyRotation())):this.renderer.production||m(this.type+": Cannot set rotation because the parameter passed is not of Vec3 type:",t)}_applyRotation(){this.quaternion.setFromVec3(this.rotation),this._updateMVMatrix=!0}setTransformOrigin(t){t.type&&"Vec3"===t.type?(t.sanitizeNaNValuesWith(this.transformOrigin),t.equals(this.transformOrigin)||(this.transformOrigin.copy(t),this._setWorldTransformOrigin(),this._updateMVMatrix=!0)):this.renderer.production||m(this.type+": Cannot set transform origin because the parameter passed is not of Vec3 type:",t)}_setTranslation(){let t=X.set(0,0,0);this.relativeTranslation.equals(t)||(t=this._documentToWorldSpace(this.relativeTranslation)),this._translation.set(this._boundingRect.world.left+t.x,this._boundingRect.world.top+t.y,this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=!0}setRelativeTranslation(t){t.type&&"Vec3"===t.type?(t.sanitizeNaNValuesWith(this.relativeTranslation),t.equals(this.relativeTranslation)||(this.relativeTranslation.copy(t),this._setTranslation())):this.renderer.production||m(this.type+": Cannot set translation because the parameter passed is not of Vec3 type:",t)}_applyWorldPositions(){this._setWorldPosition(),this._setTranslation()}updatePosition(){this._setDocumentSizes(),this._applyWorldPositions()}updateScrollPosition(t,e){(t||e)&&(this._boundingRect.document.top+=e*this.renderer.pixelRatio,this._boundingRect.document.left+=t*this.renderer.pixelRatio,this._applyWorldPositions())}_getIntersection(t,e){var r=e.clone().sub(t);let i=t.clone();for(;-1<i.z;)i.add(r);return i}_getNearPlaneIntersections(r,i,s){var t=this._matrices.modelViewProjection.matrix;if(1===s.length)0===s[0]?(i[0]=this._getIntersection(i[1],Q.set(.95,1,0).applyMat4(t)),i.push(this._getIntersection(i[3],Z.set(-1,-.95,0).applyMat4(t)))):1===s[0]?(i[1]=this._getIntersection(i[0],Q.set(-.95,1,0).applyMat4(t)),i.push(this._getIntersection(i[2],Z.set(1,-.95,0).applyMat4(t)))):2===s[0]?(i[2]=this._getIntersection(i[3],Q.set(-.95,-1,0).applyMat4(t)),i.push(this._getIntersection(i[1],Z.set(1,.95,0).applyMat4(t)))):3===s[0]&&(i[3]=this._getIntersection(i[2],Q.set(.95,-1,0).applyMat4(t)),i.push(this._getIntersection(i[0],Z.set(-1,.95,0).applyMat4(t))));else if(2===s.length)0===s[0]&&1===s[1]?(i[0]=this._getIntersection(i[3],Q.set(-1,-.95,0).applyMat4(t)),i[1]=this._getIntersection(i[2],Z.set(1,-.95,0).applyMat4(t))):1===s[0]&&2===s[1]?(i[1]=this._getIntersection(i[0],Q.set(-.95,1,0).applyMat4(t)),i[2]=this._getIntersection(i[3],Z.set(-.95,-1,0).applyMat4(t))):2===s[0]&&3===s[1]?(i[2]=this._getIntersection(i[1],Q.set(1,.95,0).applyMat4(t)),i[3]=this._getIntersection(i[0],Z.set(-1,.95,0).applyMat4(t))):0===s[0]&&3===s[1]&&(i[0]=this._getIntersection(i[1],Q.set(.95,1,0).applyMat4(t)),i[3]=this._getIntersection(i[2],Z.set(.95,-1,0).applyMat4(t)));else if(3===s.length){let e=0;for(let t=0;t<r.length;t++)s.includes(t)||(e=t);i=[i[e]],0===e?(i.push(this._getIntersection(i[0],Q.set(-.95,1,0).applyMat4(t))),i.push(this._getIntersection(i[0],Z.set(-1,.95,0).applyMat4(t)))):1===e?(i.push(this._getIntersection(i[0],Q.set(.95,1,0).applyMat4(t))),i.push(this._getIntersection(i[0],Z.set(1,.95,0).applyMat4(t)))):2===e?(i.push(this._getIntersection(i[0],Q.set(.95,-1,0).applyMat4(t))),i.push(this._getIntersection(i[0],Z.set(1,-.95,0).applyMat4(t)))):3===e&&(i.push(this._getIntersection(i[0],Q.set(-.95,-1,0).applyMat4(t))),i.push(this._getIntersection(i[0],Z.set(-1.95,0).applyMat4(t))))}else for(let t=0;t<r.length;t++)i[t][0]=1e4,i[t][1]=1e4;return i}_getWorldCoords(){const e=[Y.set(-1,1,0),j.set(1,1,0),H.set(1,-1,0),q.set(-1,-1,0)];let r=[],i=[];for(let t=0;t<e.length;t++){var s=e[t].applyMat4(this._matrices.modelViewProjection.matrix);r.push(s),1<Math.abs(s.z)&&i.push(t)}i.length&&(r=this._getNearPlaneIntersections(e,r,i));let n=1/0,a=-1/0,o=1/0,h=-1/0;for(let t=0;t<r.length;t++){var l=r[t];l.x<n&&(n=l.x),l.x>a&&(a=l.x),l.y<o&&(o=l.y),l.y>h&&(h=l.y)}return{top:h,right:a,bottom:o,left:n}}_computeWebGLBoundingRect(){var t=this._getWorldCoords();let e={top:1-(t.top+1)/2,right:(t.right+1)/2,bottom:1-(t.bottom+1)/2,left:(t.left+1)/2};e.width=e.right-e.left,e.height=e.bottom-e.top,this._boundingRect.worldToDocument={width:e.width*this.renderer._boundingRect.width,height:e.height*this.renderer._boundingRect.height,top:e.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top,left:e.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left,right:e.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left+e.width*this.renderer._boundingRect.width,bottom:e.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top+e.height*this.renderer._boundingRect.height}}getWebGLBoundingRect(){return this._matrices.modelViewProjection?(this._boundingRect.worldToDocument&&!this.alwaysDraw||this._computeWebGLBoundingRect(),this._boundingRect.worldToDocument):this._boundingRect.document}_getWebGLDrawRect(){return this._computeWebGLBoundingRect(),{top:this._boundingRect.worldToDocument.top-this.drawCheckMargins.top,right:this._boundingRect.worldToDocument.right+this.drawCheckMargins.right,bottom:this._boundingRect.worldToDocument.bottom+this.drawCheckMargins.bottom,left:this._boundingRect.worldToDocument.left-this.drawCheckMargins.left}}_shouldDrawCheck(){var t=this._getWebGLDrawRect();Math.round(t.right)<=this.renderer._boundingRect.left||Math.round(t.left)>=this.renderer._boundingRect.left+this.renderer._boundingRect.width||Math.round(t.bottom)<=this.renderer._boundingRect.top||Math.round(t.top)>=this.renderer._boundingRect.top+this.renderer._boundingRect.height?this._shouldDraw&&(this._shouldDraw=!1,this.renderer.nextRender.add(()=>this._onLeaveViewCallback&&this._onLeaveViewCallback())):(this._shouldDraw||this.renderer.nextRender.add(()=>this._onReEnterViewCallback&&this._onReEnterViewCallback()),this._shouldDraw=!0)}isDrawn(){return this._canDraw&&this.visible&&(this._shouldDraw||this.alwaysDraw)}enableDepthTest(t){this._depthTest=t}_initSources(){let t=0;var e,r,i;this.autoloadSources&&(e=this.htmlElement.getElementsByTagName("img"),r=this.htmlElement.getElementsByTagName("video"),i=this.htmlElement.getElementsByTagName("canvas"),e.length&&this.loadImages(e),r.length&&this.loadVideos(e),i.length&&this.loadCanvases(e),t=e.length+r.length+i.length),this.loader._setLoaderSize(t),this._canDraw=!0}_startDrawing(){this._canDraw&&(this._onRenderCallback&&this._onRenderCallback(),this.target?this.renderer.bindFrameBuffer(this.target):null===this.renderer.state.scenePassIndex&&this.renderer.bindFrameBuffer(null),this._setPerspectiveMatrix(),this._setMVMatrix(),(this.alwaysDraw||this._shouldDraw)&&this.visible&&this._draw())}mouseToPlaneCoords(t){if($.setAxisOrder(this.quaternion.axisOrder),$.equals(this.quaternion)&&K.equals(this.transformOrigin))return super.mouseToPlaneCoords(t);{var e={x:t.x/(this.renderer._boundingRect.width/this.renderer.pixelRatio)*2-1,y:2*(1-t.y/(this.renderer._boundingRect.height/this.renderer.pixelRatio))-1};const r=this.camera.position.clone(),i=J.set(e.x,e.y,-.5);i.unproject(this.camera),i.sub(r).normalize();const s=tt.set(0,0,-1);s.applyQuat(this.quaternion).normalize();const n=rt.set(0,0,0);t=s.dot(i);if(1e-4<=Math.abs(t)){e=this._matrices.world.matrix.getInverse().multiply(this.camera.viewMatrix);const a=this._boundingRect.world.transformOrigin.clone().add(this._translation),o=et.set(this._translation.x-a.x,this._translation.y-a.y,this._translation.z-a.z);o.applyQuat(this.quaternion),a.add(o);t=s.dot(a.clone().sub(r))/t;n.copy(r.add(i.multiplyScalar(t))),n.applyMat4(e)}else n.set(1/0,1/0,1/0);return it.set(n.x,n.y)}}onReEnterView(t){return t&&(this._onReEnterViewCallback=t),this}onLeaveView(t){return t&&(this._onLeaveViewCallback=t),this}}(class extends null{});(class extends null{});(class extends null{})},441:function(t,e,r){"use strict";r.d(e,{Dd:function(){return o},$p:function(){return h},l6:function(){return l}});function i(){return v||"undefined"!=typeof window&&(v=window.gsap)&&v.registerPlugin&&v}function m(t,e){return!!(void 0===t?e:t&&!~(t+"").indexOf("false"))}function s(t){if(v=t||i()){a=v.registerEase;var e,r=v.parseEase();for(e in r)r[e].config||r[e];for(e in a("slow",o),a("expoScale",h),a("rough",l),d)"version"!==e&&v.core.globals(e,d[e])}}function n(t,e,r){var i=(t=Math.min(1,t||.7))<1?e||0===e?e:.7:0,s=(1-t)/2,n=s+t,a=m(r);return function(t){var e=t+(.5-t)*i;return t<s?a?1-(t=1-t/s)*t:e-(t=1-t/s)*t*t*t*e:n<t?a?1===t?0:1-(t=(t-n)/s)*t:e+(t-e)*(t=(t-n)/s)*t*t*t:a?1:e}}function x(t,e,r){this.t=t,this.v=e,r&&(((this.next=r).prev=this).c=r.v-e,this.gap=r.t-t)}
/*!
 * EasePack 3.6.0
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var v,a,r=function(e,t,r){var i=Math.log(t/e),s=t-e;return r=r&&v.parseEase(r),function(t){return(e*Math.exp(i*(r?r(t):t))-e)/s}},e=function(t){for(var e,r,i,s,n,a,o,h=(t="object"!=typeof t?{points:+t||20}:t).taper||"none",l=[],u=0,d=0|(+t.points||20),c=d,p=m(t.randomize,!0),f=m(t.clamp),g=v?v.parseEase(t.template):0,_=.4*(+t.strength||1);-1<--c;)e=p?Math.random():1/d*c,r=g?g(e):e,i="none"===h?_:"out"===h?(s=1-e)*s*_:"in"===h?e*e*_:e<.5?(s=2*e)*s*.5*_:(s=2*(1-e))*s*.5*_,p?r+=Math.random()*i-.5*i:c%2?r+=.5*i:r-=.5*i,f&&(1<r?r=1:r<0&&(r=0)),l[u++]={x:e,y:r};for(l.sort(function(t,e){return t.x-e.x}),a=new x(1,1,null),c=d;c--;)n=l[c],a=new x(n.x,n.y,a);return o=new x(0,0,a.t?a:a.next),function(t){var e=o;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(o=e).v+(t-e.t)/e.gap*e.c}},o=n(.7);(o.ease=o).config=n;var h=r(1,2);h.config=r;var l=e();(l.ease=l).config=e;var u,d={SlowMo:o,RoughEase:l,ExpoScaleEase:h};for(u in d)d[u].register=s,d[u].version="3.6.0";i()&&v.registerPlugin(o)},715:function(t,e,r){"use strict";r.d(e,{X:function(){return wt}});function i(t){return"string"==typeof t}function R(t){return Math.round(1e10*t)/1e10||0}function S(t,e,r,i){var s=t[e];return(i=1===i?6:B(s,r,i))&&i+r+2<s.length&&(t.splice(e,0,s.slice(0,r+i+2)),s.splice(0,r+i),1)}function C(t,e){var r=t.length;for(e||t.reverse();r--;)t[r].reversed||function(t){var e,r=0;for(t.reverse();r<t.length;r+=2)e=t[r],t[r]=t[r+1],t[r+1]=e;t.reversed=!t.reversed}(t[r])}
/*!
 * paths 3.6.0
 * https://greensock.com
 *
 * Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var b=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,w=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,T=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,s=/(^[#\.][a-z]|[a-y][a-z])/i,F=Math.PI/180,o=180/Math.PI,L=Math.sin,D=Math.cos,z=Math.abs,I=Math.sqrt,P=Math.atan2,A=1e8,h=function(t){return"number"==typeof t},M={},E={},p=function(t){return Math.round((t+A)%1*1e5)/1e5||(t<0?0:1)},O=function(t){return Math.round(1e5*t)/1e5||0},k=function(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):t.totalPoints&&(e.totalPoints=t.totalPoints),e};function f(t){var e,r=(t=i(t)&&s.test(t)&&document.querySelector(t)||t).getAttribute?t:0;return r&&(t=t.getAttribute("d"))?(r._gsPath||(r._gsPath={}),(e=r._gsPath[t])&&!e._dirty?e:r._gsPath[t]=X(t)):t?i(t)?X(t):h(t[0])?[t]:t:void 0}var U={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"};function n(t,e){var r,i,s,n,a,o,h,l,u,d,c,p,f,g,_,m,x,v=t.tagName.toLowerCase(),y=.552284749831;return"path"!==v&&t.getBBox?(a=function(t,e){var r,i=document.createElementNS("http://www.w3.org/2000/svg","path"),s=[].slice.call(t.attributes),n=s.length;for(e=","+e+",";-1<--n;)r=s[n].nodeName.toLowerCase(),e.indexOf(","+r+",")<0&&i.setAttributeNS(null,r,s[n].nodeValue);return i}(t,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),x=function(t,e){for(var r=e?e.split(","):[],i={},s=r.length;-1<--s;)i[r[s]]=+t.getAttribute(r[s])||0;return i}(t,U[v]),"rect"===v?(s=x.rx,n=x.ry||s,r=x.x,i=x.y,o=x.width-2*s,h=x.height-2*n,h=s||n?"M"+(p=(d=(u=r+s)+o)+s)+","+(f=i+n)+" V"+(g=f+h)+" C"+[p,_=g+n*y,c=d+s*y,m=g+n,d,m,d-(d-u)/3,m,u+(d-u)/3,m,u,m,l=r+s*(1-y),m,r,_,r,g,r,g-(g-f)/3,r,f+(g-f)/3,r,f,r,g=i+n*(1-y),l,i,u,i,u+(d-u)/3,i,d-(d-u)/3,i,d,i,c,i,p,g,p,f].join(",")+"z":"M"+(r+o)+","+i+" v"+h+" h"+-o+" v"+-h+" h"+o+"z"):"circle"===v||"ellipse"===v?(o="circle"===v?(s=n=x.r)*y:(s=x.rx,(n=x.ry)*y),h="M"+((r=x.cx)+s)+","+(i=x.cy)+" C"+[r+s,i+o,r+(y=s*y),i+n,r,i+n,r-y,i+n,r-s,i+o,r-s,i,r-s,i-o,r-y,i-n,r,i-n,r+y,i-n,r+s,i-o,r+s,i].join(",")+"z"):"line"===v?h="M"+x.x1+","+x.y1+" L"+x.x2+","+x.y2:"polyline"!==v&&"polygon"!==v||(h="M"+(r=(x=(t.getAttribute("points")+"").match(w)||[]).shift())+","+(i=x.shift())+" L"+x.join(","),"polygon"===v&&(h+=","+r+","+i+"z")),a.setAttribute("d",G(a._gsRawPath=X(h))),e&&t.parentNode&&(t.parentNode.insertBefore(a,t),t.parentNode.removeChild(t)),a):t}function N(t,e,r){var i,s=t[e],n=t[e+2],a=t[e+4];return s+=(n-s)*r,i=(n+=(a-n)*r)+(a+(t[e+6]-a)*r-n)*r-(s+=(n-s)*r),s=t[e+1],n=t[e+3],a=t[e+5],s+=(n-s)*r,O(P((n+=(a-n)*r)+(a+(t[e+7]-a)*r-n)*r-(s+=(n-s)*r),i)*o)}function g(t,e,r){r=void 0===r?1:R(r)||0,e=R(e)||0;var i=Math.max(0,~~(z(r-e)-1e-8)),s=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=k(t[r],t[r].slice(0));return k(t,e)}(t);r<e&&(e=1-e,r=1-r,C(s),s.totalLength=0),(e<0||r<0)&&(e+=P=Math.abs(~~Math.min(e,r))+1,r+=P),s.totalLength||V(s);var n,a,o,h,l,u,d,c,p,f,g=1<r,_=W(s,e,M,!0),m=W(s,r,E),x=m.segment,v=_.segment,y=m.segIndex,b=_.segIndex,w=m.i,T=_.i,t=b===y,P=w===T&&t;if(g||i){for(g=y<b||t&&w<T||P&&m.t<_.t,S(s,b,T,_.t)&&(b++,g||(y++,P?(m.t=(m.t-_.t)/(1-_.t),w=0):t&&(w-=T))),1-(r-e)<1e-5?y=b-1:!m.t&&y?y--:S(s,y,w,m.t)&&g&&b++,1===_.t&&(b=(b+1)%s.length),a=[],h=1+(o=s.length)*i,h+=(o-(l=b)+y)%o,n=0;n<h;n++)u=a,d=s[l++%o],f=p=c=void 0,c=u.length,p=u[c-1]||[],f=p.length,c&&d[0]===p[f-2]&&d[1]===p[f-1]&&(d=p.concat(d.slice(2)),c--),u[c]=d;s=a}else if(i=1===m.t?6:B(x,w,m.t),e!==r)for(P=B(v,T,P?_.t/m.t:_.t),t&&(i+=P),x.splice(w+i+2),(P||T)&&v.splice(0,T+P),n=s.length;n--;)(n<b||y<n)&&s.splice(n,1);else x.angle=N(x,w+i,0),_=x[w+=i],m=x[w+1],x.length=x.totalLength=0,x.totalPoints=s.totalPoints=8,x.push(_,m,_,m,_,m,_,m);return s.totalLength=0,s}function V(t,e){for(var r,i,s=r=i=0;s<t.length;s++)t[s].resolution=~~e||12,i+=t[s].length,r+=function(t,e,r){e=e||0,t.samples||(t.samples=[],t.lookup=[]);var i,s,n,a,o,h,l,u,d,c,p,f,g,_,m,x,v=~~t.resolution||12,y=1/v,b=r?e+6*r+1:t.length,w=t[e],T=t[e+1],P=e?e/6*v:0,R=t.samples,S=t.lookup,C=(e?t.minLength:A)||A,M=R[P+r*v-1],E=e?R[P-1]:0;for(R.length=S.length=0,s=e+2;s<b;s+=6){if(n=t[s+4]-w,a=t[s+2]-w,o=t[s]-w,u=t[s+5]-T,d=t[s+3]-T,c=t[s+1]-T,l=p=0,z(n)<1e-5&&z(u)<1e-5&&z(o)+z(c)<1e-5)8<t.length&&(t.splice(s,6),s-=6,b-=6);else for(i=1;i<=v;i++)h=l-(l=((g=y*i)*g*n+3*(f=1-g)*(g*a+f*o))*g),g=p-(p=(g*g*u+3*f*(g*d+f*c))*g),(m=I(g*g+h*h))<C&&(C=m),E+=m,R[P++]=E;w+=n,T+=u}if(M)for(M-=E;P<R.length;P++)R[P]+=M;if(R.length&&C)for(t.totalLength=x=R[R.length-1]||0,t.minLength=C,i=m=_=0;i<x;i+=C)S[m++]=R[_]<i?++_:_;else t.totalLength=R[0]=0;return e?E-R[e/2-1]:E}(t[s]);return t.totalPoints=i,t.totalLength=r,t}function B(t,e,r){if(r<=0||1<=r)return 0;var i=t[e],s=t[e+1],n=t[e+2],a=t[e+3],o=t[e+4],h=t[e+5],l=i+(n-i)*r,u=n+(o-n)*r,i=s+(a-s)*r,n=a+(h-a)*r,s=l+(u-l)*r,a=i+(n-i)*r,o=o+(t[e+6]-o)*r,h=h+(t[e+7]-h)*r;return u+=(o-u)*r,n+=(h-n)*r,t.splice(e+2,4,O(l),O(i),O(s),O(a),O(s+(u-s)*r),O(a+(n-a)*r),O(u),O(n),O(o),O(h)),t.samples&&t.samples.splice(e/6*t.resolution|0,0,0,0,0,0,0,0),6}function W(t,e,r,i){r=r||{},t.totalLength||V(t),(e<0||1<e)&&(e=p(e));var s,n,a,o,h,l,u,d=0,c=t[0];if(e)if(1===e)l=(c=t[d=t.length-(u=1)]).length-8;else{if(1<t.length){for(a=t.totalLength*e,h=l=0;(h+=t[l++].totalLength)<a;)d=l;e=(a-(o=h-(c=t[d]).totalLength))/(h-o)||0}s=c.samples,n=c.resolution,a=c.totalLength*e,o=(l=c.lookup[~~(a/c.minLength)]||0)?s[l-1]:0,(h=s[l])<a&&(o=h,h=s[++l]),u=1/n*((a-o)/(h-o)+l%n),l=6*~~(l/n),i&&1===u&&(l+6<c.length?(l+=6,u=0):d+1<t.length&&(l=u=0,c=t[++d]))}else c=t[u=l=d=0];return r.t=u,r.i=l,r.path=t,r.segment=c,r.segIndex=d,r}function a(t,e,r,i){var s,n,a,o,h,l=t[0],u=i||{};if((e<0||1<e)&&(e=p(e)),1<t.length){for(s=t.totalLength*e,n=a=0;(n+=t[a++].totalLength)<s;)l=t[a];e=(s-(h=n-l.totalLength))/(n-h)||0}return o=l.samples,i=l.resolution,s=l.totalLength*e,h=(a=l.lookup[e<1?~~(s/l.minLength):l.lookup.length-1]||0)?o[a-1]:0,(n=o[a])<s&&(h=n,n=o[++a]),o=1/i*((s-h)/(n-h)+a%i)||0,h=l[a=6*~~(a/i)],u.x=O((o*o*(l[a+6]-h)+3*(i=1-o)*(o*(l[a+4]-h)+i*(l[a+2]-h)))*o+h),u.y=O((o*o*(l[a+7]-(h=l[a+1]))+3*i*(o*(l[a+5]-h)+i*(l[a+3]-h)))*o+h),r&&(u.angle=l.totalLength?N(l,a,1<=o?1-1e-9:o||1e-9):l.angle||0),u}function c(t,e,r,i,s,n,a){for(var o,h,l,u,d,c=t.length;-1<--c;)for(h=(o=t[c]).length,l=0;l<h;l+=2)u=o[l],d=o[l+1],o[l]=u*e+d*i+n,o[l+1]=u*r+d*s+a;return t._dirty=1,t}function X(t){function e(t,e,r,i){l=(r-t)/3,u=(i-e)/3,a.push(t+l,e+u,r-l,i-u,r,i)}var r,i,s,n,a,o,h,l,u,d,c,p,f,g=(t+"").replace(T,function(t){t=+t;return t<1e-4&&-1e-4<t?0:t}).match(b)||[],_=[],m=0,x=0,v=g.length,y=0;if(!t||!isNaN(g[0])||isNaN(g[1]))return _;for(r=0;r<v;r++)if(c=s,isNaN(g[r])?n=(s=g[r].toUpperCase())!==g[r]:r--,p=+g[r+1],f=+g[r+2],n&&(p+=m,f+=x),r||(o=p,h=f),"M"===s)a&&(a.length<8?--_.length:y+=a.length),m=o=p,x=h=f,_.push(a=[p,f]),r+=2,s="L";else if("C"===s)n||(m=x=0),(a=a||[0,0]).push(p,f,m+ +g[r+3],x+ +g[r+4],m+=+g[r+5],x+=+g[r+6]),r+=6;else if("S"===s)l=m,u=x,"C"!==c&&"S"!==c||(l+=m-a[a.length-4],u+=x-a[a.length-3]),n||(m=x=0),a.push(l,u,p,f,m+=+g[r+3],x+=+g[r+4]),r+=4;else if("Q"===s)l=m+2/3*(p-m),u=x+2/3*(f-x),n||(m=x=0),m+=+g[r+3],x+=+g[r+4],a.push(l,u,m+2/3*(p-m),x+2/3*(f-x),m,x),r+=4;else if("T"===s)l=m-a[a.length-4],u=x-a[a.length-3],a.push(m+l,x+u,p+2/3*(m+1.5*l-p),f+2/3*(x+1.5*u-f),m=p,x=f),r+=2;else if("H"===s)e(m,x,m=p,x),r+=1;else if("V"===s)e(m,x,m,x=p+(n?x-m:0)),r+=1;else if("L"===s||"Z"===s)"Z"===s&&(p=o,f=h,a.closed=!0),("L"===s||.5<z(m-p)||.5<z(x-f))&&(e(m,x,p,f),"L"===s&&(r+=2)),m=p,x=f;else if("A"===s){if(p=g[r+4],f=g[r+5],l=g[r+6],u=g[r+7],i=7,1<p.length&&(p.length<3?(u=l,l=f,i--):(u=f,l=p.substr(2),i-=2),f=p.charAt(1),p=p.charAt(0)),d=function(t,e,r,i,s,n,a,o,h){if(t!==o||e!==h){r=z(r),i=z(i);var l=s%360*F,u=D(l),d=L(l),c=Math.PI,p=2*c,f=(t-o)/2,g=(e-h)/2,_=u*f+d*g,m=-d*f+u*g,x=_*_,l=m*m,f=x/(r*r)+l/(i*i);1<f&&(r=I(f)*r,i=I(f)*i);var g=r*r,f=i*i,x=(g*f-g*l-f*x)/(g*l+f*x),n=(n===a?-1:1)*I(x=x<0?0:x),x=r*m/i*n,n=-i*_/r*n,v=u*x-d*n+(t+o)/2,y=d*x+u*n+(e+h)/2,b=(_-x)/r,w=(m-n)/i,e=(-_-x)/r,x=(-m-n)/i,n=b*b+w*w,T=(w<0?-1:1)*Math.acos(b/I(n)),x=(b*x-w*e<0?-1:1)*Math.acos((b*e+w*x)/I(n*(e*e+x*x)));isNaN(x)&&(x=c),!a&&0<x?x-=p:a&&x<0&&(x+=p),T%=p,x%=p;for(var P=Math.ceil(z(x)/(p/4)),R=[],S=x/P,C=4/3*L(S/2)/(1+D(S/2)),M=u*r,E=d*r,A=d*-i,O=u*i,k=0;k<P;k++)_=D(s=T+k*S),m=L(s),b=D(s+=S),w=L(s),R.push(_-C*m,m+C*_,b+C*w,w-C*b,b,w);for(k=0;k<R.length;k+=2)_=R[k],m=R[k+1],R[k]=_*M+m*A+v,R[k+1]=_*E+m*O+y;return R[k-2]=o,R[k-1]=h,R}}(m,x,+g[r+1],+g[r+2],+g[r+3],+p,+f,(n?m:0)+ +l,(n?x:0)+ +u),r+=i,d)for(i=0;i<d.length;i++)a.push(d[i]);m=a[a.length-2],x=a[a.length-1]}return(r=a.length)<6?(_.pop(),r=0):a[0]===a[r-2]&&a[1]===a[r-1]&&(a.closed=!0),_.totalPoints=y+r,_}function l(t,e){void 0===e&&(e=1);for(var r=t[0],i=0,s=[r,i],n=2;n<t.length;n+=2)s.push(r,i,t[n],i=(t[n]-r)*e/2,r=t[n],-i);return s}function u(t,e,r){var i,s,n,a,o,h,l,u,d,c,p,f,g=(t=z(t[0]-t[2])<1e-4&&z(t[1]-t[3])<1e-4?t.slice(2):t).length-2,_=+t[0],m=+t[1],x=+t[2],v=+t[3],y=[_,m,_,m],b=x-_,w=v-m,T=Math.abs(t[g]-_)<.001&&Math.abs(t[g+1]-m)<.001;for(isNaN(r)&&(r=Math.PI/10),T&&(t.push(x,v),x=_,v=m,_=t[g-2],m=t[g-1],t.unshift(_,m),g+=4),e=e||0===e?+e:1,o=2;o<g;o+=2)i=_,s=m,_=x,m=v,x=+t[o+2],v=+t[o+3],_===x&&m===v||(l=x-i,d=v-s,p=(h=b)*h+(u=w)*u,f=(b=x-_)*b+(w=v-m)*w,c=(n=Math.acos((p+f-(l*l+d*d))/I(4*p*f)))/Math.PI*e,p=I(p)*c,c*=I(f),_===i&&m===s||(r<n?(a=P(d,l),y.push(O(_-D(a)*p),O(m-L(a)*p),O(_),O(m),O(_+D(a)*c),O(m+L(a)*c))):(a=P(u,h),y.push(O(_-D(a)*p),O(m-L(a)*p)),a=P(w,b),y.push(O(_),O(m),O(_+D(a)*c),O(m+L(a)*c)))));return _!==x||m!==v||y.length<4?y.push(O(x),O(v),O(x),O(v)):y.length-=2,T&&(y.splice(0,6),y.length=y.length-6),y}function G(t){for(var e,r,i,s="",n=(t=h(t[0])?[t]:t).length,a=0;a<n;a++){for(i=t[a],s+="M"+O(i[0])+","+O(i[1])+" C",e=i.length,r=2;r<e;r++)s+=O(i[r++])+","+O(i[r++])+" "+O(i[r++])+","+O(i[r++])+" "+O(i[r++])+","+O(i[r])+" ";i.closed&&(s+="z")}return s}function d(t){var e,r=t.ownerDocument||t;!(J in t.style)&&"msTransform"in t.style&&(tt=(J="msTransform")+"Origin");for(;r.parentNode&&(r=r.parentNode););return j=window,$=new it,r&&(H=(Y=r).documentElement,q=r.body,e=r.createElement("div"),t=r.createElement("div"),q.appendChild(e),e.appendChild(t),e.style.position="static",e.style[J]="translate3d(0,0,1px)",K=t.offsetParent!==e,q.removeChild(e)),r}function _(t){return t.ownerSVGElement||("svg"===(t.tagName+"").toLowerCase()?t:null)}function m(t){return"fixed"===j.getComputedStyle(t).position||((t=t.parentNode)&&1===t.nodeType?m(t):void 0)}function x(t,e){if(t.parentNode&&(Y||d(t))){var r=_(t),i=r?r.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",s=r?e?"rect":"g":"div",n=2!==e?0:100,a=3===e?100:0,o="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",s=Y.createElementNS?Y.createElementNS(i.replace(/^https/,"http"),s):Y.createElement(s);return e&&(r?(Z=Z||x(t),s.setAttribute("width",.01),s.setAttribute("height",.01),s.setAttribute("transform","translate("+n+","+a+")"),Z.appendChild(s)):(Q||((Q=x(t)).style.cssText=o),s.style.cssText=o+"width:0.1px;height:0.1px;top:"+a+"px;left:"+n+"px",Q.appendChild(s))),s}throw"Need document and parent."}function v(t,e){var r,i,s,n,a=_(t),o=t===a,h=a?et:rt,l=t.parentNode;if(t===j)return t;if(h.length||h.push(x(t,1),x(t,2),x(t,3)),h=a?Z:Q,a)i=o?{x:0,y:0}:t.getBBox(),n=(r=t.transform?t.transform.baseVal:{}).numberOfItems?(s=(r=1<r.numberOfItems?function(t){for(var e=new it,r=0;r<t.numberOfItems;r++)e.multiply(t.getItem(r).matrix);return e}(r):r.getItem(0).matrix).a*i.x+r.c*i.y,r.b*i.x+r.d*i.y):(r=$,s=i.x,i.y),e&&"g"===t.tagName.toLowerCase()&&(s=n=0),h.setAttribute("transform","matrix("+r.a+","+r.b+","+r.c+","+r.d+","+(r.e+s)+","+(r.f+n)+")"),(o?a:l).appendChild(h);else{if(s=n=0,K)for(r=t.offsetParent,i=t;(i=i&&i.parentNode)&&i!==r&&i.parentNode;)4<(j.getComputedStyle(i)[J]+"").length&&(s=i.offsetLeft,n=i.offsetTop,i=0);if("absolute"!==(a=j.getComputedStyle(t)).position)for(r=t.offsetParent;l!==r;)s+=l.scrollLeft||0,n+=l.scrollTop||0,l=l.parentNode;(i=h.style).top=t.offsetTop-n+"px",i.left=t.offsetLeft-s+"px",i[J]=a[J],i[tt]=a[tt],i.position="fixed"===a.position?"fixed":"absolute",t.parentNode.appendChild(h)}return h}function y(t,e,r,i,s,n,a){return t.a=e,t.b=r,t.c=i,t.d=s,t.e=n,t.f=a,t}
/*!
 * matrix 3.6.0
 * https://greensock.com
 *
 * Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Y,j,H,q,Q,Z,$,K,J="transform",tt=J+"Origin",et=[],rt=[],it=function(){function t(t,e,r,i,s,n){y(this,t=void 0===t?1:t,e=void 0===e?0:e,r=void 0===r?0:r,i=void 0===i?1:i,s=void 0===s?0:s,n=void 0===n?0:n)}var e=t.prototype;return e.inverse=function(){var t=this.a,e=this.b,r=this.c,i=this.d,s=this.e,n=this.f,a=t*i-e*r||1e-10;return y(this,i/a,-e/a,-r/a,t/a,(r*n-i*s)/a,-(t*n-e*s)/a)},e.multiply=function(t){var e=this.a,r=this.b,i=this.c,s=this.d,n=this.e,a=this.f,o=t.a,h=t.c,l=t.b,u=t.d,d=t.e,t=t.f;return y(this,o*e+l*i,o*r+l*s,h*e+u*i,h*r+u*s,n+d*e+t*i,a+d*r+t*s)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(t){var e=this.a,r=this.b,i=this.c,s=this.d,n=this.e,a=this.f;return e===t.a&&r===t.b&&i===t.c&&s===t.d&&n===t.e&&a===t.f},e.apply=function(t,e){var r=t.x,i=t.y,s=this.a,n=this.b,a=this.c,o=this.d,h=this.e,t=this.f;return(e=void 0===e?{}:e).x=r*s+i*a+h||0,e.y=r*n+i*o+t||0,e},t}();function st(t,e,r,i){if(!t||!t.parentNode||(Y||d(t)).documentElement===t)return new it;var s=function(t){for(var e,r;t&&t!==q;)(r=t._gsap)&&r.uncache&&r.get(t,"x"),r&&!r.scaleX&&!r.scaleY&&r.renderTransform&&(r.scaleX=r.scaleY=1e-4,r.renderTransform(1,r),e?e.push(r):e=[r]),t=t.parentNode;return e}(t),n=_(t)?et:rt,a=v(t,r),o=n[0].getBoundingClientRect(),h=n[1].getBoundingClientRect(),r=n[2].getBoundingClientRect(),n=a.parentNode,t=!i&&m(t),t=new it((h.left-o.left)/100,(h.top-o.top)/100,(r.left-o.left)/100,(r.top-o.top)/100,o.left+(!t&&(j.pageXOffset||Y.scrollLeft||H.scrollLeft||q.scrollLeft)||0),o.top+(!t&&(j.pageYOffset||Y.scrollTop||H.scrollTop||q.scrollTop)||0));if(n.removeChild(a),s)for(o=s.length;o--;)(h=s[o]).scaleX=h.scaleY=0,h.renderTransform(1,h);return e?t.inverse():t}function nt(t,e,r,i){for(var s=e.length,n=2===i?0:i,a=0;a<s;a++)t[n]=parseFloat(e[a][r]),2===i&&(t[n+1]=0),n+=2;return t}function at(t,e,r){return parseFloat(t._gsap.get(t,e,r||"px"))||0}function ot(t){for(var e=t[0],r=t[1],i=2;i<t.length;i+=2)e=t[i]+=e,r=t[i+1]+=r}function ht(t,e,r,i,s,n,a,o,h){return e="cubic"===a.type?[e]:(e.unshift(at(r,i,o),s?at(r,s,h):0),a.relative&&ot(e),[(s?u:l)(e,a.curviness)]),e=n(yt(e,r,a)),bt(t,r,i,e,"x",o),s&&bt(t,r,s,e,"y",h),V(e,a.resolution||(0===a.curviness?20:12))}function lt(t){return t}function ut(t,e,r){var i,s,n,a=st(t);return"svg"===(t.tagName+"").toLowerCase()?(s=(i=t.viewBox.baseVal).x,n=i.y,i.width||(i={width:+t.getAttribute("width"),height:+t.getAttribute("height")})):(i=e&&t.getBBox&&t.getBBox(),s=n=0),e&&"auto"!==e&&(s+=e.push?e[0]*(i?i.width:t.offsetWidth||0):e.x,n+=e.push?e[1]*(i?i.height:t.offsetHeight||0):e.y),r.apply(s||n?a.apply({x:s,y:n}):{x:a.e,y:a.f})}function dt(t,e,r,i){var s,n=(o=st(t.parentNode,!0,!0)).clone().multiply(st(e)),a=ut(t,r,o),o=(r=ut(e,i,o)).x,r=r.y;return n.e=n.f=0,"auto"===i&&e.getTotalLength&&"path"===e.tagName.toLowerCase()&&(s=e.getAttribute("d").match(vt)||[],o+=(s=n.apply({x:+s[0],y:+s[1]})).x,r+=s.y),(s||e.getBBox&&t.getBBox&&e.ownerSVGElement===t.ownerSVGElement)&&(o-=(s=n.apply(e.getBBox())).x,r-=s.y),n.e=o-a.x,n.f=r-a.y,n}
/*!
 * MotionPathPlugin 3.6.0
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var ct,pt,ft,gt,_t="x,translateX,left,marginLeft,xPercent".split(","),mt="y,translateY,top,marginTop,yPercent".split(","),xt=Math.PI/180,vt=/[-+\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/g,yt=function(t,e,r){var i,s=r.align,n=r.matrix,a=r.offsetX,o=r.offsetY,h=r.alignOrigin,l=t[0][0],u=t[0][1],d=at(e,"x"),r=at(e,"y");return t&&t.length?(s&&("self"===s||(i=gt(s)[0]||e)===e?c(t,1,0,0,1,d-l,r-u):(h&&!1!==h[2]?ct.set(e,{transformOrigin:100*h[0]+"% "+100*h[1]+"%"}):h=[at(e,"xPercent")/-100,at(e,"yPercent")/-100],u=(h=dt(e,i,h,"auto")).apply({x:l,y:u}),c(t,h.a,h.b,h.c,h.d,d+h.e-(u.x-h.e),r+h.f-(u.y-h.f)))),n?c(t,n.a,n.b,n.c,n.d,n.e,n.f):(a||o)&&c(t,1,0,0,1,a||0,o||0),t):f("M0,0L0,0")},bt=function(t,e,r,i,s,n){var a=e._gsap,o=a.harness,o=o&&o.aliases&&o.aliases[r],o=o&&o.indexOf(",")<0?o:r,r=t._pt=new pt(t._pt,e,o,0,0,lt,0,a.set(e,o,t));r.u=ft(a.get(e,o,n))||0,r.path=i,r.pp=s,t._props.push(o)},wt={version:"3.6.0",name:"motionPath",register:function(t,e,r){ft=(ct=t).utils.getUnit,gt=ct.utils.toArray,pt=r},init:function(t,e){if(!ct)return!1;var r,i,s,n=[],a=(e="object"!=typeof e||e.style||!e.path?{path:e}:e).path,o=e.autoRotate,h=e.unitX,l=e.unitY,u=e.x,d=e.y,c=a[0],p=(i=e.start,s="end"in e?e.end:1,function(t){return i||1!==s?g(t,i,s):t});if(this.rawPaths=n,this.target=t,(this.rotate=o||0===o)&&(this.rOffset=parseFloat(o)||0,this.radians=!!e.useRadians,this.rProp=e.rotation||"rotation",this.rSet=t._gsap.set(t,this.rProp,this),this.ru=ft(t._gsap.get(t,this.rProp))||0),!Array.isArray(a)||"closed"in a||"number"==typeof c)V(o=p(yt(f(e.path),t,e)),e.resolution),n.push(o),bt(this,t,e.x||"x",o,"x",e.unitX||"px"),bt(this,t,e.y||"y",o,"y",e.unitY||"px");else{for(r in c)!u&&~_t.indexOf(r)?u=r:!d&&~mt.indexOf(r)&&(d=r);for(r in u&&d?n.push(ht(this,nt(nt([],a,u,0),a,d,1),t,u,d,p,e,h||ft(a[0][u]),l||ft(a[0][d]))):u=d=0,c)r!==u&&r!==d&&n.push(ht(this,nt([],a,r,2),t,r,0,p,e,ft(a[0][r])))}},render:function(t,e){var r=e.rawPaths,i=r.length,s=e._pt;for(1<t?t=1:t<0&&(t=0);i--;)a(r[i],t,!i&&e.rotate,r[i]);for(;s;)s.set(s.t,s.p,s.path[s.pp]+s.u,s.d,t),s=s._next;e.rotate&&e.rSet(e.target,e.rProp,r[0].angle*(e.radians?xt:1)+e.rOffset+e.ru,e,t)},getLength:function(t){return V(f(t)).totalLength},sliceRawPath:g,getRawPath:f,pointsToSegment:u,stringToRawPath:X,rawPathToString:G,transformRawPath:c,getGlobalMatrix:st,getPositionOnPath:a,cacheRawPathMeasurements:V,convertToPath:function(t,e){return gt(t).map(function(t){return n(t,!1!==e)})},convertCoordinates:function(t,e,r){t=st(e,!0,!0).multiply(st(t));return r?t.apply(r):t},getAlignMatrix:dt,getRelativePosition:function(t,e,r,i){i=dt(t,e,r,i);return{x:i.e,y:i.f}},arrayToRawPath:function(t,e){t=nt(nt([],t,(e=e||{}).x||"x",0),t,e.y||"y",1);return e.relative&&ot(t),["cubic"===e.type?t:u(t,e.curviness)]}};(ct||"undefined"!=typeof window&&(ct=window.gsap)&&ct.registerPlugin&&ct)&&ct.registerPlugin(wt)},82:function(t,e,r){"use strict";r.d(e,{i:function(){return j}});function wt(t){return t}function i(){return"undefined"!=typeof window}function s(){return qt||i()&&(qt=window.gsap)&&qt.registerPlugin&&qt}function Tt(t){return!!~c.indexOf(t)}function Pt(t,e){return~ue.indexOf(t)&&ue[ue.indexOf(t)+1][e]}function Rt(e,t){var r=t.s,i=t.sc,s=T.indexOf(e),t=i===Se.sc?1:2;return~s||(s=T.push(e)-1),T[s+t]||(T[s+t]=Pt(e,r)||(Tt(e)?i:function(t){return arguments.length?e[r]=t:e[r]}))}function St(t){return Pt(t,"getBoundingClientRect")||(Tt(t)?function(){return Le.width=Qt.innerWidth,Le.height=Qt.innerHeight,Le}:function(){return Ce(t)})}function Ct(t,e){var r=e.s,i=e.d2,s=e.d,e=e.a;return(r="scroll"+i)&&(e=Pt(t,r))?e()-St(t)()[s]:Tt(t)?Math.max($t[r],Kt[r])-(Qt["inner"+i]||$t["client"+i]||Kt["client"+i]):t[r]-t["offset"+i]}function n(t,e){for(var r=0;r<y.length;r+=3)e&&!~e.indexOf(y[r+1])||t(y[r],y[r+1],y[r+2])}function Mt(t){return"string"==typeof t}function Et(t){return"function"==typeof t}function At(t){return"number"==typeof t}function Ot(t){return"object"==typeof t}function a(t){return Et(t)&&t()}function o(r,i){return function(){var t=a(r),e=a(i);return function(){a(t),a(e)}}}function kt(t){return Qt.getComputedStyle(t)}function Ft(t,e){for(var r in e)r in t||(t[r]=e[r]);return t}function Lt(t,e){return e=e.d2,t["offset"+e]||t["client"+e]||0}function Dt(t){var e,r=[],i=t.labels,s=t.duration();for(e in i)r.push(i[e]/s);return r}function h(e,r,t,i){return t.split(",").forEach(function(t){return e(r,t,i)})}function zt(t,e,r){return t.addEventListener(e,r,{passive:!0})}function It(t,e,r){return t.removeEventListener(e,r)}function Ut(t,e){var r,i;return Mt(t)&&(i=~(r=t.indexOf("="))?+(t.charAt(r-1)+1)*parseFloat(t.substr(r+1)):0,~r&&(t.indexOf("%")>r&&(i*=e/100),t=t.substr(0,r-1)),t=i+(t in A?A[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)),t}function Nt(t,e,r,i,s,n,a){var o=s.startColor,h=s.endColor,l=s.fontSize,u=s.indent,d=s.fontWeight,c=Zt.createElement("div"),p=Tt(r)||"fixed"===Pt(r,"pinType"),f=-1!==t.indexOf("scroller"),s=p?Kt:r,r=-1!==t.indexOf("start"),d="border-color:"+(h=r?o:h)+";font-size:"+l+";color:"+h+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return d+="position:"+(f&&p?"fixed;":"absolute;"),!f&&p||(d+=(i===Se?M:E)+":"+(n+parseFloat(u))+"px;"),a&&(d+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),c._isStart=r,c.setAttribute("class","gsap-marker-"+t),c.style.cssText=d,c.innerText=e||0===e?t+"-"+e:t,s.children[0]?s.insertBefore(c,s.children[0]):s.appendChild(c),c._offset=c["offset"+i.op.d2],O(c,0,i,r),c}function l(){return g=g||f(B)}function Vt(){g||(g=f(B),ce||D("scrollStart"),ce=de())}function Bt(){return!re&&!b&&!Zt.fullscreenElement&&p.restart(!0)}function u(t){var e,r=qt.ticker.frame,i=[],s=0;if(w!==r||le){for(U();s<L.length;s+=4)(e=Qt.matchMedia(L[s]).matches)!==L[s+3]&&((L[s+3]=e)?i.push(s):U(1,L[s])||Et(L[s+2])&&L[s+2]());for(I(),s=0;s<i.length;s++)e=i[s],he=L[e],L[e+2]=L[e+1](t);he=0,d&&N(0,1),w=r,D("matchMedia")}}function Wt(){return It(j,"scrollEnd",Wt)||N(!0)}function Xt(t,e,r,i){if(t.parentNode!==e){for(var s,n=W.length,a=e.style,o=t.style;n--;)a[s=W[n]]=r[s];a.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(a.display="inline-block"),o[E]=o[M]="auto",a.overflow="visible",a.boxSizing="border-box",a[ge]=Lt(t,Re)+Pe,a[_e]=Lt(t,Se)+Pe,a[be]=o[we]=o.top=o[C]="0",Fe(i),o[ge]=o.maxWidth=r[ge],o[_e]=o.maxHeight=r[_e],o[be]=r[be],t.parentNode.insertBefore(e,t),e.appendChild(t)}}function Gt(t){for(var e=X.length,r=t.style,i=[],s=0;s<e;s++)i.push(X[s],r[X[s]]);return i.t=t,i}function Yt(t,e,r,i,s,n,a,o,h,l,u,d){var c,p;return Et(t)&&(t=t(o)),Mt(t)&&"max"===t.substr(0,3)&&(t=d+("="===t.charAt(4)?Ut("0"+t.substr(3),r):0)),At(t)?a&&O(a,r,i,!0):(Et(e)&&(e=e(o)),c=Jt(e)[0]||Kt,o=Ce(c)||{},p=t.split(" "),o&&(o.left||o.top)||"none"!==kt(c).display||(e=c.style.display,c.style.display="block",o=Ce(c),e?c.style.display=e:c.style.removeProperty("display")),c=Ut(p[0],o[i.d]),p=Ut(p[1]||"0",r),t=o[i.p]-h[i.p]-l+c+s-p,a&&O(a,p,i,r-p<20||a._isStart&&20<p),r-=r-p),n&&(p=n._isStart,d="scroll"+i.d2,O(n,r=t+r,i,p&&20<r||!p&&(u?Math.max(Kt[d],$t[d]):n.parentNode[d])<=r+1),u&&(h=Ce(a),u&&(n.style[i.op.p]=h[i.op.p]-i.op.m-n._offset+Pe))),Math.round(t)}function jt(t,e,r,i){if(t.parentNode!==e){var s,n,a=t.style;if(e===Kt){for(s in t._stOrig=a.cssText,n=kt(t))+s||Y.test(s)||!n[s]||"string"!=typeof a[s]||"0"===s||(a[s]=n[s]);a.top=r,a.left=i}else a.cssText=t._stOrig;qt.core.getCache(t).uncache=1,e.appendChild(t)}}function Ht(h,t){function l(t,e,r,i,s){var n=l.tween,a=e.onComplete,o={};return n&&n.kill(),u=Math.round(r),e[p]=t,(e.modifiers=o)[p]=function(t){return(t=Math.round(c()))!==u&&t!==d&&2<Math.abs(t-u)?(n.kill(),l.tween=0):t=r+i*n.ratio+s*n.ratio*n.ratio,d=u,u=Math.round(t)},e.onComplete=function(){l.tween=0,a&&a.call(n)},n=l.tween=qt.to(h,e)}var u,d,c=Rt(h,t),p="_scroll"+t.p2;return h[p]=c,h.addEventListener("mousewheel",function(){return l.tween&&l.tween.kill()&&(l.tween=0)}),l}
/*!
 * ScrollTrigger 3.6.0
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var qt,d,Qt,Zt,$t,Kt,c,p,f,g,Jt,te,ee,_,re,ie,m,se,x,v,y,ne,ae,b,oe,he,w,le=1,ue=[],T=[],de=Date.now,P=de(),ce=0,pe=1,fe=Math.abs,R="scrollLeft",S="scrollTop",C="left",M="right",E="bottom",ge="width",_e="height",me="Right",xe="Left",ve="Top",ye="Bottom",be="padding",we="margin",Te="Width",e="Height",Pe="px",Re={s:R,p:C,p2:xe,os:M,os2:me,d:ge,d2:Te,a:"x",sc:function(t){return arguments.length?Qt.scrollTo(t,Se.sc()):Qt.pageXOffset||Zt[R]||$t[R]||Kt[R]||0}},Se={s:S,p:"top",p2:ve,os:E,os2:ye,d:_e,d2:e,a:"y",op:Re,sc:function(t){return arguments.length?Qt.scrollTo(Re.sc(),t):Qt.pageYOffset||Zt[S]||$t[S]||Kt[S]||0}},Ce=function(t,e){e=e&&"matrix(1, 0, 0, 1, 0, 0)"!==kt(t)[m]&&qt.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),t=t.getBoundingClientRect();return e&&e.progress(0).kill(),t},Me={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ee={toggleActions:"play",anticipatePin:0},A={top:0,left:0,center:.5,bottom:1,right:1},O=function(t,e,r,i){var s={display:"block"},n=r[i?"os2":"p2"],a=r[i?"p2":"os2"];t._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+n+Te]=1,s["border"+a+Te]=0,s[r.p]=e+"px",qt.set(t,s)},Ae=[],Oe={},k={},F=[],L=[],D=function(t){return k[t]&&k[t].map(function(t){return t()})||F},z=[],I=function(t){for(var e=0;e<z.length;e+=4)t&&z[e+3]!==t||(z[e].style.cssText=z[e+1],z[e+2].uncache=1)},U=function(t,e){var r;for(se=0;se<Ae.length;se++)r=Ae[se],e&&r.media!==e||(t?r.kill(1):(r.scroll.rec||(r.scroll.rec=r.scroll()),r.revert()));I(e),e||D("revert")},N=function(t,e){if(!ce||t){t=D("refreshInit");for(ne&&j.sort(),e||U(),se=0;se<Ae.length;se++)Ae[se].refresh();for(t.forEach(function(t){return t&&t.render&&t.render(-1)}),se=Ae.length;se--;)Ae[se].scroll.rec=0;p.pause(),D("refresh")}else zt(j,"scrollEnd",Wt)},V=0,ke=1,B=function(){var t=Ae.length,e=de(),r=50<=e-P,i=t&&Ae[0].scroll();if(ke=i<V?-1:1,V=i,r&&(ce&&!ie&&200<e-ce&&(ce=0,D("scrollEnd")),ee=P,P=e),ke<0){for(se=t;se--;)Ae[se]&&Ae[se].update(0,r);ke=1}else for(se=0;se<t;se++)Ae[se]&&Ae[se].update(0,r);g=0},W=[C,"top",E,M,we+ye,we+me,we+ve,we+xe,"display","flexShrink","float","zIndex"],X=W.concat([ge,_e,"boxSizing","max"+Te,"max"+e,"position",we,be,be+ve,be+me,be+ye,be+xe]),G=/([A-Z])/g,Fe=function(t){if(t){var e,r,i=t.t.style,s=t.length,n=0;for((t.t._gsap||qt.core.getCache(t.t)).uncache=1;n<s;n+=2)r=t[n+1],e=t[n],r?i[e]=r:i[e]&&i.removeProperty(e.replace(G,"-$1").toLowerCase())}},Le={left:0,top:0},Y=/(?:webkit|moz|length|cssText|inset)/i;Re.op=Se;var j=function(){function bt(t,e){d||bt.register(qt),this.init(t,e)}return bt.prototype.init=function(g,_){var m,u,d,i,c,x,t,v,y,b,w,p,e,h,f,T,P,R,S,r,C,M,E,A,O,k,s,F,L,D,n,l,z,I,U,N,V,B,W,X,G,Y,j,H,q,Q,Z,$,K,J,tt,et,rt,it,a,st,nt,at,o,ot,ht,lt,ut,dt,ct,pt,ft,gt,_t,mt,xt,vt,yt;this.progress=this.start=0,this.vars&&this.kill(1),pe?(m=(g=Ft(Mt(g)||At(g)||g.nodeType?{trigger:g}:g,Ee)).horizontal?Re:Se,u=g.onUpdate,d=g.toggleClass,i=g.id,c=g.onToggle,x=g.onRefresh,t=g.scrub,v=g.trigger,y=g.pin,b=g.pinSpacing,w=g.invalidateOnRefresh,p=g.anticipatePin,e=g.onScrubComplete,h=g.onSnapComplete,f=g.once,T=g.snap,P=g.pinReparent,R=!t&&0!==t,S=Jt(g.scroller||Qt)[0],r=qt.core.getCache(S),C=Tt(S),M="pinType"in g?"fixed"===g.pinType:C||"fixed"===Pt(S,"pinType"),E=[g.onEnter,g.onLeave,g.onEnterBack,g.onLeaveBack],A=R&&g.toggleActions.split(" "),yt=("markers"in g?g:Ee).markers,O=!C&&parseFloat(kt(S)["border"+m.p2+Te])||0,k=this,s=g.onRefreshInit&&function(){return g.onRefreshInit(k)},ct=S,pt=C,gt=(ft=m).d,_t=ft.d2,mt=ft.a,F=(mt=Pt(ct,"getBoundingClientRect"))?function(){return mt()[gt]}:function(){return(pt?Qt["inner"+_t]:ct["client"+_t])||0},ft=S,L=!C||~ue.indexOf(ft)?St(ft):function(){return Le},k.media=he,p*=45,Ae.push(k),k.scroller=S,k.scroll=Rt(S,m),I=k.scroll(),k.vars=g,_=_||g.animation,"refreshPriority"in g&&(ne=1),r.tweenScroll=r.tweenScroll||{top:Ht(S,Se),left:Ht(S,Re)},k.tweenTo=D=r.tweenScroll[m.p],_&&(_.vars.lazy=!1,_._initted||!1!==_.vars.immediateRender&&!1!==g.immediateRender&&_.render(0,!0,!0),k.animation=_.pause(),_.scrollTrigger=k,(o=At(t)&&t)&&(at=qt.to(_,{ease:"power3",duration:o,onComplete:function(){return e&&e(k)}})),st=0,i=i||_.vars.id),T&&(Ot(T)||(T={snapTo:T}),"scrollBehavior"in Kt.style&&qt.set(C?[Kt,$t]:S,{scrollBehavior:"auto"}),l=Et(T.snapTo)?T.snapTo:"labels"===T.snapTo?(vt=_,function(t){return qt.utils.snap(Dt(vt),t)}):"labelsDirectional"===T.snapTo?(xt=_,function(t,e){var r,i=Dt(xt);if(i.sort(function(t,e){return t-e}),0<e.direction){for(r=0;r<i.length;r++)if(i[r]>=t)return i[r];return i.pop()}for(r=i.length;r--;)if(i[r]<=t)return i[r];return i[0]}):qt.utils.snap(T.snapTo),ot=T.duration||{min:.1,max:2},ot=Ot(ot)?te(ot.min,ot.max):te(ot,ot),ht=qt.delayedCall(T.delay||o/2||.1,function(){var t,e,r,i,s,n,a,o;Math.abs(k.getVelocity())<10&&!ie?(e=((t=_&&!R?_.totalProgress():k.progress)-nt)/(de()-ee)*1e3||0,r=fe(e/2)*e/.185,s=te(0,1,l(i=t+r,k)),n=k.scroll(),a=Math.round(N+s*Y),o=D.tween,n<=V&&N<=n&&a!==n&&(o&&!o._initted&&o.data<=Math.abs(a-n)||D(a,{duration:ot(fe(.185*Math.max(fe(i-t),fe(s-t))/e/.05||0)),ease:T.ease||"power3",data:Math.abs(a-n),onComplete:function(){st=nt=_&&!R?_.totalProgress():k.progress,h&&h(k)}},n,r*Y,a-n-r*Y))):k.isActive&&ht.restart(!0)}).pause()),i&&(Oe[i]=k),v=k.trigger=Jt(v||y)[0],y=!0===y?v:Jt(y)[0],Mt(d)&&(d={targets:v,className:d}),y&&(!1===b||b===we||(b=!(!b&&"flex"===kt(y.parentNode).display)&&be),k.pin=y,!1!==g.force3D&&qt.set(y,{force3D:!0}),(n=qt.core.getCache(y)).spacer?j=n.pinState:(n.spacer=Q=Zt.createElement("div"),Q.setAttribute("class","pin-spacer"+(i?" pin-spacer-"+i:"")),n.pinState=j=Gt(y)),k.spacer=Q=n.spacer,a=kt(y),tt=a[b+m.os2],Z=qt.getProperty(y),$=qt.quickSetter(y,m.a,Pe),Xt(y,Q,a),q=Gt(y)),yt&&(a=Ot(yt)?Ft(yt,Me):Me,X=Nt("scroller-start",i,S,m,a,0),G=Nt("scroller-end",i,S,m,a,0,X),yt=X["offset"+m.op.d2],B=Nt("start",i,S,m,a,yt),W=Nt("end",i,S,m,a,yt),M||((yt=C?Kt:S).style.position="absolute"===kt(yt).position?"absolute":"relative",qt.set([X,G],{force3D:!0}),rt=qt.quickSetter(X,m.a,Pe),it=qt.quickSetter(G,m.a,Pe))),k.revert=function(t){var e,r=!1!==t||!k.enabled,i=re;r!==z&&(r&&(ut=Math.max(k.scroll(),k.scroll.rec||0),lt=k.progress,dt=_&&_.progress()),B&&[B,W,X,G].forEach(function(t){return t.style.display=r?"none":"block"}),r&&(re=1),k.update(r),re=i,y&&(r?(e=y,t=Q,Fe(i=j),e.parentNode!==t||(i=t.parentNode)&&(i.insertBefore(e,t),i.removeChild(t))):P&&k.isActive||Xt(y,Q,kt(y),et)),z=r)},k.refresh=function(t){if(!re&&k.enabled)if(y&&t&&ce)zt(bt,"scrollEnd",Wt);else{re=1,at&&at.pause(),w&&_&&_.progress(0).invalidate(),z||k.revert();for(var e,r,i,s,n,a=F(),o=L(),h=Ct(S,m),l=0,u=0,d=g.end,c=g.endTrigger||v,t=g.start||(0!==g.start&&v?y?"0 0":"0 100%":0),p=v&&Math.max(0,Ae.indexOf(k))||0,f=p;f--;)!(s=Ae[f].pin)||s!==v&&s!==y||Ae[f].revert();for(N=Yt(t,v,a,m,k.scroll(),B,X,k,o,O,M,h)||(y?-.001:0),Et(d)&&(d=d(k)),Mt(d)&&!d.indexOf("+=")&&(~d.indexOf(" ")?d=(Mt(t)?t.split(" ")[0]:"")+d:(l=Ut(d.substr(2),a),d=Mt(t)?t:N+l,c=v)),V=Math.max(N,Yt(d||(c?"100% 0":h),c,a,m,k.scroll()+l,W,G,k,o,O,M,h))||-.001,Y=V-N||(N-=.01)&&.001,l=0,f=p;f--;)(s=(i=Ae[f]).pin)&&i.start-i._pinPush<N&&(e=i.end-i.start,s===v&&(l+=e),s===y&&(u+=e));if(N+=l,V+=l,k._pinPush=u,B&&l&&((e={})[m.a]="+="+l,qt.set([B,W],e)),y)e=kt(y),a=m===Se,o=k.scroll(),K=parseFloat(Z(m.a))+u,!h&&1<V&&((C?Kt:S).style["overflow-"+m.a]="scroll"),Xt(y,Q,e),q=Gt(y),r=Ce(y,!0),h=M&&Rt(S,a?Re:Se)(),b&&((et=[b+m.os2,Y+u+Pe]).t=Q,(f=b===be?Lt(y,m)+Y+u:0)&&et.push(m.d,f+Pe),Fe(et),M&&k.scroll(ut)),M&&((n={top:r.top+(a?o-N:h)+Pe,left:r.left+(a?h:o-N)+Pe,boxSizing:"border-box",position:"fixed"})[ge]=n.maxWidth=Math.ceil(r.width)+Pe,n[_e]=n.maxHeight=Math.ceil(r.height)+Pe,n[we]=n[we+ve]=n[we+me]=n[we+ye]=n[we+xe]="0",n[be]=e[be],n[be+ve]=e[be+ve],n[be+me]=e[be+me],n[be+ye]=e[be+ye],n[be+xe]=e[be+xe],H=function(t,e,r){for(var i,s=[],n=t.length,a=r?8:0;a<n;a+=2)i=t[a],s.push(i,i in e?e[i]:t[a+1]);return s.t=t.t,s}(j,n,P)),_?(n=_._initted,ae(1),_.progress(1,!0),J=Z(m.a)-K+Y+u,Y!==J&&H.splice(H.length-2,2),_.progress(0,!0),n||_.invalidate(),ae(0)):J=Y;else if(v&&k.scroll())for(r=v.parentNode;r&&r!==Kt;)r._pinOffset&&(N-=r._pinOffset,V-=r._pinOffset),r=r.parentNode;for(f=0;f<p;f++)!(i=Ae[f].pin)||i!==v&&i!==y||Ae[f].revert(!1);k.start=N,k.end=V,(I=U=k.scroll())<ut&&k.scroll(ut),k.revert(!1),re=0,_&&R&&_._initted&&_.progress(dt,!0).render(_.time(),!0,!0),lt!==k.progress&&(at&&_.totalProgress(lt,!0),k.progress=lt,k.update()),y&&b&&(Q._pinOffset=Math.round(k.progress*J)),x&&x(k)}},k.getVelocity=function(){return(k.scroll()-U)/(de()-ee)*1e3||0},k.update=function(t,e){var r,i,s,n,a=k.scroll(),o=t?0:(a-N)/Y,h=o<0?0:1<o?1:o||0,l=k.progress;e&&(U=I,I=a,T&&(nt=st,st=_&&!R?_.totalProgress():h)),(h=p&&!h&&y&&!re&&!le&&ce&&N<a+(a-U)/(de()-ee)*p?1e-4:h)!==l&&k.enabled&&(n=(s=(i=k.isActive=!!h&&h<1)!=(!!l&&l<1))||!!h!=!!l,k.direction=l<h?1:-1,k.progress=h,R||(!at||re||le?_&&_.totalProgress(h,!!re):(at.vars.totalProgress=h,at.invalidate().restart())),y&&(t&&b&&(Q.style[b+m.os2]=tt),M?n&&(r=!t&&l<h&&a<V+1&&a+1>=Ct(S,m),P&&(t||!i&&!r?jt(y,Q):(o=Ce(y,!0),e=a-N,jt(y,Kt,o.top+(m===Se?e:0)+Pe,o.left+(m===Se?0:e)+Pe))),Fe(i||r?H:q),J!==Y&&h<1&&i||$(K+(1!==h||r?0:J))):$(K+J*h)),!T||D.tween||re||le||ht.restart(!0),d&&(s||f&&h&&(h<1||!oe))&&Jt(d.targets).forEach(function(t){return t.classList[i||f?"add":"remove"](d.className)}),!u||R||t||u(k),n&&!re?(l=h&&!l?0:1===h?1:1===l?2:3,R&&(r=!s&&"none"!==A[l+1]&&A[l+1]||A[l],_&&("complete"===r||"reset"===r||r in _)&&("complete"===r?_.pause().totalProgress(1):"reset"===r?_.restart(!0).pause():_[r]()),u&&u(k)),!s&&oe||(c&&s&&c(k),E[l]&&E[l](k),f&&(1===h?k.kill(!1,1):E[l]=0),s||E[l=1===h?1:3]&&E[l](k))):R&&u&&!re&&u(k)),it&&(rt(a+(X._isFlipped?1:0)),it(a))},k.enable=function(){k.enabled||(k.enabled=!0,zt(S,"resize",Bt),zt(S,"scroll",Vt),s&&zt(bt,"refreshInit",s),_&&_.add?qt.delayedCall(.01,function(){return N||V||k.refresh()})&&(Y=.01)&&(N=V=0):k.refresh())},k.disable=function(t,e){if(k.enabled&&(!1!==t&&k.revert(),k.enabled=k.isActive=!1,e||at&&at.pause(),ut=0,n&&(n.uncache=1),s&&It(bt,"refreshInit",s),ht&&(ht.pause(),D.tween&&D.tween.kill()&&(D.tween=0)),!C)){for(var r=Ae.length;r--;)if(Ae[r].scroller===S&&Ae[r]!==k)return;It(S,"resize",Bt),It(S,"scroll",Vt)}},k.kill=function(t,e){k.disable(t,e),i&&delete Oe[i];var r=Ae.indexOf(k);Ae.splice(r,1),r===se&&0<ke&&se--,_&&(_.scrollTrigger=null,t&&_.render(-1),e||_.kill()),B&&[B,W,X,G].forEach(function(t){return t.parentNode.removeChild(t)}),y&&(n&&(n.uncache=1),r=0,Ae.forEach(function(t){return t.pin===y&&r++}),r||(n.spacer=0))},k.enable()):this.update=this.refresh=this.kill=wt},bt.register=function(t){var e,r;return d||(qt=t||s(),i()&&window.document&&(Qt=window,Zt=document,$t=Zt.documentElement,Kt=Zt.body),qt&&(Jt=qt.utils.toArray,te=qt.utils.clamp,ae=qt.core.suppressOverwrites||wt,qt.core.globals("ScrollTrigger",bt),Kt&&(f=Qt.requestAnimationFrame||function(t){return setTimeout(t,16)},zt(Qt,"mousewheel",Vt),c=[Qt,Zt,$t,Kt],zt(Zt,"scroll",Vt),r=(e=Kt.style).borderTop,e.borderTop="1px solid #000",t=Ce(Kt),Se.m=Math.round(t.top+Se.sc())||0,Re.m=Math.round(t.left+Re.sc())||0,r?e.borderTop=r:e.removeProperty("border-top"),_=setInterval(l,200),qt.delayedCall(.5,function(){return le=0}),zt(Zt,"touchcancel",wt),zt(Kt,"touchstart",wt),h(zt,Zt,"pointerdown,touchstart,mousedown",function(){return ie=1}),h(zt,Zt,"pointerup,touchend,mouseup",function(){return ie=0}),m=qt.utils.checkPrefix("transform"),X.push(m),d=de(),p=qt.delayedCall(.2,N).pause(),y=[Zt,"visibilitychange",function(){var t=Qt.innerWidth,e=Qt.innerHeight;Zt.hidden?(x=t,v=e):x===t&&v===e||Bt()},Zt,"DOMContentLoaded",N,Qt,"load",function(){return ce||N()},Qt,"resize",Bt],n(zt)))),d},bt.defaults=function(t){for(var e in t)Ee[e]=t[e]},bt.kill=function(){pe=0,Ae.slice(0).forEach(function(t){return t.kill(1)})},bt.config=function(t){"limitCallbacks"in t&&(oe=!!t.limitCallbacks);var e=t.syncInterval;e&&clearInterval(_)||(_=e)&&setInterval(l,e),"autoRefreshEvents"in t&&(n(It),n(zt,t.autoRefreshEvents||"none"),b=-1===(t.autoRefreshEvents+"").indexOf("resize"))},bt.scrollerProxy=function(t,e){var r=Jt(t)[0],i=T.indexOf(r),t=Tt(r);~i&&T.splice(i,t?6:2),t?ue.unshift(Qt,e,Kt,e,$t,e):ue.unshift(r,e)},bt.matchMedia=function(t){var e,r,i,s,n;for(r in t)i=L.indexOf(r),s=t[r],"all"===(he=r)?s():(e=Qt.matchMedia(r))&&(e.matches&&(n=s()),~i?(L[i+1]=o(L[i+1],s),L[i+2]=o(L[i+2],n)):(i=L.length,L.push(r,s,n),e.addListener?e.addListener(u):e.addEventListener("change",u)),L[i+3]=e.matches),he=0;return L},bt.clearMatchMedia=function(t){t||(L.length=0),0<=(t=L.indexOf(t))&&L.splice(t,4)},bt}();j.version="3.6.0",j.saveStyles=function(t){return t?Jt(t).forEach(function(t){var e;t&&t.style&&(0<=(e=z.indexOf(t))&&z.splice(e,4),z.push(t,t.style.cssText,qt.core.getCache(t),he))}):z},j.revert=function(t,e){return U(!t,e)},j.create=function(t,e){return new j(t,e)},j.refresh=function(t){return t?Bt():N(!0)},j.update=B,j.maxScroll=function(t,e){return Ct(t,e?Re:Se)},j.getScrollFunc=function(t,e){return Rt(Jt(t)[0],e?Re:Se)},j.getById=function(t){return Oe[t]},j.getAll=function(){return Ae.slice(0)},j.isScrolling=function(){return!!ce},j.addEventListener=function(t,e){t=k[t]||(k[t]=[]);~t.indexOf(e)||t.push(e)},j.removeEventListener=function(t,e){t=k[t],e=t&&t.indexOf(e);0<=e&&t.splice(e,1)},j.batch=function(t,e){var r,i=[],s={},n=e.interval||.016,a=e.batchMax||1e9;for(r in e)s[r]="on"===r.substr(0,2)&&Et(e[r])&&"onRefreshInit"!==r?function(t){var e=[],r=[],i=qt.delayedCall(n,function(){t(e,r),e=[],r=[]}).pause();return function(t){e.length||i.restart(!0),e.push(t.trigger),r.push(t),a<=e.length&&i.progress(1)}}(e[r]):e[r];return Et(a)&&(a=a(),zt(j,"refresh",function(){return a=e.batchMax()})),Jt(t).forEach(function(t){var e={};for(r in s)e[r]=s[r];e.trigger=t,i.push(j.create(e))}),i},j.sort=function(t){return Ae.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},s()&&qt.registerPlugin(j)},317:function(t,e,r){"use strict";function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}
/*!
 * GSAP 3.6.0
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/r.d(e,{l1:function(){return Ne},Fo:function(){return lr},p8:function(){return cr},NB:function(){return pr},Wy:function(){return xe},Ok:function(){return de},SI:function(){return Ht},d4:function(){return qt},r9:function(){return Wt},m2:function(){return Xt},Ks:function(){return sr},bQ:function(){return Zt},fS:function(){return ce},JV:function(){return hr},kr:function(){return Ee},UI:function(){return be},if:function(){return Ge},$i:function(){return ne},xr:function(){return Ae},Fc:function(){return kt},Pr:function(){return pe},lC:function(){return ee},S5:function(){return er},DY:function(){return ue}});function d(t){return"function"==typeof t}function P(t){return"number"==typeof t}function R(t){return"object"==typeof t}function D(t){return!1!==t}function s(){return"undefined"!=typeof window}function S(t){return d(t)||Wt(t)}function n(t){return(te=fe(t,Jt))&&cr}function C(t,e){return!e&&void 0}function a(t,e){return t&&(Jt[t]=e)&&te&&(te[t]=e)||Jt}function M(){return 0}function z(t){var e,r,i=t[0];if(R(i)||d(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(r=he.length;r--&&!he[r].targetTest(i););e=he[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Ne(t[r],e)))||t.splice(r,1);return t}function o(t,e,r){var i,s=P(t[1]),n=(s?2:1)+(e<2?0:1),a=t[n];if(s&&(a.duration=t[1]),a.parent=r,e){for(i=a;r&&!("immediateRender"in i);)i=r.vars.defaults||{},r=D(r.vars.inherit)&&r.parent;a.immediateRender=D(i.immediateRender),e<2?a.runBackwards=1:a.startAt=t[n-1]}return a}function I(){var t,e,r=ie.length,i=ie.slice(0);for(se={},t=ie.length=0;t<r;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function h(t,e,r,i){ie.length&&I(),t.render(e,r,i),ie.length&&I()}function l(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match($t).length<2?e:Wt(t)?t.trim():t}function u(t){return t}function U(t,e){for(var r in e)r in t||(t[r]=e[r]);return t}function c(t,e){for(var r in e)r in t||"duration"===r||"ease"===r||(t[r]=e[r])}function p(t,e){for(var r in e)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=R(e[r])?p(t[r]||(t[r]={}),e[r]):e[r]);return t}function N(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i}function E(t){var e=t.parent||lt,r=t.keyframes?c:U;if(D(t.inherit))for(;e;)r(t,e.vars.defaults),e=e.parent||e._dp;return t}function f(t,e,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var s=e._prev,n=e._next;s?s._next=n:t[r]===e&&(t[r]=n),n?n._prev=s:t[i]===e&&(t[i]=s),e._next=e._prev=e.parent=null}function V(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function g(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t}function A(t){return!t||t._ts&&A(t.parent)}function _(t){return t._repeat?ge(t._tTime,t=t.duration()+t._rDelay)*t:0}function m(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function b(t){return t._end=pe(t._start+(t._tDur/Math.abs(t._ts||t._rts||Dt)||0))}function x(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=pe(r._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),b(t),r._dirty||g(r,t)),t}function O(t,e){var r;if((e._time||e._initted&&!e._dur)&&(r=m(t.rawTime(),e),(!e._dur||me(0,e.totalDuration(),r)-e._tTime>Dt)&&e.render(r,!0)),g(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)0<=r.rawTime()&&r.totalTime(r._tTime),r=r._dp;t._zTime=-Dt}}function v(t,e,r,i){return e.parent&&V(e),e._start=pe(r+e._delay),e._end=pe(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,r,i,s){void 0===r&&(r="_first");var n,a=t[i=void 0===i?"_last":i];if(s)for(n=e[s];a&&a[s]>n;)a=a._prev;a?(e._next=a._next,a._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[i]=e,e._prev=a,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,i||O(t,e),t}function k(t,e){return(Jt.ScrollTrigger||ee("scrollTrigger",e))&&Jt.ScrollTrigger.create(e,t)}function y(t,e,r,i){return Ye(t,e),t._initted?!r&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&ft!==Ae.frame?(ie.push(t),t._lazy=[e,i]):void 0:1}function F(t){return(t=t.parent)&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||F(t))}function L(t,e,r,i){var s=t._repeat,n=pe(e)||0;return(e=t._tTime/t._tDur)&&!i&&(t._time*=n/t._dur),t._dur=n,t._tDur=s?s<0?1e10:pe(n*(s+1)+t._rDelay*s):n,e&&!i?x(t,t._tTime=t._tDur*e):t.parent&&b(t),r||g(t.parent,t),t}function w(t){return t instanceof Be?g(t):L(t,t._dur)}function B(t,e){var r,i=t.labels,s=t._recent||_e,n=t.duration()>=Lt?s.endTime(!1):t._dur;return Wt(e)&&(isNaN(e)||e in i)?"<"===(r=e.charAt(0))||">"===r?("<"===r?s._start:s.endTime(0<=s._repeat))+(parseFloat(e.substr(1))||0):(r=e.indexOf("="))<0?(e in i||(i[e]=n),i[e]):(i=+(e.charAt(r-1)+e.substr(r+1)),1<r?B(t,e.substr(0,r-1))+i:n+i):null==e?n:+e}function W(t,e){return t||0===t?e(t):e}function X(t,e){return t&&R(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&R(t[0]))&&!t.nodeType&&t!==ut}function G(t){return t.sort(function(){return.5-Math.random()})}function Y(t){if(d(t))return t;var p=R(t)?t:{each:t},f=ze(p.ease),g=p.from||0,_=parseFloat(p.base)||0,m={},t=0<g&&g<1,x=isNaN(g)||t,v=p.axis,y=g,b=g;return Wt(g)?y=b={center:.5,edges:.5,end:1}[g]||0:!t&&x&&(y=g[0],b=g[1]),function(t,e,r){var i,s,n,a,o,h,l,u,d=(r||p).length,c=m[d];if(!c){if(!(u="auto"===p.grid?0:(p.grid||[1,Lt])[1])){for(h=-Lt;h<(h=r[u++].getBoundingClientRect().left)&&u<d;);u--}for(c=m[d]=[],i=x?Math.min(u,d)*y-.5:g%u,s=x?d*b/u-.5:g/u|0,l=Lt,o=h=0;o<d;o++)n=o%u-i,a=s-(o/u|0),c[o]=a=v?Math.abs("y"===v?a:n):Nt(n*n+a*a),h<a&&(h=a),a<l&&(l=a);"random"===g&&G(c),c.max=h-l,c.min=l,c.v=d=(parseFloat(p.amount)||parseFloat(p.each)*(d<u?d-1:v?"y"===v?d/u:u:Math.max(u,d/u))||0)*("edges"===g?-1:1),c.b=d<0?_-d:_,c.u=xe(p.amount||p.each)||0,f=f&&d<0?De(f):f}return d=(c[t]-c.min)/c.max||0,pe(c.b+(f?f(d):d)*c.v)+c.u}}function j(r){var i=r<1?Math.pow(10,(r+"").length-2):1;return function(t){var e=Math.round(parseFloat(t)/r)*r*i;return(e-e%1)/i+(P(t)?0:xe(t))}}function H(h,t){var l,u,e=Yt(h);return!e&&R(h)&&(l=e=h.radius||Lt,h.values?(h=ye(h.values),(u=!P(h[0]))&&(l*=l)):h=j(h.increment)),W(t,e?d(h)?function(t){return u=h(t),Math.abs(u-t)<=l?u:t}:function(t){for(var e,r,i=parseFloat(u?t.x:t),s=parseFloat(u?t.y:0),n=Lt,a=0,o=h.length;o--;)(e=u?(e=h[o].x-i)*e+(r=h[o].y-s)*r:Math.abs(h[o]-i))<n&&(n=e,a=o);return a=!l||n<=l?h[a]:t,u||a===t||P(t)?a:a+xe(t)}:j(h))}function q(t,e,r,i){return W(Yt(t)?!e:!0===r?!!(r=0):!i,function(){return Yt(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*i)/i})}function Q(e,r,t){return W(t,function(t){return e[~~r(t)]})}function Z(e,t,r){var i=t-e;return Yt(e)?Q(e,Z(0,e.length),t):W(r,function(t){return(i+(t-e)%i)%i+e})}function $(e,t,r){var i=t-e,s=2*i;return Yt(e)?Q(e,$(0,e.length-1),t):W(r,function(t){return e+(i<(t=(s+(t-e)%s)%s||0)?s-t:t)})}function K(t,e,r){var i,s,n,a=t.labels,o=Lt;for(i in a)(s=a[i]-e)<0==!!r&&s&&o>(s=Math.abs(s))&&(n=i,o=s);return n}function J(t){return V(t),t.progress()<1&&Pe(t,"onInterrupt"),t}function tt(t,e,r){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*Re+.5|0}function et(t,e,r){var i,s,n,a,o,h,l,u=t?P(t)?[t>>16,t>>8&Re,t&Re]:0:Se.black;if(!u){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Se[t])u=Se[t];else if("#"===t.charAt(0)){if(9===(t=t.length<6?"#"+(i=t.charAt(1))+i+(s=t.charAt(2))+s+(n=t.charAt(3))+n+(5===t.length?t.charAt(4)+t.charAt(4):""):t).length)return[(u=parseInt(t.substr(1,6),16))>>16,u>>8&Re,u&Re,parseInt(t.substr(7),16)/255];u=[(t=parseInt(t.substr(1),16))>>16,t>>8&Re,t&Re]}else if("hsl"===t.substr(0,3))if(u=l=t.match(jt),e){if(~t.indexOf("="))return u=t.match(Ht),r&&u.length<4&&(u[3]=1),u}else a=+u[0]%360/360,o=+u[1]/100,i=2*(h=+u[2]/100)-(s=h<=.5?h*(o+1):h+o-h*o),3<u.length&&(u[3]*=1),u[0]=tt(a+1/3,i,s),u[1]=tt(a,i,s),u[2]=tt(a-1/3,i,s);else u=t.match(jt)||Se.transparent;u=u.map(Number)}return e&&!l&&(i=u[0]/Re,s=u[1]/Re,n=u[2]/Re,h=((t=Math.max(i,s,n))+(e=Math.min(i,s,n)))/2,t===e?a=o=0:(l=t-e,o=.5<h?l/(2-t-e):l/(t+e),a=t===i?(s-n)/l+(s<n?6:0):t===s?(n-i)/l+2:(i-s)/l+4,a*=60),u[0]=~~(a+.5),u[1]=~~(100*o+.5),u[2]=~~(100*h+.5)),r&&u.length<4&&(u[3]=1),u}function rt(t){var e=[],r=[],i=-1;return t.split(Ce).forEach(function(t){t=t.match(qt)||[];e.push.apply(e,t),r.push(i+=t.length+1)}),e.c=r,e}function it(t,e,r){var i,s,n,a,o="",h=(t+o).match(Ce),l=e?"hsla(":"rgba(",u=0;if(!h)return t;if(h=h.map(function(t){return(t=et(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),r&&(n=rt(t),(i=r.c).join(o)!==n.c.join(o)))for(a=(s=t.replace(Ce,"1").split(qt)).length-1;u<a;u++)o+=s[u]+(~i.indexOf(u)?h.shift()||l+"0,0,0,0)":(n.length?n:h.length?h:r).shift());if(!s)for(a=(s=t.split(Ce)).length-1;u<a;u++)o+=s[u]+h[u];return o+s[a]}function st(t){var e,r,i,s=(t+"").split("("),n=ke[s[0]];return n&&1<s.length&&n.config?n.config.apply(null,~t.indexOf("{")?[function(t){for(var e,r,i,s={},n=t.substr(1,t.length-3).split(":"),a=n[0],o=1,h=n.length;o<h;o++)r=n[o],e=o!==h-1?r.lastIndexOf(","):r.length,i=r.substr(0,e),s[a]=isNaN(i)?i.replace(Le,"").trim():+i,a=r.substr(e+1).trim();return s}(s[1])]:(r=(e=t).indexOf("(")+1,i=e.indexOf(")"),s=e.indexOf("(",r),e.substring(r,~s&&s<i?e.indexOf(")",i+1):i).split(",").map(l))):ke._CE&&Fe.test(t)?ke._CE("",t):n}function nt(t,e){for(var r,i=t._first;i;)i instanceof Be?nt(i,e):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===e||(i.timeline?nt(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next}function at(t,e,r,i){void 0===r&&(r=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var s,n={easeIn:e,easeOut:r,easeInOut:i};return ce(t,function(t){for(var e in ke[t]=Jt[t]=n,ke[s=t.toLowerCase()]=r,n)ke[s+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=ke[t+"."+e]=n[e]}),1}function ot(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}var ht,lt,ut,dt,ct,pt,ft,gt,_t,mt,xt,vt,yt,bt,wt,Tt,Pt,Rt,St,Ct,Mt,Et,At,Ot,kt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ft={duration:.5,overwrite:!1,delay:0},Lt=1e8,Dt=1e-8,zt=2*Math.PI,It=zt/4,Ut=0,Nt=Math.sqrt,Vt=Math.cos,Bt=Math.sin,Wt=function(t){return"string"==typeof t},Xt=function(t){return void 0===t},Gt="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Yt=Array.isArray,jt=/(?:-?\.?\d|\.)+/gi,Ht=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,qt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Qt=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Zt=/[+-]=-?[.\d]+/,$t=/[#\-+.]*\b[a-z\d-=+%.]+/gi,Kt=/[\d.+\-=]+(?:e[-+]\d*)*/i,Jt={},te={},ee=function(t,e){},re={},ie=[],se={},ne={},ae={},oe=30,he=[],le="",ue=function(t){return t._gsap||z(ye(t))[0]._gsap},de=function(t,e,r){return(r=t[e])&&d(r)?t[e]():Xt(r)&&t.getAttribute&&t.getAttribute(e)||r},ce=function(t,e){return(t=t.split(",")).forEach(e)||t},pe=function(t){return Math.round(1e5*t)/1e5||0},fe=function(t,e){for(var r in e)t[r]=e[r];return t},ge=function(t,e){e=Math.floor(t/=e);return t&&e===t?e-1:e},_e={_start:0,endTime:M},me=function(t,e,r){return r<t?t:e<r?e:r},xe=function(t){if("string"!=typeof t)return"";var e=Kt.exec(t);return e?t.substr(e.index+e[0].length):""},ve=[].slice,ye=function(t,e){return!Wt(t)||e||!dt&&Oe()?Yt(t)?(r=e,void 0===i&&(i=[]),t.forEach(function(t){return Wt(t)&&!r||X(t,1)?i.push.apply(i,ye(t)):i.push(t)})||i):X(t)?ve.call(t,0):t?[t]:[]:ve.call(ct.querySelectorAll(t),0);var r,i},be=function(t){for(var e,r,i,s,n=0,a="";~(e=t.indexOf("random(",n));)i=t.indexOf(")",e),s="["===t.charAt(e+7),r=t.substr(e+7,i-e-7).match(s?$t:jt),a+=t.substr(n,e-n)+q(s?r:+r[0],s?0:+r[1],+r[2]||1e-5),n=i+1;return a+t.substr(n,t.length-n)},we=function(e,t,r,i,s){var n=t-e,a=i-r;return W(s,function(t){return r+((t-e)/n*a||0)})},Te=function t(e,r,i,s){var n=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!n){var a,o,h,l,u,d=Wt(e),c={};if(!0===i&&(s=1)&&(i=null),d)e={p:e},r={p:r};else if(Yt(e)&&!Yt(r)){for(h=[],l=e.length,u=l-2,o=1;o<l;o++)h.push(t(e[o-1],e[o]));l--,n=function(t){t*=l;var e=Math.min(u,~~t);return h[e](t-e)},i=r}else s||(e=fe(Yt(e)?[]:{},e));if(!h){for(a in r)Xe.call(c,e,a,"get",r[a]);n=function(t){return nr(t,c)||(d?e.p:e)}}}return W(i,n)},Pe=function(t,e,r){var i=t.vars,s=i[e];if(s)return e=i[e+"Params"],t=i.callbackScope||t,r&&ie.length&&I(),e?s.apply(t,e):s.call(t)},Re=255,Se={aqua:[0,Re,Re],lime:[0,Re,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Re],navy:[0,0,128],white:[Re,Re,Re],olive:[128,128,0],yellow:[Re,Re,0],orange:[Re,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Re,0,0],pink:[Re,192,203],cyan:[0,Re,Re],transparent:[Re,Re,Re,0]},Ce=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Se)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Me=/hsl[a]?\(/,Ee=function(t){var e=t.join(" ");if(Ce.lastIndex=0,Ce.test(e))return e=Me.test(e),t[1]=it(t[1],e),t[0]=it(t[0],e,rt(t[1])),!0},Ae=(bt=Date.now,wt=500,Tt=33,Pt=bt(),Rt=Pt,Ct=St=1e3/240,Et={time:0,frame:0,tick:function(){Ie(!0)},deltaRatio:function(t){return vt/(1e3/(t||60))},wake:function(){pt&&(!dt&&s()&&(ut=dt=window,ct=ut.document||{},Jt.gsap=cr,(ut.gsapVersions||(ut.gsapVersions=[])).push(cr.version),n(te||ut.GreenSockGlobals||!ut.gsap&&ut||{}),xt=ut.requestAnimationFrame),_t&&Et.sleep(),mt=xt||function(t){return setTimeout(t,Ct-1e3*Et.time+1|0)},gt=1,Ie(2))},sleep:function(){(xt?ut.cancelAnimationFrame:clearTimeout)(_t),gt=0,mt=M},lagSmoothing:function(t,e){wt=t||1e8,Tt=Math.min(e,wt,0)},fps:function(t){St=1e3/(t||240),Ct=1e3*Et.time+St},add:function(t){Mt.indexOf(t)<0&&Mt.push(t),Oe()},remove:function(t){~(t=Mt.indexOf(t))&&Mt.splice(t,1)&&t<=yt&&yt--},_listeners:Mt=[]}),Oe=function(){return!gt&&Ae.wake()},ke={},Fe=/^[\d.\-M][\d.\-,\s]/,Le=/["']/g,De=function(e){return function(t){return 1-e(1-t)}},ze=function(t,e){return t&&(d(t)?t:ke[t]||st(t))||e},r=function r(i,t,e){function s(t){return 1===t?1:n*Math.pow(2,-10*t)*Bt((t-a)*o)+1}var n=1<=t?t:1,a=(o=(e||(i?.3:.45))/(t<1?t:1))/zt*(Math.asin(1/n)||0),t="out"===i?s:"in"===i?function(t){return 1-s(1-t)}:ot(s),o=zt/o;return t.config=function(t,e){return r(i,t,e)},t},e=function e(r,i){void 0===i&&(i=1.70158);function s(t){return t?--t*t*((i+1)*t+i)+1:0}var t="out"===r?s:"in"===r?function(t){return 1-s(1-t)}:ot(s);return t.config=function(t){return e(r,t)},t};function Ie(t){var e,r,i,s=bt()-Rt,n=!0===t;if(wt<s&&(Pt+=s-Tt),(0<(s=(r=(Rt+=s)-Pt)-Ct)||n)&&(i=++Et.frame,vt=r-1e3*Et.time,Et.time=r/=1e3,Ct+=s+(St<=s?4:St-s),e=1),n||(_t=mt(Ie)),e)for(yt=0;yt<Mt.length;yt++)Mt[yt](r,vt,i,t)}function Ue(t){return t<Ot?At*t*t:t<.7272727272727273?At*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?At*(t-=2.25/2.75)*t+.9375:At*Math.pow(t-2.625/2.75,2)+.984375}ce("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;at(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},function(t){return 1-Math.pow(1-t,r)},function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2})}),ke.Linear.easeNone=ke.none=ke.Linear.easeIn,at("Elastic",r("in"),r("out"),r()),At=7.5625,Ot=1/2.75,at("Bounce",function(t){return 1-Ue(1-t)},Ue),at("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),at("Circ",function(t){return-(Nt(1-t*t)-1)}),at("Sine",function(t){return 1===t?1:1-Vt(t*It)}),at("Back",e("in"),e("out"),e()),ke.SteppedEase=ke.steps=Jt.SteppedEase={config:function(t,e){var r=1/(t=void 0===t?1:t),i=t+(e?0:1),s=e?1:0;return function(t){return((i*me(0,.99999999,t)|0)+s)*r}}},Ft.ease=ke["quad.out"],ce("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return le+=t+","+t+"Params,"});var Ne=function(t,e){this.id=Ut++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:de,this.set=e?e.getSetter:er},Ve=function(){function t(t,e){var r=t.parent||lt;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,L(this,+t.duration,1,1),this.data=t.data,gt||Ae.wake(),r&&v(r,this,e||0===e?e:r._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,L(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Oe(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(x(this,t),!r._dp||r.parent||O(r,this);r.parent;)r.parent._time!==r._start+(0<=r._ts?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&v(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Dt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),h(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+_(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+_(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?ge(this._tTime,r)+1:1},e.timeScale=function(t){if(!arguments.length)return this._rts===-Dt?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?m(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-Dt?0:this._rts,function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this.totalTime(me(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Oe(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=Dt)&&Math.abs(this._zTime)!==Dt))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||v(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(D(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?m(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(e._ts||1),e=e._dp;return r},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,w(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,w(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(B(this,t),D(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,D(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-Dt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Dt,this},e.isActive=function(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-Dt))},e.eventCallback=function(t,e,r){var i=this.vars;return 1<arguments.length?(e?(i[t]=e,r&&(i[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},e.then=function(i){var s=this;return new Promise(function(e){function t(){var t=s.then;s.then=null,d(r)&&(r=r(s))&&(r.then||r===s)&&(s.then=t),e(r),s.then=t}var r=d(i)?i:u;s._initted&&1===s.totalProgress()&&0<=s._ts||!s._tTime&&s._ts<0?t():s._prom=t})},e.kill=function(){J(this)},t}();U(Ve.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Dt,_prom:0,_ps:!1,_rts:1});var Be=function(r){function t(t,e){return(e=r.call(this,t=void 0===t?{}:t,e)||this).labels={},e.smoothChildTiming=!!t.smoothChildTiming,e.autoRemoveChildren=!!t.autoRemoveChildren,e._sort=D(t.sortChildren),e.parent&&O(e.parent,T(e)),t.scrollTrigger&&k(T(e),t.scrollTrigger),e}i(t,r);var e=t.prototype;return e.to=function(t,e,r){return new Qe(t,o(arguments,0,this),B(this,P(e)?arguments[3]:r)),this},e.from=function(t,e,r){return new Qe(t,o(arguments,1,this),B(this,P(e)?arguments[3]:r)),this},e.fromTo=function(t,e,r,i){return new Qe(t,o(arguments,2,this),B(this,P(e)?arguments[4]:i)),this},e.set=function(t,e,r){return e.duration=0,e.parent=this,E(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Qe(t,e,B(this,r),1),this},e.call=function(t,e,r){return v(this,Qe.delayedCall(0,t,e),B(this,r))},e.staggerTo=function(t,e,r,i,s,n,a){return r.duration=e,r.stagger=r.stagger||i,r.onComplete=n,r.onCompleteParams=a,r.parent=this,new Qe(t,r,B(this,s)),this},e.staggerFrom=function(t,e,r,i,s,n,a){return r.runBackwards=1,E(r).immediateRender=D(r.immediateRender),this.staggerTo(t,e,r,i,s,n,a)},e.staggerFromTo=function(t,e,r,i,s,n,a,o){return i.startAt=r,E(i).immediateRender=D(i.immediateRender),this.staggerTo(t,e,i,s,n,a,o)},e.render=function(t,e,r){var i,s,n,a,o,h,l,u,d,c,p=this._time,f=this._dirty?this.totalDuration():this._tDur,g=this._dur,_=this!==lt&&f-Dt<t&&0<=t?f:t<Dt?0:t,m=this._zTime<0!=t<0&&(this._initted||!g);if(_!==this._tTime||r||m){if(p!==this._time&&g&&(_+=this._time-p,t+=this._time-p),i=_,u=this._start,o=!(l=this._ts),m&&(g||(p=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(x=this._yoyo,a=g+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,r);if(i=pe(_%a),_===f?(n=this._repeat,i=g):((n=~~(_/a))&&n===_/a&&(i=g,n--),g<i&&(i=g)),d=ge(this._tTime,a),x&&1&n&&(i=g-i,c=1),n!==(d=!p&&this._tTime&&d!==n?n:d)&&!this._lock){var m=x&&1&d,x=m===(x&&1&n),p=(m=n<d?!m:m)?0:g;if(this._lock=1,this.render(p||(c?0:pe(n*a)),e,!g)._lock=0,!e&&this.parent&&Pe(this,"onRepeat"),this.vars.repeatRefresh&&!c&&(this.invalidate()._lock=1),p!==this._time||o!=!this._ts)return this;if(g=this._dur,f=this._tDur,x&&(this._lock=2,this.render(p=m?g:-1e-4,!0),this.vars.repeatRefresh&&!c&&this.invalidate()),this._lock=0,!this._ts&&!o)return this;nt(this,c)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,r){var i;if(e<r)for(i=t._first;i&&i._start<=r;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,pe(p),pe(i)))&&(_-=i-(i=h._start)),this._tTime=_,this._time=i,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,p=0),p||!(i||!g&&0<=t)||e||Pe(this,"onStart"),p<=i&&0<=t)for(v=this._first;v;){if(s=v._next,(v._act||i>=v._start)&&v._ts&&h!==v){if(v.parent!==this)return this.render(t,e,r);if(v.render(0<v._ts?(i-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(i-v._start)*v._ts,e,r),i!==this._time||!this._ts&&!o){h=0,s&&(_+=this._zTime=-Dt);break}}v=s}else for(var v=this._last,y=t<0?t:i;v;){if(s=v._prev,(v._act||y<=v._end)&&v._ts&&h!==v){if(v.parent!==this)return this.render(t,e,r);if(v.render(0<v._ts?(y-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(y-v._start)*v._ts,e,r),i!==this._time||!this._ts&&!o){h=0,s&&(_+=this._zTime=y?-Dt:Dt);break}}v=s}if(h&&!e&&(this.pause(),h.render(p<=i?0:-Dt)._zTime=p<=i?1:-1,this._ts))return this._start=u,b(this),this.render(t,e,r);this._onUpdate&&!e&&Pe(this,"onUpdate",!0),(_===f&&f>=this.totalDuration()||!_&&p)&&(u!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||(!t&&g||!(_===f&&0<this._ts||!_&&this._ts<0)||V(this,1),e||t<0&&!p||!_&&!p||(Pe(this,_===f?"onComplete":"onReverseComplete",!0),!this._prom||_<f&&0<this.timeScale()||this._prom())))}return this},e.add=function(t,e){var r=this;if(P(e)||(e=B(this,e)),!(t instanceof Ve)){if(Yt(t))return t.forEach(function(t){return r.add(t,e)}),this;if(Wt(t))return this.addLabel(t,e);if(!d(t))return this;t=Qe.delayedCall(0,t)}return this!==t?v(this,t,e):this},e.getChildren=function(t,e,r,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===i&&(i=-Lt);for(var s=[],n=this._first;n;)n._start>=i&&(n instanceof Qe?e&&s.push(n):(r&&s.push(n),t&&s.push.apply(s,n.getChildren(!0,e,r)))),n=n._next;return s},e.getById=function(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},e.remove=function(t){return Wt(t)?this.removeLabel(t):d(t)?this.killTweensOf(t):(f(this,t),t===this._recent&&(this._recent=this._last),g(this))},e.totalTime=function(t,e){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=pe(Ae.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),r.prototype.totalTime.call(this,t,e),this._forcing=0,this):this._tTime},e.addLabel=function(t,e){return this.labels[t]=B(this,e),this},e.removeLabel=function(t){return delete this.labels[t],this},e.addPause=function(t,e,r){r=Qe.delayedCall(0,e||M,r);return r.data="isPause",this._hasPause=1,v(this,r,B(this,t))},e.removePause=function(t){var e=this._first;for(t=B(this,t);e;)e._start===t&&"isPause"===e.data&&V(e),e=e._next},e.killTweensOf=function(t,e,r){for(var i=this.getTweensOf(t,r),s=i.length;s--;)We!==i[s]&&i[s].kill(t,e);return this},e.getTweensOf=function(t,e){for(var r,i=[],s=ye(t),n=this._first,a=P(e);n;)n instanceof Qe?function(t,e){for(var r=e.length,i=0;t.indexOf(e[i])<0&&++i<r;);return i<r}(n._targets,s)&&(a?(!We||n._initted&&n._ts)&&n.globalTime(0)<=e&&n.globalTime(n.totalDuration())>e:!e||n.isActive())&&i.push(n):(r=n.getTweensOf(s,e)).length&&i.push.apply(i,r),n=n._next;return i},e.tweenTo=function(t,e){e=e||{};var r=this,i=B(r,t),s=e.startAt,n=e.onStart,a=e.onStartParams,t=e.immediateRender,o=Qe.to(r,U({ease:"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale())||Dt,onStart:function(){r.pause();var t=e.duration||Math.abs((i-r._time)/r.timeScale());o._dur!==t&&L(o,t,0,1).render(o._time,!0,!0),n&&n.apply(o,a||[])}},e));return t?o.render(0):o},e.tweenFromTo=function(t,e,r){return this.tweenTo(e,U({startAt:{time:B(this,t)}},r))},e.recent=function(){return this._recent},e.nextLabel=function(t){return void 0===t&&(t=this._time),K(this,B(this,t))},e.previousLabel=function(t){return void 0===t&&(t=this._time),K(this,B(this,t),1)},e.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Dt)},e.shiftChildren=function(t,e,r){void 0===r&&(r=0);for(var i,s=this._first,n=this.labels;s;)s._start>=r&&(s._start+=t,s._end+=t),s=s._next;if(e)for(i in n)n[i]>=r&&(n[i]+=t);return g(this)},e.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return r.prototype.invalidate.call(this)},e.clear=function(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),g(this)},e.totalDuration=function(t){var e,r,i,s=0,n=this,a=n._last,o=Lt;if(arguments.length)return n.timeScale((n._repeat<0?n.duration():n.totalDuration())/(n.reversed()?-t:t));if(n._dirty){for(i=n.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),o<(r=a._start)&&n._sort&&a._ts&&!n._lock?(n._lock=1,v(n,a,r-a._delay,1)._lock=0):o=r,r<0&&a._ts&&(s-=r,(!i&&!n._dp||i&&i.smoothChildTiming)&&(n._start+=r/n._ts,n._time-=r,n._tTime-=r),n.shiftChildren(-r,!1,-1/0),o=0),a._end>s&&a._ts&&(s=a._end),a=e;L(n,n===lt&&n._time>s?n._time:s,1,1),n._dirty=0}return n._tDur},t.updateRoot=function(t){if(lt._ts&&(h(lt,m(t,lt)),ft=Ae.frame),Ae.frame>=oe){oe+=kt.autoSleep||120;var e=lt._first;if((!e||!e._ts)&&kt.autoSleep&&Ae._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ae.sleep()}}},t}(Ve);U(Be.prototype,{_lock:0,_hasPause:0,_forcing:0});var We,Xe=function(t,e,r,i,s,n,a,o,h){d(i)&&(i=i(s||0,t,n));s=t[e],n="get"!==r?r:d(s)?h?t[e.indexOf("set")||!d(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():s,r=d(s)?h?tr:Je:Ke;if(n!==(i=Wt(i)&&"="===(i=~i.indexOf("random(")?be(i):i).charAt(1)?parseFloat(n)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(xe(n)||0):i))return isNaN(n*i)?(s||e in t||ee(e,i),function(t,e,r,i,s,n,a){var o,h,l,u,d,c=new lr(this._pt,t,e,0,1,sr,null,s),p=0,f=0;for(c.b=r,c.e=i,r+="",(s=~(i+="").indexOf("random("))&&(i=be(i)),n&&(n(n=[r,i],t,e),r=n[0],i=n[1]),o=r.match(Qt)||[];d=Qt.exec(i);)l=d[0],u=i.substring(p,d.index),h?h=(h+1)%5:"rgba("===u.substr(-5)&&(h=1),l!==o[f++]&&(d=parseFloat(o[f-1])||0,c._pt={_next:c._pt,p:u||1===f?u:",",s:d,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-d,m:h&&h<4?Math.round:0},p=Qt.lastIndex);return c.c=p<i.length?i.substring(p,i.length):"",c.fp=a,(Zt.test(i)||s)&&(c.e=0),this._pt=c}.call(this,t,e,n,i,r,o||kt.stringFilter,h)):(r=new lr(this._pt,t,e,+n||0,i-(n||0),"boolean"==typeof s?ir:rr,0,r),h&&(r.fp=h),a&&r.modifier(a,this,t),this._pt=r)},Ge=function(t,e,r,i,s,n){var a,o,h,l;if(ne[t]&&!1!==(a=new ne[t]).init(s,a.rawVars?e[t]:function(t,e,r,i,s){if(d(t)&&(t=je(t,s,e,r,i)),!R(t)||t.style&&t.nodeType||Yt(t)||Gt(t))return Wt(t)?je(t,s,e,r,i):t;var n,a={};for(n in t)a[n]=je(t[n],s,e,r,i);return a}(e[t],i,s,n,r),r,i,n)&&(r._pt=o=new lr(r._pt,s,t,0,1,a.render,a,0,a.priority),r!==dr))for(h=r._ptLookup[r._targets.indexOf(s)],l=a._props.length;l--;)h[a._props[l]]=o;return a},Ye=function t(e,r){var i,s,n,a,o,h,l,u,d,c,p,f,g,_=e.vars,m=_.ease,x=_.startAt,v=_.immediateRender,y=_.lazy,b=_.onUpdate,w=_.onUpdateParams,T=_.callbackScope,P=_.runBackwards,R=_.yoyoEase,S=_.keyframes,C=_.autoRevert,M=e._dur,E=e._startAt,A=e._targets,O=e.parent,k=O&&"nested"===O.data?O.parent._targets:A,F="auto"===e._overwrite&&!ht,L=e.timeline;if(e._ease=ze(m=!(!L||S&&m)?"none":m,Ft.ease),e._yEase=R?De(ze(!0===R?m:R,Ft.ease)):0,R&&e._yoyo&&!e._repeat&&(R=e._yEase,e._yEase=e._ease,e._ease=R),!L){if(f=(u=A[0]?ue(A[0]).harness:0)&&_[u.prop],i=N(_,re),E&&E.render(-1,!0).kill(),x){if(V(e._startAt=Qe.set(A,U({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:D(y),startAt:null,delay:0,onUpdate:b,onUpdateParams:w,callbackScope:T,stagger:0},x))),v)if(0<r)C||(e._startAt=0);else if(M&&!(r<0&&E))return void(r&&(e._zTime=r))}else if(P&&M)if(E)C||(e._startAt=0);else if(n=U({overwrite:!1,data:"isFromStart",lazy:(v=r?!1:v)&&D(y),immediateRender:v,stagger:0,parent:O},i),f&&(n[u.prop]=f),V(e._startAt=Qe.set(A,n)),v){if(!r)return}else t(e._startAt,Dt);for(e._pt=0,y=M&&D(y)||y&&!M,s=0;s<A.length;s++){if(l=(o=A[s])._gsap||z(A)[s]._gsap,e._ptLookup[s]=c={},se[l.id]&&ie.length&&I(),p=k===A?s:k.indexOf(o),u&&!1!==(d=new u).init(o,f||i,e,p,k)&&(e._pt=a=new lr(e._pt,o,d.name,0,1,d.render,d,0,d.priority),d._props.forEach(function(t){c[t]=a}),d.priority&&(h=1)),!u||f)for(n in i)ne[n]&&(d=Ge(n,i,e,p,o,k))?d.priority&&(h=1):c[n]=a=Xe.call(e,o,n,"get",i[n],p,k,0,_.stringFilter);e._op&&e._op[s]&&e.kill(o,e._op[s]),F&&e._pt&&(We=e,lt.killTweensOf(o,c,e.globalTime(0)),g=!e.parent,We=0),e._pt&&y&&(se[l.id]=1)}h&&hr(e),e._onInit&&e._onInit(e)}e._from=!L&&!!_.runBackwards,e._onUpdate=b,e._initted=(!e._op||e._pt)&&!g},je=function(t,e,r,i,s){return d(t)?t.call(e,r,i,s):Wt(t)&&~t.indexOf("random(")?be(t):t},He=le+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",qe=(He+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Qe=function(w){function s(t,e,r,i){"number"==typeof e&&(r.duration=e,e=r,r=null);var s,n,a,o,h,l,u,d,c,p=(s=w.call(this,i?e:E(e),r)||this).vars,f=p.duration,g=p.delay,_=p.immediateRender,m=p.stagger,x=p.overwrite,v=p.keyframes,i=p.defaults,r=p.scrollTrigger,y=p.yoyoEase,p=s.parent,b=(Yt(t)||Gt(t)?P(t[0]):"length"in e)?[t]:ye(t);if(s._targets=b.length?z(b):C(0,!kt.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=x,v||m||S(f)||S(g)){if(e=s.vars,(n=s.timeline=new Be({data:"nested",defaults:i||{}})).kill(),n.parent=n._dp=T(s),n._start=0,v)U(n.vars.defaults,{ease:"none"}),v.forEach(function(t){return n.to(b,t,">")});else{if(h=b.length,d=m?Y(m):M,R(m))for(l in m)~He.indexOf(l)&&((c=c||{})[l]=m[l]);for(a=0;a<h;a++){for(l in o={},e)qe.indexOf(l)<0&&(o[l]=e[l]);o.stagger=0,y&&(o.yoyoEase=y),c&&fe(o,c),u=b[a],o.duration=+je(f,T(s),a,u,b),o.delay=(+je(g,T(s),a,u,b)||0)-s._delay,!m&&1===h&&o.delay&&(s._delay=g=o.delay,s._start+=g,o.delay=0),n.to(u,o,d(a,u,b))}n.duration()?f=g=0:s.timeline=0}f||s.duration(f=n.duration())}else s.timeline=0;return!0!==x||ht||(We=T(s),lt.killTweensOf(b),We=0),p&&O(p,T(s)),(_||!f&&!v&&s._start===pe(p._time)&&D(_)&&A(T(s))&&"nested"!==p.data)&&(s._tTime=-Dt,s.render(Math.max(0,-g))),r&&k(T(s),r),s}i(s,w);var t=s.prototype;return t.render=function(t,e,r){var i,s,n,a,o,h,l,u,d,c=this._time,p=this._tDur,f=this._dur,g=p-Dt<t&&0<=t?p:t<Dt?0:t;if(f){if(g!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(i=g,u=this.timeline,this._repeat){if(a=f+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,r);if(i=pe(g%a),g===p?(n=this._repeat,i=f):((n=~~(g/a))&&n===g/a&&(i=f,n--),f<i&&(i=f)),(h=this._yoyo&&1&n)&&(d=this._yEase,i=f-i),o=ge(this._tTime,a),i===c&&!r&&this._initted)return this;n!==o&&(u&&this._yEase&&nt(u,h),!this.vars.repeatRefresh||h||this._lock||(this._lock=r=1,this.render(pe(a*n),!0).invalidate()._lock=0))}if(!this._initted){if(y(this,t<0?t:i,r,e))return this._tTime=0,this;if(f!==this._dur)return this.render(t,e,r)}for(this._tTime=g,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(d||this._ease)(i/f),this._from&&(this.ratio=l=1-l),!i||c||e||Pe(this,"onStart"),s=this._pt;s;)s.r(l,s.d),s=s._next;u&&u.render(t<0?t:!i&&h?-Dt:u._dur*l,e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,r),Pe(this,"onUpdate")),this._repeat&&n!==o&&this.vars.onRepeat&&!e&&this.parent&&Pe(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),!t&&f||!(g===this._tDur&&0<this._ts||!g&&this._ts<0)||V(this,1),e||t<0&&!c||!g&&!c||(Pe(this,g===p?"onComplete":"onReverseComplete",!0),!this._prom||g<p&&0<this.timeScale()||this._prom()))}}else!function(t,e,r,i){var s,n,a,o=t.ratio,h=e<0||!e&&(!t._start&&F(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,l=t._rDelay,u=0;if(l&&t._repeat&&(u=me(0,t._tDur,e),n=ge(u,l),a=ge(t._tTime,l),t._yoyo&&1&n&&(h=1-h),n!==a&&(o=1-h,t.vars.repeatRefresh&&t._initted&&t.invalidate())),h!==o||i||t._zTime===Dt||!e&&t._zTime){if(t._initted||!y(t,e,i,r)){for(a=t._zTime,t._zTime=e||(r?Dt:0),r=r||e&&!a,t.ratio=h,t._from&&(h=1-h),t._time=0,t._tTime=u,r||Pe(t,"onStart"),s=t._pt;s;)s.r(h,s.d),s=s._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!r&&Pe(t,"onUpdate"),u&&t._repeat&&!r&&t.parent&&Pe(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===h&&(h&&V(t,1),r||(Pe(t,h?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),w.prototype.invalidate.call(this)},t.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?J(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,We&&!0!==We.vars.overwrite)._first||J(this),this.parent&&r!==this.timeline.totalDuration()&&L(this,this._dur*this.timeline._tDur/r,0,1),this}var i,s,n,a,o,h,l,u=this._targets,d=t?ye(t):u,c=this._ptLookup,t=this._pt;if((!e||"all"===e)&&function(t,e){for(var r=t.length,i=r===e.length;i&&r--&&t[r]===e[r];);return r<0}(u,d))return"all"===e&&(this._pt=0),J(this);for(i=this._op=this._op||[],"all"!==e&&(Wt(e)&&(o={},ce(e,function(t){return o[t]=1}),e=o),e=function(t,e){var r,i,s,n,t=t[0]?ue(t[0]).harness:0,a=t&&t.aliases;if(!a)return e;for(i in r=fe({},e),a)if(i in r)for(s=(n=a[i].split(",")).length;s--;)r[n[s]]=r[i];return r}(u,e)),l=u.length;l--;)if(~d.indexOf(u[l]))for(o in s=c[l],"all"===e?(i[l]=e,a=s,n={}):(n=i[l]=i[l]||{},a=e),a)(h=s&&s[o])&&("kill"in h.d&&!0!==h.d.kill(o)||f(this,h,"_pt"),delete s[o]),"all"!==n&&(n[o]=1);return this._initted&&!this._pt&&t&&J(this),this},s.to=function(t,e){return new s(t,e,arguments[2])},s.from=function(t,e){return new s(t,o(arguments,1))},s.delayedCall=function(t,e,r,i){return new s(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},s.fromTo=function(t,e,r){return new s(t,o(arguments,2))},s.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new s(t,e)},s.killTweensOf=function(t,e,r){return lt.killTweensOf(t,e,r)},s}(Ve);U(Qe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ce("staggerTo,staggerFrom,staggerFromTo",function(r){Qe[r]=function(){var t=new Be,e=ve.call(arguments,0);return e.splice("staggerFromTo"===r?5:4,0,0),t[r].apply(t,e)}});function Ze(t,e,r){return t.setAttribute(e,r)}function $e(t,e,r,i){i.mSet(t,e,i.m.call(i.tween,r,i.mt),i)}var Ke=function(t,e,r){return t[e]=r},Je=function(t,e,r){return t[e](r)},tr=function(t,e,r,i){return t[e](i.fp,r)},er=function(t,e){return d(t[e])?Je:Xt(t[e])&&t.setAttribute?Ze:Ke},rr=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},ir=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},sr=function(t,e){var r=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+i,r=r._next;i+=e.c}e.set(e.t,e.p,i,e)},nr=function(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},ar=function(t,e,r,i){for(var s,n=this._pt;n;)s=n._next,n.p===i&&n.modifier(t,e,r),n=s},or=function(t){for(var e,r,i=this._pt;i;)r=i._next,i.p===t&&!i.op||i.op===t?f(this,i,"_pt"):i.dep||(e=1),i=r;return!e},hr=function(t){for(var e,r,i,s,n=t._pt;n;){for(e=n._next,r=i;r&&r.pr>n.pr;)r=r._next;(n._prev=r?r._prev:s)?n._prev._next=n:i=n,(n._next=r)?r._prev=n:s=n,n=e}t._pt=i},lr=function(){function t(t,e,r,i,s,n,a,o,h){this.t=e,this.s=i,this.c=s,this.p=r,this.r=n||rr,this.d=a||this,this.set=o||Ke,this.pr=h||0,(this._next=t)&&(t._prev=this)}return t.prototype.modifier=function(t,e,r){this.mSet=this.mSet||this.set,this.set=$e,this.m=t,this.mt=r,this.tween=e},t}();ce(le+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return re[t]=1}),Jt.TweenMax=Jt.TweenLite=Qe,Jt.TimelineLite=Jt.TimelineMax=Be,lt=new Be({sortChildren:!1,defaults:Ft,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),kt.stringFilter=Ee;var ur={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach(function(t){var e=(t=!t.name&&t.default||t).name,r=d(t),i=e&&!r&&t.init?function(){this._props=[]}:t,s={init:M,render:nr,add:Xe,kill:or,modifier:ar,rawVars:0},r={targetTest:0,get:0,getSetter:er,aliases:{},register:0};if(Oe(),t!==i){if(ne[e])return;U(i,U(N(t,s),r)),fe(i.prototype,fe(s,N(t,r))),ne[i.prop=e]=i,t.targetTest&&(he.push(i),re[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}a(e,i),t.register&&t.register(cr,i,lr)})},timeline:function(t){return new Be(t)},getTweensOf:function(t,e){return lt.getTweensOf(t,e)},getProperty:function(i,t,e,r){Wt(i)&&(i=ye(i)[0]);var s=ue(i||{}).get,n=e?u:l;return"native"===e&&(e=""),i&&(t?n((ne[t]&&ne[t].get||s)(i,t,e,r)):function(t,e,r){return n((ne[t]&&ne[t].get||s)(i,t,e,r))})},quickSetter:function(r,e,i){if(1<(r=ye(r)).length){var s=r.map(function(t){return cr.quickSetter(t,e,i)}),n=s.length;return function(t){for(var e=n;e--;)s[e](t)}}r=r[0]||{};var a=ne[e],o=ue(r),h=o.harness&&(o.harness.aliases||{})[e]||e,l=a?function(t){var e=new a;dr._pt=0,e.init(r,i?t+i:t,dr,0,[r]),e.render(1,e),dr._pt&&nr(1,dr)}:o.set(r,h);return a?l:function(t){return l(r,h,i?t+i:t,o,1)}},isTweening:function(t){return 0<lt.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=ze(t.ease,Ft.ease)),p(Ft,t||{})},config:function(t){return p(kt,t||{})},registerEffect:function(t){var i=t.name,s=t.effect,e=t.plugins,n=t.defaults,t=t.extendTimeline;(e||"").split(",").forEach(function(t){return t&&!ne[t]&&!Jt[t]&&C()}),ae[i]=function(t,e,r){return s(ye(t),U(e||{},n),r)},t&&(Be.prototype[i]=function(t,e,r){return this.add(ae[i](t,R(e)?e:(r=e)&&{},this),r)})},registerEase:function(t,e){ke[t]=ze(e)},parseEase:function(t,e){return arguments.length?ze(t,e):ke},getById:function(t){return lt.getById(t)},exportRoot:function(t,e){var r,i,s=new Be(t=void 0===t?{}:t);for(s.smoothChildTiming=D(t.smoothChildTiming),lt.remove(s),s._dp=0,s._time=s._tTime=lt._time,r=lt._first;r;)i=r._next,!e&&!r._dur&&r instanceof Qe&&r.vars.onComplete===r._targets[0]||v(s,r,r._start-r._delay),r=i;return v(lt,s,0),s},utils:{wrap:Z,wrapYoyo:$,distribute:Y,random:q,snap:H,normalize:function(t,e,r){return we(t,e,0,1,r)},getUnit:xe,clamp:function(e,r,t){return W(t,function(t){return me(e,r,t)})},splitColor:et,toArray:ye,mapRange:we,pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(e,r){return function(t){return e(parseFloat(t))+(r||xe(t))}},interpolate:Te,shuffle:G},install:n,effects:ae,ticker:Ae,updateRoot:Be.updateRoot,plugins:ne,globalTimeline:lt,core:{PropTween:lr,globals:a,Tween:Qe,Timeline:Be,Animation:Ve,getCache:ue,_removeLinkedListItem:f,suppressOverwrites:function(t){return ht=t}}};ce("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return ur[t]=Qe[t]}),Ae.add(Be.updateRoot);var dr=ur.to({},{duration:0}),Te=function(t,s){return{name:t,rawVars:1,init:function(t,i,e){e._onInit=function(t){var e,r;if(Wt(i)&&(e={},ce(i,function(t){return e[t]=1}),i=e),s){for(r in e={},i)e[r]=s(i[r]);i=e}!function(t,e){var r,i,s,n=t._targets;for(r in e)for(i=n.length;i--;)(s=(s=t._ptLookup[i][r])&&s.d)&&(s=s._pt?function(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r}(s,r):s)&&s.modifier&&s.modifier(e[r],t,n[i],r)}(t,i)}}}},cr=ur.registerPlugin({name:"attr",init:function(t,e,r,i,s){var n,a;for(n in e)(a=this.add(t,"setAttribute",(t.getAttribute(n)||0)+"",e[n],i,s,0,0,n))&&(a.op=n),this._props.push(n)}},{name:"endArray",init:function(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r])}},Te("roundProps",j),Te("modifiers"),Te("snap",H))||ur;Qe.version=Be.version=cr.version="3.6.0",pt=1,s()&&Oe();ke.Power0,ke.Power1,ke.Power2,ke.Power3,ke.Power4,ke.Linear,ke.Quad,ke.Cubic,ke.Quart,ke.Quint,ke.Strong,ke.Elastic,ke.Back;var pr=ke.SteppedEase;ke.Bounce,ke.Sine,ke.Expo,ke.Circ},716:function(t,e,r){"use strict";r.d(e,{p8:function(){return ct}});function E(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function A(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function O(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function k(t,e){t=e.s+e.c*t,e.set(e.t,e.p,~~(t+(t<0?-.5:.5))+e.u,e)}function x(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function v(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function s(t,e,r){return t.style[e]=r}function n(t,e,r){return t.style.setProperty(e,r)}function a(t,e,r){return t._gsap[e]=r}function o(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r}function h(t,e,r,i,s){(t=t._gsap).scaleX=t.scaleY=r,t.renderTransform(s,t)}function l(t,e,r,i,s){(t=t._gsap)[e]=r,t.renderTransform(s,t)}function u(t,e){return(e=X.createElementNS?X.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):X.createElement(t)).style?e:X.createElement(t)}function F(t,e,r){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(y,"-$1").toLowerCase())||i.getPropertyValue(e)||!r&&F(t,rt(e)||e,1)||""}function L(){"undefined"!=typeof window&&window.document&&(g=(X=window.document).documentElement,_=u("div")||{style:{}},Y=u("div"),tt=rt(tt),et=tt+"Origin",_.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",j=!!rt("perspective"),G=1)}function d(t){var e,r=u("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,n=this.style.cssText;if(g.appendChild(r),r.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=d}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),g.removeChild(r),this.style.cssText=n,e}function i(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])}function w(e){var r;try{r=e.getBBox()}catch(t){r=d.call(e,!0)}return!(r=!(r&&(r.width||r.height)||e.getBBox===d)?d.call(e,!0):r)||r.width||r.x||r.y?r:{x:+i(e,["x","cx","x1"])||0,y:+i(e,["y","cy","y1"])||0,width:0,height:0}}function D(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!w(t))}function c(t,e){e&&(t=t.style,e in q&&e!==et&&(e=tt),t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(y,"-$1").toLowerCase())):t.removeAttribute(e))}function z(t,e,r,i,s,n){return n=new H.Fo(t._pt,e,r,0,1,n?v:x),(t._pt=n).b=i,n.e=s,t._props.push(r),n}function I(t,e,r,i){var s,n=parseFloat(r)||0,a=(r+"").trim().substr((n+"").length)||"px",o=_.style,h=T.test(e),l="svg"===t.tagName.toLowerCase(),u=(l?"client":"offset")+(h?"Width":"Height"),d="px"===i,c="%"===i;return i===a||!n||R[i]||R[a]?n:("px"===a||d||(n=I(t,e,r,"px")),r=t.getCTM&&D(t),!c&&"%"!==a||!q[e]&&!~e.indexOf("adius")?(o[h?"width":"height"]=100+(d?a:i),i=~e.indexOf("adius")||"em"===i&&t.appendChild&&!l?t:t.parentNode,(l=(i=!(i=r?(t.ownerSVGElement||{}).parentNode:i)||i===X||!i.appendChild?X.body:i)._gsap)&&c&&l.width&&h&&l.time===H.xr.time?(0,H.Pr)(n/l.width*100):(!c&&"%"!==a||(o.position=F(t,"position")),i===t&&(o.position="static"),i.appendChild(_),s=_[u],i.removeChild(_),o.position="absolute",h&&c&&((l=(0,H.DY)(i)).time=H.xr.time,l.width=i[u]),(0,H.Pr)(d?s*n/100:s&&n?100/s*n:0))):(s=r?t.getBBox()[h?"width":"height"]:t[u],(0,H.Pr)(c?n/s*100:n/100*s)))}function U(t,e,r,i){var s;return G||L(),e in J&&"transform"!==e&&~(e=J[e]).indexOf(",")&&(e=e.split(",")[0]),q[e]&&"transform"!==e?(s=ot(t,i),s="transformOrigin"!==e?s[e]:ht(F(t,et))+" "+s.zOrigin+"px"):(s=t.style[e])&&"auto"!==s&&!i&&!~(s+"").indexOf("calc(")||(s=st[e]&&st[e](t,e,r)||F(t,e)||(0,H.Ok)(t,e)||("opacity"===e?1:0)),r&&!~(s+"").trim().indexOf(" ")?I(t,e,s,r)+r:s}function N(t,e,r,i){var s;r&&"none"!==r||((n=(s=rt(e,t,1))&&F(t,s,1))&&n!==r?(e=s,r=n):"borderColor"===e&&(r=F(t,"borderTopColor")));var n,a,o,h,l,u,d,c,p,f,g=new H.Fo(this._pt,t.style,e,0,1,H.Ks),_=0,m=0;if(g.b=r,g.e=i,r+="","auto"===(i+="")&&(t.style[e]=i,i=F(t,e)||i,t.style[e]=r),(0,H.kr)(n=[r,i]),i=n[1],a=(r=n[0]).match(H.d4)||[],(i.match(H.d4)||[]).length){for(;u=H.d4.exec(i);)c=u[0],d=i.substring(_,u.index),h?h=(h+1)%5:"rgba("!==d.substr(-5)&&"hsla("!==d.substr(-5)||(h=1),c!==(l=a[m++]||"")&&(o=parseFloat(l)||0,p=l.substr((o+"").length),(f="="===c.charAt(1)?+(c.charAt(0)+"1"):0)&&(c=c.substr(2)),u=parseFloat(c),c=c.substr((u+"").length),_=H.d4.lastIndex-c.length,c||(c=c||H.Fc.units[e]||p,_===i.length&&(i+=c,g.e+=c)),p!==c&&(o=I(t,e,l,c)||0),g._pt={_next:g._pt,p:d||1===m?d:",",s:o,c:f?f*u:u-o,m:h&&h<4||"zIndex"===e?Math.round:0});g.c=_<i.length?i.substring(_,i.length):""}else g.r="display"===e&&"none"===i?v:x;return H.bQ.test(i)&&(g.e=0),this._pt=g}function p(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,i,s,n=e.t,a=n.style,o=e.u,e=n._gsap;if("all"===o||!0===o)a.cssText="",i=1;else for(s=(o=o.split(",")).length;-1<--s;)r=o[s],q[r]&&(i=1,r="transformOrigin"===r?et:tt),c(n,r);i&&(c(n,tt),e&&(e.svg&&n.removeAttribute("transform"),ot(n,1),e.uncache=1))}}function V(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function f(t){return t=F(t,tt),V(t)?nt:t.substr(7).match(H.SI).map(H.Pr)}function B(t,e){var r,i,s,n=t._gsap||(0,H.DY)(t),a=t.style,o=f(t);return n.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?nt:o:(o!==nt||t.offsetParent||t===g||n.svg||(i=a.display,a.display="block",(n=t.parentNode)&&t.offsetParent||(s=1,r=t.nextSibling,g.appendChild(t)),o=f(t),i?a.display=i:c(t,"display"),s&&(r?n.insertBefore(t,r):n?n.appendChild(t):g.removeChild(t))),e&&6<o.length?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)}function W(t,e,r,i,s,n){var a,o,h=t._gsap,l=s||B(t,!0),u=h.xOrigin||0,d=h.yOrigin||0,c=h.xOffset||0,p=h.yOffset||0,f=l[0],g=l[1],_=l[2],m=l[3],x=l[4],v=l[5],y=e.split(" "),b=parseFloat(y[0])||0,s=parseFloat(y[1])||0;r?l!==nt&&(a=f*m-g*_)&&(o=b*(-g/a)+s*(f/a)-(f*v-g*x)/a,b=b*(m/a)+s*(-_/a)+(_*v-m*x)/a,s=o):(b=(o=w(t)).x+(~y[0].indexOf("%")?b/100*o.width:b),s=o.y+(~(y[1]||y[0]).indexOf("%")?s/100*o.height:s)),i||!1!==i&&h.smooth?(h.xOffset=c+((x=b-u)*f+(v=s-d)*_)-x,h.yOffset=p+(x*g+v*m)-v):h.xOffset=h.yOffset=0,h.xOrigin=b,h.yOrigin=s,h.smooth=!!i,h.origin=e,h.originIsAbsolute=!!r,t.style[et]="0px 0px",n&&(z(n,h,"xOrigin",u,b),z(n,h,"yOrigin",d,s),z(n,h,"xOffset",c,h.xOffset),z(n,h,"yOffset",p,h.yOffset)),t.setAttribute("data-svg-origin",b+" "+s)}function b(t,e,r){var i=(0,H.Wy)(e);return(0,H.Pr)(parseFloat(e)+parseFloat(I(t,"x",r+"px",i)))+i}var X,g,G,_,Y,m,j,H=r(317),q={},Q=180/Math.PI,Z=Math.PI/180,$=Math.atan2,y=/([A-Z])/g,T=/(?:left|right|width|margin|padding|x)/i,K=/[\s,\(]\S/,J={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},tt="transform",et=tt+"Origin",P="O,Moz,ms,Ms,Webkit".split(","),rt=function(t,e,r){var i=(e||_).style,s=5;if(t in i&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(P[s]+t in i););return s<0?null:(3===s?"ms":0<=s?P[s]:"")+t},R={deg:1,rad:1,turn:1},it={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},st={clearProps:function(t,e,r,i,s){if("isFromStart"!==s.data){e=t._pt=new H.Fo(t._pt,e,r,0,0,p);return e.u=i,e.pr=-10,e.tween=s,t._props.push(r),1}}},nt=[1,0,0,1,0,0],at={},ot=function(t,e){var r=t._gsap||new H.l1(t);if("x"in r&&!e&&!r.uncache)return r;var i,s,n,a,o,h,l,u,d,c,p,f,g,_,m,x,v,y,b,w,T,P,R,S,C,M=t.style,E=r.scaleX<0,A=F(t,et)||"0",O=i=s=a=o=h=l=u=0,k=n=1;return r.svg=!(!t.getCTM||!D(t)),d=B(t,r.svg),r.svg&&(y=!r.uncache&&t.getAttribute("data-svg-origin"),W(t,y||A,!!y||r.originIsAbsolute,!1!==r.smooth,d)),P=r.xOrigin||0,S=r.yOrigin||0,d!==nt&&(f=d[0],g=d[1],_=d[2],m=d[3],O=x=d[4],i=v=d[5],6===d.length?(k=Math.sqrt(f*f+g*g),n=Math.sqrt(m*m+_*_),a=f||g?$(g,f)*Q:0,(l=_||m?$(_,m)*Q+a:0)&&(n*=Math.cos(l*Z)),r.svg&&(O-=P-(P*f+S*_),i-=S-(P*g+S*m))):(C=d[6],R=d[7],T=d[8],e=d[9],P=d[10],S=d[11],O=d[12],i=d[13],s=d[14],o=(d=$(C,P))*Q,d&&(y=x*(c=Math.cos(-d))+T*(p=Math.sin(-d)),b=v*c+e*p,w=C*c+P*p,T=x*-p+T*c,e=v*-p+e*c,P=C*-p+P*c,S=R*-p+S*c,x=y,v=b,C=w),h=(d=$(-_,P))*Q,d&&(c=Math.cos(-d),S=m*(p=Math.sin(-d))+S*c,f=y=f*c-T*p,g=b=g*c-e*p,_=w=_*c-P*p),a=(d=$(g,f))*Q,d&&(y=f*(c=Math.cos(d))+g*(p=Math.sin(d)),b=x*c+v*p,g=g*c-f*p,v=v*c-x*p,f=y,x=b),o&&359.9<Math.abs(o)+Math.abs(a)&&(o=a=0,h=180-h),k=(0,H.Pr)(Math.sqrt(f*f+g*g+_*_)),n=(0,H.Pr)(Math.sqrt(v*v+C*C)),d=$(x,v),l=2e-4<Math.abs(d)?d*Q:0,u=S?1/(S<0?-S:S):0),r.svg&&(y=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!V(F(t,tt)),y&&t.setAttribute("transform",y))),90<Math.abs(l)&&Math.abs(l)<270&&(E?(k*=-1,l+=a<=0?180:-180,a+=a<=0?180:-180):(n*=-1,l+=l<=0?180:-180)),r.x=O-((r.xPercent=O&&(r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-O)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+"px",r.y=i-((r.yPercent=i&&(r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+"px",r.z=s+"px",r.scaleX=(0,H.Pr)(k),r.scaleY=(0,H.Pr)(n),r.rotation=(0,H.Pr)(a)+"deg",r.rotationX=(0,H.Pr)(o)+"deg",r.rotationY=(0,H.Pr)(h)+"deg",r.skewX=l+"deg",r.skewY="0deg",r.transformPerspective=u+"px",(r.zOrigin=parseFloat(A.split(" ")[2])||0)&&(M[et]=ht(A)),r.xOffset=r.yOffset=0,r.force3D=H.Fc.force3D,r.renderTransform=r.svg?dt:j?ut:lt,r.uncache=0,r},ht=function(t){return(t=t.split(" "))[0]+" "+t[1]},lt=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ut(t,e)},S="0deg",ut=function(t,e){var r=e||this,i=r.xPercent,s=r.yPercent,n=r.x,a=r.y,o=r.z,h=r.rotation,l=r.rotationY,u=r.rotationX,d=r.skewX,c=r.skewY,p=r.scaleX,f=r.scaleY,g=r.transformPerspective,_=r.force3D,m=r.target,x=r.zOrigin,v="",y="auto"===_&&t&&1!==t||!0===_;!x||u===S&&l===S||(e=parseFloat(l)*Z,r=Math.sin(e),t=Math.cos(e),e=parseFloat(u)*Z,_=Math.cos(e),n=b(m,n,r*_*-x),a=b(m,a,-Math.sin(e)*-x),o=b(m,o,t*_*-x+x)),"0px"!==g&&(v+="perspective("+g+") "),(i||s)&&(v+="translate("+i+"%, "+s+"%) "),!y&&"0px"===n&&"0px"===a&&"0px"===o||(v+="0px"!==o||y?"translate3d("+n+", "+a+", "+o+") ":"translate("+n+", "+a+") "),h!==S&&(v+="rotate("+h+") "),l!==S&&(v+="rotateY("+l+") "),u!==S&&(v+="rotateX("+u+") "),d===S&&c===S||(v+="skew("+d+", "+c+") "),1===p&&1===f||(v+="scale("+p+", "+f+") "),m.style[tt]=v||"translate(0, 0)"},dt=function(t,e){var r,i,s,n,a,o=e||this,h=o.xPercent,l=o.yPercent,u=o.x,d=o.y,c=o.rotation,p=o.skewX,f=o.skewY,g=o.scaleX,_=o.scaleY,m=o.target,x=o.xOrigin,v=o.yOrigin,y=o.xOffset,b=o.yOffset,w=o.forceCSS,e=parseFloat(u),o=parseFloat(d),c=parseFloat(c),p=parseFloat(p);(f=parseFloat(f))&&(p+=f=parseFloat(f),c+=f),c||p?(c*=Z,p*=Z,r=Math.cos(c)*g,i=Math.sin(c)*g,s=Math.sin(c-p)*-_,n=Math.cos(c-p)*_,p&&(f*=Z,a=Math.tan(p-f),s*=a=Math.sqrt(1+a*a),n*=a,f&&(a=Math.tan(f),r*=a=Math.sqrt(1+a*a),i*=a)),r=(0,H.Pr)(r),i=(0,H.Pr)(i),s=(0,H.Pr)(s),n=(0,H.Pr)(n)):(r=g,n=_,i=s=0),(e&&!~(u+"").indexOf("px")||o&&!~(d+"").indexOf("px"))&&(e=I(m,"x",u,"px"),o=I(m,"y",d,"px")),(x||v||y||b)&&(e=(0,H.Pr)(e+x-(x*r+v*s)+y),o=(0,H.Pr)(o+v-(x*i+v*n)+b)),(h||l)&&(a=m.getBBox(),e=(0,H.Pr)(e+h/100*a.width),o=(0,H.Pr)(o+l/100*a.height)),m.setAttribute("transform",a="matrix("+r+","+i+","+s+","+n+","+e+","+o+")"),w&&(m.style[tt]=a)};(0,H.fS)("padding,margin,Width,Radius",function(e,r){var t="Top",i="Right",s="Bottom",n="Left",o=(r<3?[t,i,s,n]:[t+n,t+i,s+i,s+n]).map(function(t){return r<2?e+t:"border"+t+e});st[1<r?"border"+e:e]=function(e,t,r,i,s){var n,a;if(arguments.length<4)return n=o.map(function(t){return U(e,t,r)}),5===(a=n.join(" ")).split(n[0]).length?n[0]:a;n=(i+"").split(" "),a={},o.forEach(function(t,e){return a[t]=n[e]=n[e]||n[(e-1)/2|0]}),e.init(t,a,s)}});var C,M={name:"css",register:L,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,i,s){var n,a,o,h,l,u,d,c,p,f,g,_,m,x,v,y,b,w,T,P,R,S=this._props,C=t.style,M=r.vars.startAt;for(l in G||L(),e)if("autoRound"!==l&&(a=e[l],!H.$i[l]||!(0,H.if)(l,e,r,i,t,s)))if(y=st[l],"string"===(b="function"===(b=typeof a)?typeof(a=a.call(r,i,t,s)):b)&&~a.indexOf("random(")&&(a=(0,H.UI)(a)),y)y(this,t,l,a,r)&&(m=1);else if("--"===l.substr(0,2))n=(getComputedStyle(t).getPropertyValue(l)+"").trim(),a+="",u=(0,H.Wy)(n),(d=(0,H.Wy)(a))?u!==d&&(n=I(t,l,n,d)+d):u&&(a+=u),this.add(C,"setProperty",n,a,i,s,0,0,l);else if("undefined"!==b){if(M&&l in M?(n="function"==typeof M[l]?M[l].call(r,i,t,s):M[l],l in H.Fc.units&&!(0,H.Wy)(n)&&(n+=H.Fc.units[l]),"="===(n+"").charAt(1)&&(n=U(t,l))):n=U(t,l),h=parseFloat(n),(c="string"===b&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),o=parseFloat(a),l in J&&("autoAlpha"===l&&(1===h&&"hidden"===U(t,"visibility")&&o&&(h=0),z(this,C,"visibility",h?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==l&&"transform"!==l&&~(l=J[l]).indexOf(",")&&(l=l.split(",")[0])),p=l in q)if(f||((g=t._gsap).renderTransform&&!e.parseTransform||ot(t,e.parseTransform),_=!1!==e.smoothOrigin&&g.smooth,(f=this._pt=new H.Fo(this._pt,C,tt,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===l)this._pt=new H.Fo(this._pt,g,"scaleY",g.scaleY,c?c*o:o-g.scaleY),S.push("scaleY",l),l+="X";else{if("transformOrigin"===l){R=P=T=void 0,T=(w=a).split(" "),P=T[0],R=T[1]||"50%","top"!==P&&"bottom"!==P&&"left"!==R&&"right"!==R||(w=P,P=R,R=w),T[0]=it[P]||P,T[1]=it[R]||R,a=T.join(" "),g.svg?W(t,a,0,_,0,this):((d=parseFloat(a.split(" ")[2])||0)!==g.zOrigin&&z(this,g,"zOrigin",g.zOrigin,d),z(this,C,l,ht(n),ht(a)));continue}if("svgOrigin"===l){W(t,a,1,_,0,this);continue}if(l in at){x=this,v=g,y=l,b=h,w=a,P=c,R=(T=T=R=void 0,H.r9)(w),T=parseFloat(w)*(R&&~w.indexOf("rad")?Q:1),T=b+(P=P?T*P:T-b)+"deg",R&&("short"===(w=w.split("_")[1])&&(P%=360)!==P%180&&(P+=P<0?360:-360),"cw"===w&&P<0?P=(P+36e9)%360-360*~~(P/360):"ccw"===w&&0<P&&(P=(P-36e9)%360-360*~~(P/360))),x._pt=P=new H.Fo(x._pt,v,y,b,P,A),P.e=T,P.u="deg",x._props.push(y);continue}if("smoothOrigin"===l){z(this,g,"smooth",g.smooth,a);continue}if("force3D"===l){g[l]=a;continue}if("transform"===l){!function(t,e,r){var i,s,n,a,o,h=Y.style,l=r._gsap;for(s in h.cssText=getComputedStyle(r).cssText+";position:absolute;display:block;",h[tt]=e,X.body.appendChild(Y),i=ot(Y,1),q)(n=l[s])!==(a=i[s])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(s)<0&&(n=(0,H.Wy)(n)!==(o=(0,H.Wy)(a))?I(r,s,n,o):parseFloat(n),a=parseFloat(a),t._pt=new H.Fo(t._pt,l,s,n,a-n,E),t._pt.u=o||0,t._props.push(s));X.body.removeChild(Y)}(this,a,t);continue}}else l in C||(l=rt(l)||l);if(p||(o||0===o)&&(h||0===h)&&!K.test(a)&&l in C)o=o||0,(u=(n+"").substr((h+"").length))!==(d=(0,H.Wy)(a)||(l in H.Fc.units?H.Fc.units[l]:u))&&(h=I(t,l,n,d)),this._pt=new H.Fo(this._pt,p?g:C,l,h,c?c*o:o-h,p||"px"!==d&&"zIndex"!==l||!1===e.autoRound?E:k),this._pt.u=d||0,u!==d&&(this._pt.b=n,this._pt.r=O);else if(l in C)N.call(this,t,l,n,a);else{if(!(l in t)){(0,H.lC)(l,a);continue}this.add(t,l,t[l],a,i,s)}S.push(l)}m&&(0,H.JV)(this)},get:U,aliases:J,getSetter:function(t,e,r){var i=J[e];return(e=i&&i.indexOf(",")<0?i:e)in q&&e!==et&&(t._gsap.x||U(t,"x"))?r&&m===r?"scale"===e?o:a:(m=r||{})&&("scale"===e?h:l):t.style&&!(0,H.m2)(t.style[e])?s:~e.indexOf("-")?n:(0,H.S5)(t,e)},core:{_removeProperty:c,_getMatrix:B}};H.p8.utils.checkPrefix=rt,e="x,y,z,scale,scaleX,scaleY,xPercent,yPercent",r="rotation,rotationX,rotationY,skewX,skewY",C=(0,H.fS)(e+","+r+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){q[t]=1}),(0,H.fS)(r,function(t){H.Fc.units[t]="deg",at[t]=1}),J[C[13]]=e+","+r,(0,H.fS)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){t=t.split(":");J[t[1]]=C[t[0]]}),(0,H.fS)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){H.Fc.units[t]="px"}),H.p8.registerPlugin(M);var ct=H.p8.registerPlugin(M)||H.p8;ct.core.Tween}}]);